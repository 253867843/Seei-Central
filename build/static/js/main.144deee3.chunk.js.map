{"version":3,"sources":["images/logo.png","images/poster.jpg","images/tube.png","component/groupEncodeSidebar/img/poster.jpg","utils/codeMessage.js","utils/request.js","utils/url.js","redux/vcode.redux.js","redux/users.redux.js","redux/auth.redux.js","redux/app.redux.js","redux/groups.redux.js","redux/encode.redux.js","redux/wowza.redux.js","redux/wstream.redux.js","utils/utils.js","redux/ui.redux.js","redux/test.redux.js","reducers.js","configureStore.js","component/userInfo/style.js","component/userInfo/userInfo.js","component/filterSideBar/style.js","component/filterSideBar/filterSideBar.js","component/modal/modal.js","redux/index.js","component/splayer/splayer.js","component/groupEncodeSidebar/style.js","component/groupEncodeSidebar/groupEncodeSidebar.js","component/groupWowzaSidebar/style.js","component/groupWowzaSidebar/groupWowzaSidebar.js","component/devicePage/style.js","component/devicePage/devicePage.js","container/device/style.js","container/device/device.js","container/groups/style.js","container/groups/groups.js","container/server/style.js","container/server/server.js","container/home/style.js","container/home/home.js","container/login/style.js","container/login/login.js","component/dashboard/dashboard.js","utils/cssConfig.js","component/groupselect/style.js","apiPrefix.js","iconFont/iconfont.js","component/groupselect/groupselect.js","component/modalform/modalform.js","utils/formFieldList.js","component/nogrouppage/style.js","component/nogrouppage/nogrouppage.js","component/unitnavbar/style.js","component/unitnavbar/unitnavbar.js","component/modeldelform/modeldelform.js","component/modalmatchform/modalmatchform.js","component/unitoperator/style.js","context/unit-operator-context.js","component/unitoperator/unitoperator.js","component/gridtable/style.js","component/gridtable/gridtable.js","component/gridcard/style.js","component/gridcard/gridcard.js","component/unitlist/style.js","selectors/listselector.js","selectors/groupsingleselector.js","component/unitlist/unitlist.js","component/unitmultiview/style.js","component/unitmultiview/unitmultiview.js","component/unitfileupload/style.js","component/unitfileupload/unitfileupload.js","component/unitmap/style.js","component/unitmap/unitmap.js","component/contentsidebar/style.js","component/contentsidebar/contentsidebar.js","component/unit/style.js","selectors/groupselector.js","component/unit/unit.js","component/content/style.js","component/content/content.js","container/homev2/style.js","container/homev2/homev2.js","container/notfound/notFound.js","component/authrouter/authrouter.js","container/testRedux/testRedux.js","redux/rcform.redux.js","container/form/form.js","container/newForm/newForm.js","container/out/out.js","container/page403/page403.js","container/rcform/rcform.js","container/page404/page404.js","container/page500/page500.js","container/pageuser/pageuser.js","container/test/axiosfilter.js","config.js","index.js"],"names":["module","exports","httpMessage","401","403","404","500","getAxios","url","dispatch","axios","get","then","response","handleResponse","catch","error","console","log","handleErrorResponse","postAxios","data","post","isEmpty","code","info","vcode","codeMessage","type","title","notification","message","description","push","status","errorText","statusText","defaultState","fromJS","verifyCodeImg","types","actions","fetchVerifyCode","appActions","setError","convertBlobToBase64","base64","fetchVerifyCodeSuccess","a","blob","blobToBase64","Promise","resolve","reject","fileReader","FileReader","onload","e","target","result","readAsDataURL","onerror","Error","state","action","merge","authTypes","LOGOUT","getVerifyCodeImg","getIn","fetchUserInfo","startRequest","finishRequest","convertUserInfoToPlain","username","groups","groupsIds","fetchUserInfoSuccess","userInfo","name","groupList","groupsById","forEach","item","group_id","LOGIN","MODIFY_PASSWORD","login","user","password","verifyCode","convertLoginInfoToPlain","loginSuccess","vcodeActions","logout","logoutSuccess","modifyPassword","old_password","new_password","usersTypes","getLoggedUser","requestQuantity","redirectTo","removeError","getRequestQuantity","getError","getRedirectTo","createGroup","convertCreateGroupToPlain","groupItem","encodes","encodeIds","wowzas","wowzaIds","createGroupSuccess","modifyGroup","convertUpdateGroupToPlain","modifyGroupSuccess","fetchGroupInfo","group","convertSingleGroupToPlain","fetchGroupInfoSuccess","deleteGroup","convertDeleteGroupToPlain","deleteGroupSuccess","matchGroup","convertMatchGroupToPlain","matchGroupSuccess","startPushStream","encodeDevice_id","recvStreamService_id","startPushStreamSuccess","finishPushStream","finishPushStreamSuccess","deleteAllGroup","deleteAllGroupSuccess","dState","eMessage","encodeDevices","recvStreamServices","encodesById","wowzaById","id","wowzasById","reducer","combineReducers","byId","Immutable","delete","set","allIds","List","unshift","indexOf","getGroupById","getGroupIds","getGroupMatchStatus","getGroupStreamStatus","deleteEncodes","deleteAll","groupsTypes","byGroup","getEncodeIdsByGroup","groupId","getEncodeById","deleteWowzaIds","getWowzaIdsByGroup","getWowzaById","fetchWowzaInfo","recvStreamServices_id","convertSingleWowzaToPlain","wowzasInfo","fetchWowzaInfoSuccess","recvStreamServicesStatusInfo","setLocalStorage","key","value","localStorage","setItem","getLocalStorage","getItem","removeLocalStorage","removeItem","composeData","e_domain","e_port","e_auth","e_recvServicePort","w_domain","w_port","domain","port","auth","recvServicePort","getRouteParams","namelist","targetId","pathname","targetName","rootUrl","menu","smenu","selectedMenuItem","selectedUnitItem","first","index","findIndex","v","isRememberAccount","deviceStatus","deviceType","selectedItem","openRememberAccount","closeRememberAccount","setDeviceStatus","dStatus","clearDeviceStatus","setDeviceType","dType","clearDeviceType","setSelectedItem","setSelectedMenuItem","current","setSelectedUnitItem","getLoginSelectedStatus","length","getRefreshSelectedStatus","groupIds","getOperateSelectedStatus","userTypes","getDeviceStatus","getDeviceType","getSelectedItem","getSelectedMenuItem","getTest","res","postTest","createRootReducer","history","router","connectRouter","app","wstream","ui","test","createBrowserHistory","NavbarSelect","styled","div","SelectLayout","AvatarLayout","RegisterContentLayout","RegisterArea","Title","AddGroupLayout","UserInfo","withRouter","visible","selectText","handleChange","props","onSelectedItem","showModal","setState","confirm","content","onOk","browserCookies","erase","onLogout","onCancel","refreshGroup","window","location","href","getCurrentGroupData","onDeleteGroup","groupNameList","handleCancel","handleCreate","form","createFormRef","validateFields","err","values","resetFields","requestData","onCreateNewGroup","saveCreateFormRef","formRef","this","GroupSelectForm","onChange","defaultSelectedItem","size","style","border","background","substring","toUpperCase","cursor","onClick","GroupCreateForm","wrappedComponentRef","onCreate","React","Component","create","getFieldDecorator","setFieldsValue","width","notFoundContent","map","Option","ModalTitle","okText","cancelText","mast","className","color","spinning","tip","maxHeight","layout","labelCol","xs","span","sm","offset","wrapperCol","Item","label","lineHeight","textAlign","rules","required","placeholder","initialValue","FilterLayout","FilterExpandLayout","FilterTitle","FilterLabel","IconFont","createFromIconfontCN","scriptUrl","FilterSideBar","rawDeviceStatus","rawDeviceType","onSetDeviceStatus","onSetDeviceType","onClearDeviceStatus","onClearDeviceType","height","fontSize","fontWeight","marginLeft","FilterCheckBoxForm","filterList","text","defaultChecked","handleChecked","clearFields","padding","Group","paddingLeft","Modal","openNotification","duration","container","document","createElement","body","appendChild","removeChild","ReactDOM","createPortal","connect","bindActionCreators","getGroupNameList","getEncodesListByGroupId","getWowzasListByGroupId","getSingleGroupByGroupId","getGroupListByGroupId","getSingleGroupWowzaStreamInfo","currentSelectedItem","allWowzaIds","getWowzaStreamInfoByGroup","getWowzaInfoById","getSingleGroupBySelectedItem","getSelectedItemToUse","getDetaultGroup","useSelectedItem","getSelectedMenuItemToUse","currentSelectedMenuItem","getUseRedirectTo","useSelectedMenuItem","SPlayer","player","createRef","data-setup","poster","posters","ref","autoPlay","controls","eventOn","videoNode","video","videojs","sources","src","Object","keys","on","dispose","defaultProps","EncodesDetails","Header","ScrollArea","VideoDiv","Setting","SettingLayout","GroupEncodeSidebar","handleEventOn","play","pause","saveModifyGroupFormRef","modifyGroupFormRef","onModify","item_id","theme","marginRight","rotate","require","ModifyGroupForm","WowzasDetails","WowzaInfo","WowzaInfoLayout","GroupWowzaSidebar","wowzaStreamInfo","rawWowzaStreamInfo","toJS","bytesIn","bytesInRate","totalConnections","bytesOut","bytesOutRate","onFetchWowzaInfo","mask","UnitDetailsLayout","UnitDetailsHeaderGrid","UnitDetailsHeaderUnit","UnitDetailsPageContent","ContentGrid","GridPosition","MenuButton","BodyLayout","ContentDivider","ContentSidebar","DevicePage","addComponentToArray","array","component","getColumnList","dataIndex","render","record","match","singleGroup","encodesWrapper","wowzasWrapper","mergeData","columns","dataSource","pagination","rowKey","onRow","event","path","from","to","ResultWrapper","Device","icon","groupsActions","wstreamActions","MainLayout","Header_Divider","Header_Hidden","Content_Group_Info","Content_Group_Divider","Content_Group_Match","Content_Sidebar","GroupsDetail","GroupsDetailHeader","GroupDetailInfo","GroupDetailInfoLayout","GroupDetailMatch","GroupDetailMatchLayout","ButtonMatch","Groups","disabled","groupMatch","completeGroup","pushStream","groupStreamStatus","groupMatchStatus","rawCompleteGroup","groupInfoArray","undefined","is","SpinWrapper","Server","HeaderLogo","HeaderNavbar","PageContent","UnitContent","Home","handleClick","beforeunload","useDefaultGroup","useRedirectTo","rawGroupNameList","rawUser","rawSingleGroup","alt","mode","selectedKeys","onDeleteAllGroup","exact","addEventListener","prevProps","prevState","snapshot","removeEventListener","PureComponent","usersActions","uiActions","authActions","LoginMain","LoginWrapper","tube","LoginContainer","Logo","Login","confirmDirty","innerHeight","saveFormRef","handleSubmit","preventDefault","checked","updateVCode","marginTop","LoginInputForm","onSubmit","onUpdateVCode","_this","onresize","prefix","allowClear","Password","display","verticalAlign","htmlType","block","WrappedLoginForm","dashboard","groupNameListRaw","rootColor","rootFontSize","GroupSelectLayout","MainGroupSelect","UserMenu","baseURL","secondaryUrl","GroupSelect","apiPrefix","toggleUserMenu","showUserMenu","getDropDownMenu","itemLayout","split","renderItem","Text","handleListItemClick","showMenuModal","modalName","dropDownMenuListItem","account","resEvent","support","about","news","setting","nameList","nameListRaw","userRaw","defaultGroup","grouplist","placement","trigger","overlayClassName","UserDropDownListForm","currentModal","ModalForm","filter","startsWith","inputFormValue","expand","getFields","defaultRecord","formList","count","children","formItemLayout","i","field","handleReset","toggle","wrapClassName","gutter","createFormList","updateEncodeList","updateWowzaList","NoGroupLayout","GenericLayout","LocalHeaderGrid","LocalPageContent","PageContentGrid","ServicesArea","NoServicesText","NoGroupPage","modalInstance","extra","modal","formValue","ButtonLayout","TitleLayout","SearchLayout","SearchBar","SearchBox","Unitnavbar","buttonStyle","Button","ModelDelForm","showDelModal","ModalMatchForm","handleMatch","matchFormRef","showMatchModal","saveMatchFormref","GroupMatchForm","onMatch","okButtonProps","MarginLeftAuto","UnitOperatorContext","createContext","UnitOperator","delModalInstance","modalMatchInstance","Consumer","GridTableLayout","TableBg","GridTable","rowId","setTableRowClassName","onClickTableRow","groupColumns","unitList","rowClassName","nextProps","nextState","nextContext","currentList","nextList","CardSideBar","UnitDetails","AutoPlaceHolder","IconButton","Location","LocationLayout","StreamVideo","StreamVideoDefaultImg","StatusButtonLayout","InfoLayout","TabDetails","Global","Picture","Upload","File","GridCard","showUpdateModal","toggleButtonStatus","currentStatus","pushFlow","loading","encode","wowza","statusCode","offline","ready","connection","streaming","TabPane","tabList","tab","ret","UnitListLayout","UnitListPageContentTable","Divider","UnitListPageContentCard","encodesFilterSelector","createSelector","filterFunc","wowzaFilterSelector","makeUnitList","encodesFilter","wowzasFilter","encodesFilterRaw","wowzasFileterRaw","getGroupByIdSelector","makeSingleGroup","UnitList","retainData","filteRet","hasOwnProperty","Array","of","_","pick","assign","getUnitList","getSingleGroup","UnitMultiViewLayout","UnitMultiView","hasSearch","UnitUploadLayout","UnitFileUpload","UnitMapLayout","UnitMap","SideBar","UnitFilterPin","FilterSubTab","FilterFieldSet","FilterColFormLabel","FilterSubTitle","CustomControlsStacked","ResetButton","Main","ContentSideBar","toggleSideBar","collapse","handleFormChange","filterStateList","filterTypeList","deviceStatusRaw","deviceTypeRaw","checkBoxFilterList","resetText","fieldName","checkBoxList","resetFunc","CustomCheckGroupForm","onFieldsChange","changedFields","mapPropsToFields","createFormField","onValuesChange","ThirdDashBoardLayout","UnitLayout","UnitNavBarHeader","UnitNavBarHeaderLeft","UnitNavBarHeaderRight","UnitPageContent","getGroupIdsSelector","makeGroupNameList","Unit","hasFilter","Provider","ContentLarge","UnitDetailLayout","Files","Manage","Service","HomeV2","getNavBarMenu","params","menuList","currentGroupId","currentGroup","groupActions","NotFound","AuthRouter","usersAction","TestRedux","sendRequestSuccess01","sendRequestSuccess02","sendRequestFailGet403","sendRequestFailGet404","sendRequestFailGet500","sendRequestFailPost","streamStatus","testActions","email","setEmail","payload","getEmail","Form","getFieldProps","errors","getFieldError","join","NewFormWrapped","createForm","formState","fields","rcformActions","Out","Page403","alignItems","justifyContent","subTitle","Page404","PageUser","pending","CancelToken","getRequestIdentify","config","isRequest","method","encodeURIComponent","JSON","stringify","removePending","defaults","timeout","withCredentials","interceptors","request","use","NProgress","start","cancelToken","c","responseType","emulateJSON","done","preloadedState","store","createStore","composeWithDevTools","applyMiddleware","routerMiddleware","thunk","AppProvider","DashBoard","Page500","getElementById"],"mappings":"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","file":"static/js/main.144deee3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.b1ba21d8.png\";","module.exports = __webpack_public_path__ + \"static/media/poster.b132fc33.jpg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0YTdkODFmZS04OWI1LTQ4NGYtOTJhZC03NmU5ODc0NTc1ZjUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzgzQzVDMjRDRjY2MTFFN0JDQTg5REYxQ0Q5MUU4RjMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzgzQzVDMjNDRjY2MTFFN0JDQTg5REYxQ0Q5MUU4RjMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTA5YWNjNDktMjU0OC1mZDQwLTg5YzgtMTZiNzBkMzUxZjBkIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6MDRiZjY2MDItZjU5NS0xMWU1LTg2YTgtYmJkNzgyODIxYmY3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Cjm9CwAAAA9JREFUeNpikpKUfAEQYAAB3AE3DppSQwAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/poster.b132fc33.jpg\";","export default {\n  //通用步骤\n  \"-16000\": {\n    \"type\": \"error\",\t\t//警告:\"warning\"  错误:\"error\"  为空则不显示\n    \"title\": \"\",\t\t//前端展示用户错误提示框标题\n    \"info\": \"未登录\",\t        //前端展示用户提示内容\n    \"note\": \"未登录\",\t        //记录问题注解\n    \"steps\": \"\"\t\t//步骤  为空则为通用状态\n  },\n  //1.登录步骤\n  \"10001\": {\n    \"type\": \"tip\",\t\t//类型: 提示:\"tip\"  为空则不显示\n    \"title\": \"\",\t\t//前端展示用户错误提示框标题\n    \"info\": \"登录成功\",\t//前端展示用户提示内容\n    \"note\": \"登录成功\",\t//记录注解\n    \"steps\": \"登录步骤\"\t//步骤  为空则为通用状态\n  },\n  \"-10001\": {\n    \"type\": \"error\",\n    \"title\": \"登录失败\",\n    \"info\": \"验证码错误\",\n    \"note\": \"验证码错误\",\n    \"steps\": \"登录步骤\"\n  },\n  \"-10002\": {\n    \"type\": \"error\",\n    \"title\": \"登录失败\",\n    \"info\": \"无效验证码\",\n    \"note\": \"无效验证码\",\n    \"steps\": \"登录步骤\"\n  },\n  \"-10003\": {\n    \"type\": \"error\",\n    \"title\": \"登录失败\",\n    \"info\": \"无此用户\",\n    \"note\": \"无此用户\",\n    \"steps\": \"登录步骤\"\n  },\n  \"-10004\": {\n    \"type\": \"error\",\n    \"title\": \"登录失败\",\n    \"info\": \"密码错误\",\n    \"note\": \"密码错误\",\n    \"steps\": \"登录步骤\"\n  },\n  \"-10005\": {\n    \"type\": \"error\",\n    \"title\": \"登录失败\",\n    \"info\": \"密码错误\",\n    \"note\": \"密码错误\",\n    \"steps\": \"登录步骤\"\n  },\n  \"-10006\": {\n    \"type\": \"error\",\n    \"title\": \"登录失败\",\n    \"info\": \"登录异常,请重新登录\",\n    \"note\": \"登录步骤操作数据库异常\",\n    \"steps\": \"登录步骤\"\n  },\n  \"-10007\": {\n    \"type\": \"error\",\n    \"title\": \"登录失败\",\n    \"info\": \"获取用户信息失败\",\n    \"note\": \"登录步骤获取设备组列表操作数据库异常\",\n    \"steps\": \"登录步骤\"\n  },\n  \"-10008\": {\n    \"type\": \"error\",\n    \"title\": \"登录失败\",\n    \"info\": \"获取用户信息失败\",\n    \"note\": \"登录步骤获取设备组列表操作数据库异常\",\n    \"steps\": \"登录步骤\"\n  },\n\n  //2.修改密码步骤\n  \"10021\": {\n    \"type\": \"tip\",\t\t//类型: 提示:\"tip\"  为空则不显示\n    \"title\": \"\",\t\t//前端展示用户错误提示框标题\n    \"info\": \"修改密码成功\",\t//前端展示用户提示内容\n    \"note\": \"修改密码成功\",\t//记录注解\n    \"steps\": \"修改密码步骤\"\t//步骤  为空则为通用状态\n  },\n  \"-10021\": {\n    \"type\": \"error\",\n    \"title\": \"\",\n    \"info\": \"验证码错误\",\n    \"note\": \"验证码错误\",\n    \"steps\": \"修改密码步骤\"\n  },\n  \"-10022\": {\n    \"type\": \"error\",\n    \"title\": \"\",\n    \"info\": \"无效验证码\",\n    \"note\": \"无效验证码\",\n    \"steps\": \"修改密码步骤\"\n  },\n  \"-10023\": {\n    \"type\": \"error\",\n    \"title\": \"\",\n    \"info\": \"无此用户\",\n    \"note\": \"无此用户\",\n    \"steps\": \"修改密码步骤\"\n  },\n  \"-10024\": {\n    \"type\": \"error\",\n    \"title\": \"\",\n    \"info\": \"密码错误\",\n    \"note\": \"密码错误\",\n    \"steps\": \"修改密码步骤\"\n  },\n  \"-10025\": {\n    \"type\": \"error\",\n    \"title\": \"\",\n    \"info\": \"修改密码失败\",\n    \"note\": \"修改密码步骤时操作数据库异常\",\n    \"steps\": \"修改密码步骤\"\n  },\n\n  //3.获取用户信息步骤\n  \"10041\": {\n    \"type\": \"tip\",\n    \"title\": \"\",\n    \"info\": \"获取用户信息成功\",\n    \"note\": \"获取用户信息成功\",\n    \"steps\": \"获取用户信息步骤\"\n  },\n  \"-10041\": {\n    \"type\": \"error\",\n    \"title\": \"\",\n    \"info\": \"获取用户信息失败\",\n    \"note\": \"获取用户信息步骤时操作数据库异常\",\n    \"steps\": \"获取用户信息步骤\"\n  },\n\n  //4.登出步骤\n  \"10051\": {\n    \"type\": \"tip\",\n    \"title\": \"\",\n    \"info\": \"登出成功\",\n    \"note\": \"登出成功\",\n    \"steps\": \"登出步骤\"\n  },\n  \"-10051\": {\n    \"type\": \"error\",\n    \"title\": \"\",\n    \"info\": \"登出失败\",\n    \"note\": \"登出步骤回收资料操作失败\",\n    \"steps\": \"登出步骤\"\n  }\n};","import axios from 'axios';\nimport {push} from 'connected-react-router';\nimport {notification, message} from 'antd';\nimport isEmpty from 'lodash/isEmpty';\nimport codeMessage from './codeMessage';\n\n// connected-react-router\n// with react-redux\n\nconst httpMessage = {\n  401: '请求要求用户的身份认证',\n  403: '无权访问当前页面',\n  404: '请求的资源（网页等）不存在',\n  500: '内部服务器错误'\n};\n\n/*\n* dispatch: 用于跳转\n* */\nfunction getAxios(url, dispatch) {\n  return axios.get(url)\n    .then((response) => {\n      // console.log('[request.js response]', response);\n      return handleResponse(response, dispatch);\n    })\n    .catch((error) => {\n      console.log('[request.js error]', error.response);\n      return handleErrorResponse(error, dispatch);\n    });\n}\n\nfunction postAxios(url, data, dispatch) {\n  return axios.post(url, data)\n    .then((response) => {\n      return handleResponse(response, dispatch);\n    })\n    .catch((error) => {\n      console.log('[request.js error]', error.response);\n      return handleErrorResponse(error, dispatch);\n    });\n}\n\n// 200\n// 业务状态码\nfunction handleResponse(response, dispatch) {\n  // >>>>>>>>>>>>>> 请求成功 <<<<<<<<<<<<<<\n  if (response.data && !isEmpty(response.data.code) && !isEmpty(response.data.info)) {\n    const {code, info} = response.data;\n    const {type, title} = codeMessage[code] || info;\n\n    if (!isEmpty(type)) {\n      notification[type === 'tip' ? 'success' : type]({\n        message: title || info.info,\n        description: info.info,\n        // placement: 'bottomLeft'\n      });\n    }\n\n    // 路由跳转\n    if (code === '-16000') {\n      // 未登录\n      dispatch(push('/login'));\n    } else if (code === '10051') {\n      // 登出成功\n      dispatch(push('/login'));\n    } else if (code === '10021') {\n      // 修改密码成功\n      dispatch(push('/login'));\n    } else if (code === '-10041') {\n      // 获取用户信息失败\n      dispatch(push('/exception/getUserInfo'));\n    }\n\n    return {...response.data};\n  } else {\n    // console.log('[请求验证码]', response.data);\n    // 请求验证码, 返回没有code和info字段\n    return {vcode: response.data};\n  }\n}\n\n// 304, 401, 404, 500(非200)\n// http请求状态码\nfunction handleErrorResponse(error, dispatch) {\n  // >>>>>>>>>>>>>> 请求失败 <<<<<<<<<<<<<<\n  const response = error.response;\n  // 请求配置发生的错误\n  if (!response) {\n    console.log('Error', error.message);\n    message.error(error.message);\n    return {error: error.message};\n  }\n\n  // http状态码和文本\n  const status = response.status;\n  const errorText = httpMessage[status] || response.statusText;\n\n  notification.error({\n    message: `请求错误 ${status}`,\n    description: errorText\n  });\n\n  // 路由跳转, 到不同的页面\n  if (status === 401) {\n    dispatch(push('/loginPage'));\n  } else if (status === 403) {\n    dispatch(push('/exception/403'));\n  } else if (status >= 404 && status < 422) {\n    dispatch(push('/exception/404'));\n  } else if (status >= 500 && status <= 504) {\n\n    dispatch(push('/exception/500'));\n  }\n\n  return {error: {message: errorText}};\n}\n\nexport {getAxios, postAxios};\n\n/**\n * 对axios请求做封装\n * 1.http请求状态码\n * 2.业务状态码\n * error.response\n * 3.response >>> 200\n *   error >>> 304, 401, 404, 500\n * 4.https://www.jianshu.com/p/d6796986e2ab\n * 5.原来请求中的res.stats === 200可以删除\n *   判断error是否为空\n *\n * 6.axios响应拦截器\n *    res => 200, 请求成功 >>> 业务码处理\n *    error => 304, 401, 404, 500 http请求错误\n *\n * 7.经过处理后,\n *   handleResponse() >>> Promise.then() >>> xxx.redux.js >>>\n *   handleErrorResponse() >>> Promise.then() >>> xxx.redux.js >>>\n *   返回给xxx.redux.js请求都是走Promise.then()\n * */\n\n// 请求失败返回\n// response: {\n// config: {url: \"/api/v1/httpError\", method: \"get\", headers: {…}, baseURL: \"/api/v1\", transformRequest: Array(1), …}\n// data: {code: \"-16000\", data: {…}, info: {…}, msg: \"登录失败\"}\n// headers: {connection: \"close\", content-length: \"132\", content-type: \"application/json; charset=utf-8\", date: \"Thu, 05 Dec 2019 14:29:58 GMT\", etag: \"W/\"84-gtFmWbeIARagHtPuLR7zH3t3djE\"\", …}\n// request: XMLHttpRequest {readyState: 4, timeout: 10000, withCredentials: true, upload: XMLHttpRequestUpload, onreadystatechange: ƒ, …}\n// status: 404\n// statusText: \"Not Found\"\n// }\n\n// response.data: {\n// code: \"-10001\"\n// data: {}\n// info: {type: \"error\", title: \"登录失败\", info: \"验证码错误\", note: \"验证码错误\", steps: \"登录步骤\"}\n// msg: \"验证码错误\",\n// status: true\n// }","export default {\n  getVerifyCode: () => '/users/verifyCode',\n  login: () => '/users/login',\n  logout: () => '/users/logout',\n  modifyPassword: () => '/users/modifyPassword',\n  getUserInfo: () => '/users/userInfo',\n  createGroup: () => '/method/addGroup',\n  modifyGroup: () => '/method/modifyGroup',\n  fetchGroupInfo: () => '/method/getGroupInfo',\n  deleteGroup: () => '/method/deleteGroup',\n  deleteAllGroup: () => '/method/deleteAllGroup',\n  matchGroup: () => '/method/groupMatch',\n  startPushStream: () => '/method/pushStream',\n  finishPushStream: () => '/method/stopPushStream',\n  fetchWowzaInfo: () => '/method/getRecvStreamServicesInfo'\n}","import {fromJS} from 'immutable';\n// import axios from 'axios';\nimport {getAxios} from '../utils/request';\nimport {actions as appActions} from './app.redux';\nimport {types as authTypes} from './auth.redux';\nimport url from '../utils/url';\n\nconst defaultState = fromJS({\n  verifyCodeImg: null,\n  // verifyCodeStatus: Math.random()\n});\n\n// action types\nexport const types = {\n  FETCH_VERIFY_CODE_IMG_SUCCESS: 'VCODE/FETCH_VERIFY_CODE_IMG_SUCCESS',\n  // FETCH_VERIFY_CODE_IMG_FAIL: 'VCODE/FETCH_VERIFY_CODE_IMG_FAIL',\n  // REFRESH_VERIFY_CODE_STATUS: 'VCODE/REFRESH_VERIFY_CODE_STATUS',\n};\n\n// action creators\nexport const actions = {\n  fetchVerifyCode: () => {\n    return (dispatch) => {\n      // -\n      // dispatch(appActions.startRequest());\n      // -\n      // axios.get(url.getVerifyCode(), {responseType: 'blob', emulateJSON: true})\n      // +\n      // {responseType: 'blob', emulateJSON: true}在axios配置文件中实现\n      getAxios(url.getVerifyCode(), dispatch)\n        .then((data) => {\n          // -\n          // dispatch(appActions.finishRequest());\n          // -\n          // console.log('[vcode.redux fetchVerifyCode]', res);\n          // +\n          // console.log('[vcode.redux fetchVerifyCode]', data);\n          // -\n          // if (res.status === 200) {\n          // +\n          if (!data.error) {\n            // 成功\n            if (data.vcode) {\n              convertBlobToBase64(data.vcode)\n                .then((base64) => {\n                  dispatch(fetchVerifyCodeSuccess(base64));\n                  // dispatch(refreshVerifyCodeStatus(0));\n                });\n            } else {\n              // 失败, 刷新随机数\n              // const status = Math.random();\n              // setTimeout(() => {\n              //   dispatch(refreshVerifyCodeStatus(status));\n              // }, 5000);\n            }\n          } else {\n            dispatch(appActions.setError(data.error));\n          }\n        })\n      // .catch((err) => {\n      //   console.log('[fetchVerifyCode err]', err);\n      // });\n      // -\n      // .catch((err) => {\n      //   dispatch(appActions.setError(err));\n      // });\n    }\n  }\n};\n\n// 内部creators\nconst fetchVerifyCodeSuccess = (url) => ({\n  type: types.FETCH_VERIFY_CODE_IMG_SUCCESS,\n  url\n});\n\n// const fetchVerifyCodeFail = () => ({\n//   type: types.FETCH_VERIFY_CODE_IMG_FAIL\n// });\n//\n// const refreshVerifyCodeStatus = (status) => ({\n//   type: types.REFRESH_VERIFY_CODE_STATUS,\n//   status\n// });\n\nconst convertBlobToBase64 = async (data) => {\n  // -\n  // const blob = res.data;\n  // +\n  const blob = data;\n  const base64 = await blobToBase64(blob);\n  return base64;\n};\n\nconst blobToBase64 = (blob) => {\n  return new Promise((resolve, reject) => {\n    const fileReader = new FileReader();\n    fileReader.onload = (e) => {\n      resolve(e.target.result);\n    };\n    // console.log('[blobToBase64]', blob);\n    fileReader.readAsDataURL(blob);\n    // readAsDataURL\n    fileReader.onerror = () => {\n      reject(new Error('文件流异常'));\n    };\n  });\n};\n\n// reducers\nexport default (state = defaultState, action) => {\n  switch (action.type) {\n    case types.FETCH_VERIFY_CODE_IMG_SUCCESS:\n      return state.merge({verifyCodeImg: action.url});\n    // case types.FETCH_VERIFY_CODE_IMG_FAIL:\n    // return state.merge({verifyCodeImg: });\n    // case types.REFRESH_VERIFY_CODE_STATUS:\n    //   return state.merge({verifyCodeStatus: action.status});\n    case authTypes.LOGOUT:\n      return state.merge(defaultState); // 清空数据\n    default:\n      return state;\n  }\n}\n\n// selectors\nexport const getVerifyCodeImg = (state) => state.getIn(['vcode', 'verifyCodeImg']);\nexport const getVerifyCodeStatus = (state) => state.getIn(['vcode', 'verifyCodeStatus']);\n\n/**\n * 属于哪种数据结构: 没有id, 当作应用状态数据处理\n * */\n\n","import {fromJS} from 'immutable';\n// import axios from 'axios';\nimport {postAxios} from '../utils/request';\nimport {actions as appActions} from './app.redux';\nimport url from '../utils/url';\n\nconst defaultState = fromJS({});\n\n// action types\nexport const types = {\n  FETCH_USER_INFO: 'USERS/FETCH_USER_INFO'\n};\n\n// action creators\nexport const actions = {\n    fetchUserInfo: () => {\n      return (dispatch) => {\n        // -\n        dispatch(appActions.startRequest());\n        // -\n        // axios.post(url.getUserInfo())\n        // +\n        postAxios(url.getUserInfo(), dispatch)\n          .then((data) => {\n              // -\n              dispatch(appActions.finishRequest());\n              // -\n              // console.log('[users.redux fetchUserInfo]', res);\n              // +\n              console.log('[users.redux fetchUserInfo]', data);\n              // -\n              // if (res.status === 200) {\n              // +\n              if (!data.error) {\n                if (data.status) {\n                  // 扁平化处理\n                  // -\n                  // const {username, groups, groupsIds} = convertUserInfoToPlain(res.data.data);\n                  // +\n                  // 获取用户信息成功\n                  const {username, groups, groupsIds} = convertUserInfoToPlain(data.data);\n                  dispatch(fetchUserInfoSuccess(username, groups, groupsIds));\n                } else {\n                  // 获取用户信息失败\n                }\n              } else {\n                // http请求错误\n                dispatch(appActions.setError(data.error));\n              }\n            }\n          )\n        // -\n        // .catch((err) => {\n        //   dispatch(appActions.setError(err));\n        // });\n      }\n    }\n  }\n;\n\n// 内部action creators\nconst fetchUserInfoSuccess = (username, groups, groupsIds) => ({\n  type: types.FETCH_USER_INFO,\n  username,\n  groups,\n  groupsIds\n});\n\nconst convertUserInfoToPlain = (data) => {\n  const {name = ''} = data.userInfo;\n  const groupList = data.groupList;\n  let groupsById = {};\n  let groupsIds = [];\n  groupList.forEach((item) => {\n    groupsById[item.group_id] = {...item};\n    groupsIds.push(item.group_id);\n  });\n  return {\n    username: name,\n    groups: groupsById,\n    groupsIds\n  };\n};\n\n// reducer\nexport default (state = defaultState, action) => {\n  switch (action.type) {\n    default:\n      return state;\n  }\n}\n\n// selectors\n\n/**\n * 维护用户信息\n * 1.获取用户信息 FETCH_USER_INFO, 比较特殊, 获取后, 更新数据到\n * auth.redux.js/username\n * groups.redux.js/groups\n * */","import {fromJS} from 'immutable';\nimport {getAxios, postAxios} from '../utils/request';\nimport {actions as appActions} from './app.redux';\nimport {actions as vcodeActions} from './vcode.redux';\nimport {types as usersTypes} from './users.redux';\nimport url from '../utils/url';\n\nconst defaultState = fromJS({\n  username: null,\n});\n\n// action types\nexport const types = {\n  LOGIN: 'AUTH/LOGIN',\n  LOGOUT: 'AUTH/LOGOUT',\n  MODIFY_PASSWORD: 'AUTH/MODIFY_PASSWORD',\n};\n\n// action creators\nexport const actions = {\n  login: ({user, password, verifyCode}) => {\n    return (dispatch) => {\n      postAxios(url.login(), {user, password, verifyCode}, dispatch)\n        .then((data) => {\n          if (!data.error) {\n            if (data.status) {\n              // 登录成功\n              const {username, groups, groupsIds} = convertLoginInfoToPlain(data.data);\n              dispatch(loginSuccess(username, groups, groupsIds));\n              /**\n               * auth.redux.js\n               * groups.redux.js\n               * */\n            } else {\n              // 登录失败, 刷新验证码\n              dispatch(vcodeActions.fetchVerifyCode());\n            }\n          } else {\n            // http请求错误\n            dispatch(appActions.setError(data.error));\n          }\n        })\n    }\n  },\n  logout: () => {\n    return (dispatch) => {\n      getAxios(url.logout(), dispatch)\n        .then((data) => {\n          console.log('[auth.redux logout]', data);\n          if (!data.error) {\n            if (data.status) {\n              dispatch(logoutSuccess());\n              /**\n               * auth.redux.js 清空\n               * groups.redux.js 清空\n               * */\n            } else {\n              // 登出失败\n            }\n          } else {\n            dispatch(appActions.setError(data.error));\n          }\n        })\n    }\n  },\n  modifyPassword: ({user, old_password, new_password, verifyCode}) => {\n    return (dispatch) => {\n      postAxios(url.modifyPassword(), {user, old_password, new_password, verifyCode}, dispatch)\n        .then((data) => {\n          console.log('[auth.redux modifyPassword]', data);\n          if (!data.error) {\n            if (data.status) {\n              // 修改密码成功, 无操作\n            } else {\n              // 修改密码失败\n            }\n          } else {\n            dispatch(appActions.setError(data.error));\n          }\n        })\n    }\n  }\n};\n\n// 内部action creators\nconst loginSuccess = (username, groups, groupsIds) => ({\n  type: types.LOGIN,\n  username,\n  groups,\n  groupsIds\n});\n\nconst logoutSuccess = () => ({\n  type: types.LOGOUT\n});\n\n// 登录成功后, 扁平化处理\nconst convertLoginInfoToPlain = (data) => {\n  const name = data.userInfo.name;\n  const groupList = data.groupList;\n  let groupsById = {};\n  let groupsIds = [];\n  groupList.forEach((item) => {\n    groupsById[item.group_id] = {...item};\n    groupsIds.push(item.group_id);\n  });\n  return {\n    username: name,\n    groups: groupsById,\n    groupsIds\n  }\n};\n\n\n// reducers\nexport default (state = defaultState, action) => {\n  switch (action.type) {\n    case usersTypes.FETCH_USER_INFO: // 获取用户信息\n    case types.LOGIN: // 登录\n      return state.merge({username: action.username});\n    case types.LOGOUT: // 登出\n      return state.merge(defaultState);\n    default:\n      return state;\n  }\n};\n\n// selectors\nexport const getLoggedUser = (state) => state.get('auth');\n\n/**\n * auth: {\n *   username: null // 当前登录的用户名\n * }\n * */","import {fromJS} from 'immutable';\nimport {types as authTypes} from './auth.redux';\nimport isEmpty from 'lodash/isEmpty';\n\nconst defaultState = fromJS({\n  requestQuantity: 0, // 当前应用正在进行的API请求数\n  error: null, // 应用全局错误信息\n  redirectTo: '', // 跳转\n});\n\n// action types\nexport const types = {\n  START_REQUEST: 'APP/START_REQUEST',\n  FINISH_REQUEST: 'APP/FINISH_REQUEST',\n  SET_ERROR: 'APP/SET_ERROR',\n  REMOVE_ERROR: 'APP/REMOVE_ERROR',\n};\n\n// action creators\nexport const actions = {\n  startRequest: () => ({\n    type: types.START_REQUEST\n  }),\n  finishRequest: () => ({\n    type: types.FINISH_REQUEST\n  }),\n  setError: (error) => ({\n    type: types.SET_ERROR,\n    error\n  }),\n  removeError: () => ({\n    type: types.REMOVE_ERROR\n  }),\n};\n\n// reducers\nexport default (state = defaultState, action) => {\n  switch (action.type) {\n    case types.START_REQUEST:\n      return state.merge({requestQuantity: state.get('requestQuantity') + 1});\n    case types.FINISH_REQUEST:\n      return state.merge({requestQuantity: state.get('requestQuantity') - 1});\n    case types.SET_ERROR:\n      return state.merge({error: action.error});\n    case types.REMOVE_ERROR:\n      return state.merge({error: null});\n    case authTypes.LOGIN:\n      // +\n      return state.merge({redirectTo: '/dashboard'});\n    // -\n    // return state.merge({redirectTo: getRedirectToPath(action)});\n    default:\n      return state;\n  }\n};\n\n// -\n// 跳转\n// const getRedirectToPath = ({username, groupsIds}) => {\n//   const isLoggedIn = !isEmpty(username); // 新用户的组为空\n//   if (isLoggedIn) {\n//     return '/home/device'; // 获取用户信息成功\n//   } else {\n//     return '/login'; // 获取用户信息失败, 跳转到登录界面\n//   }\n// };\n\n// selectors\n// 获取当前请求数\nexport const getRequestQuantity = (state) => state.getIn(['app', 'requestQuantity']);\n// 获取错误信息\nexport const getError = (state) => state.getIn(['app', 'error']);\n// 获取当前跳转路径\nexport const getRedirectTo = (state) => state.getIn(['app', 'redirectTo']);\n\n/**\n * app: {\n *   requestQuantity: 0, // 当前应用中正在进行的API请求数\n *   error: null, // 应用全局错误信息\n *   redirectTo: '', // 跳转\n * }\n * */","import Immutable from 'immutable';\nimport { postAxios } from '../utils/request';\nimport { actions as appActions } from './app.redux';\nimport { types as authTypes } from './auth.redux';\nimport { types as usersTypes } from './users.redux';\nimport url from '../utils/url';\nimport { combineReducers } from 'redux-immutable';\nimport { push } from 'connected-react-router';\n\n// action types\nexport const types = {\n  CREATE_GROUP: 'GROUPS/CREATE_GROUP', // 添加Group\n  MODIFY_GROUP: 'GROUPS/MODIFY_GROUP', // 修改Group\n  FETCH_GROUP_INFO: 'GROUPS/FETCH_GROUP_INFO', // 查看单个Group(查看组中所有encodes/查看组中所有wowzas)\n  FETCH_GROUPS: 'GROUPS/FETCH_GROUPS', // TODO: 查看所有组Group(可能不需要encodes和wowzas信息)\n  DELETE_GROUP: 'GROUPS/DELETE_GROUP', // 删除Group\n  DELETE_ALL_GROUP: 'GROUPS/DELETE_ALL_GROUP', // 删除所有Group\n  MATCH_GROUP: 'GROUPS/MATCH_GROUP', // 匹配Group\n  START_PUSH_STREAM: 'GROUPS/START_PUSH_STREAM', // 开始推流\n  FINISH_PUSH_STREAM: 'GROUPS/FINISH_PUSH_STREAM', // 停止推流\n};\n\n// action creators\nexport const actions = {\n  createGroup: (data) => {\n    return (dispatch) => {\n      postAxios(url.createGroup(), data, dispatch)\n        .then((data) => {\n          console.log('[groups.redux createGroup]', data);\n          if (!data.error) {\n            if (data.status) {\n              // 创建组成功\n              const { group_id, groupItem, encodes, encodeIds, wowzas, wowzaIds } = convertCreateGroupToPlain(data.data);\n              dispatch(createGroupSuccess(group_id, groupItem, encodes, encodeIds, wowzas, wowzaIds));\n              dispatch(push('/dashboard'));\n            }else {\n              // 创建组失败\n            }\n          } else {\n            dispatch(appActions.setError(data.error));\n          }\n        });\n    }\n  },\n  modifyGroup: (data) => {\n    return (dispatch) => {\n      postAxios(url.modifyGroup(), data, dispatch)\n        .then((data) => {\n          console.log('[groups.redux modifyGroup]', data);\n          if (!data.error) {\n            if (data.status) {\n              // 修改组失败\n              const { groupItem, encodes, encodeIds, wowzas, wowzaIds } = convertUpdateGroupToPlain(data.data);\n              dispatch(modifyGroupSuccess(groupItem, encodes, encodeIds, wowzas, wowzaIds));\n            } else {\n              // 修改组成功\n            }\n          } else {\n            dispatch(appActions.setError(data.error));\n          }\n        });\n    }\n  },\n  fetchGroupInfo: ({ group, group_id }) => {\n    return (dispatch) => {\n      postAxios(url.fetchGroupInfo(), { group, group_id }, dispatch)\n        .then((data) => {\n          console.log('[groups.redux fetchGroupInfo]', data);\n          if (!data.error) {\n            if (data.status) {\n              // 查询组成功\n              const { groupItem, encodes, encodeIds, wowzas, wowzaIds } = convertSingleGroupToPlain(data.data);\n              dispatch(fetchGroupInfoSuccess(groupItem, encodes, encodeIds, wowzas, wowzaIds));\n            } else {\n              // 查询组失败\n            }\n          } else {\n            dispatch(appActions.setError(data.error));\n          }\n        });\n    }\n  },\n  deleteGroup: ({ group, group_id }) => {\n    return (dispatch) => {\n      postAxios(url.deleteGroup(), { group, group_id }, dispatch)\n        .then((data) => {\n          console.log('[groups.redux deleteGroup]', data);\n          if (!data.error) {\n            if (data.status) {\n              // 删除组成功\n              const { encodeIds, wowzaIds } = convertDeleteGroupToPlain(data.data);\n              dispatch(deleteGroupSuccess(group, group_id, encodeIds, wowzaIds));\n              dispatch(push('/dashboard'));\n            } else {\n              // 删除组失败\n            }\n          } else {\n            dispatch(appActions.setError(data.error));\n          }\n        });\n    }\n  },\n  matchGroup: ({ group, group_id }) => {\n    return (dispatch) => {\n      postAxios(url.matchGroup(), { group, group_id }, dispatch)\n        .then((data) => {\n          console.log('[groups.redux matchGroup]', data);\n          if (!data.error) {\n            if (data.status) {\n              // 匹配组成功\n              const { groupItem, encodes, wowzas } = convertMatchGroupToPlain(data.data);\n              dispatch(matchGroupSuccess(groupItem, encodes, wowzas));\n            } else {\n              // 匹配组失败\n            }\n          } else {\n            dispatch(appActions.setError(data.error));\n          }\n        });\n    }\n  },\n  startPushStream: ({ group, group_id, encodeDevice_id, recvStreamService_id }) => {\n    return (dispatch) => {\n      postAxios(url.startPushStream(), { group, group_id, encodeDevice_id, recvStreamService_id }, dispatch)\n        .then((data) => {\n          console.log('[groups.redux startPushStream]', data);\n          if (!data.error) {\n            if (data.status) {\n              // 推流成功\n              dispatch(startPushStreamSuccess(group_id));\n            } else {\n              // 推流失败\n            }\n          } else {\n            dispatch(appActions.setError(data.error));\n          }\n        })\n    }\n  },\n  finishPushStream: ({ group, group_id }) => {\n    return (dispatch) => {\n      postAxios(url.finishPushStream(), { group, group_id }, dispatch)\n        .then((data) => {\n          console.log('[groups.redux finishPushStream]', data);\n          if (!data.error) {\n            if (data.status) {\n              // 停止推流成功\n              dispatch(finishPushStreamSuccess(group_id));\n            } else {\n              // 停止推流失败\n            }\n          } else {\n            dispatch(appActions.setError(data.error));\n          }\n        })\n    }\n  },\n  deleteAllGroup: () => {\n    return (dispatch) => {\n      postAxios(url.deleteGroup(), dispatch)\n        .then((data) => {\n          console.log('[groups.redux deleteAllGroup]', data);\n          if (!data.error) {\n            if (data.status) {\n              // 删除所有组成功\n              dispatch(deleteAllGroupSuccess());\n            } else {\n              // 删除所有组失败\n            }\n          } else {\n            dispatch(appActions.setError(data.error));\n          }\n        })\n    }\n  }\n};\n\n// 内部action creators\nconst createGroupSuccess = (group_id, groupItem, encodes, encodeIds, wowzas, wowzaIds) => ({\n  type: types.CREATE_GROUP,\n  group_id,\n  groupItem,\n  encodes,\n  encodeIds,\n  wowzas,\n  wowzaIds\n});\n\nconst modifyGroupSuccess = (groupItem, encodes, encodeIds, wowzas, wowzaIds) => ({\n  type: types.MODIFY_GROUP,\n  groupItem,\n  encodes,\n  encodeIds,\n  wowzas,\n  wowzaIds\n});\n\nconst fetchGroupInfoSuccess = (groupItem, encodes, encodeIds, wowzas, wowzaIds) => ({\n  type: types.FETCH_GROUP_INFO,\n  groupItem,\n  encodes,\n  encodeIds,\n  wowzas,\n  wowzaIds\n});\n\nconst deleteGroupSuccess = (group, group_id, encodeIds, wowzaIds) => ({\n  type: types.DELETE_GROUP,\n  group,\n  group_id,\n  encodeIds,\n  wowzaIds\n});\n\nconst matchGroupSuccess = (groupItem, encodes, wowzas) => ({\n  type: types.MATCH_GROUP,\n  groupItem,\n  encodes,\n  wowzas\n});\n\nconst startPushStreamSuccess = (group_id) => ({\n  type: types.START_PUSH_STREAM,\n  group_id\n});\n\nconst finishPushStreamSuccess = (group_id) => ({\n  type: types.FINISH_PUSH_STREAM,\n  group_id\n});\n\nconst deleteAllGroupSuccess = () => ({\n  type: types.DELETE_ALL_GROUP\n});\n\n// 扁平化, 添加Group返回\nconst convertCreateGroupToPlain = (data) => {\n  const { group_id, group, dState, eMessage, description, encodeDevices, recvStreamServices } = data;\n  let groupItem = { group, group_id, dState, eMessage, description };\n  let encodesById = {}; // 记录前端设备\n  let encodeIds = []; // encode.redux.js/byPost用\n  let wowzaById = {}; // 记录wowza\n  let wowzaIds = []; //wowza.redux.js/byPost用\n  encodeDevices.forEach((item) => {\n    encodesById[item.id] = { ...item };\n    encodeIds.push(item.id);\n  });\n  recvStreamServices.forEach((item) => {\n    wowzaById[item.id] = { ...item };\n    wowzaIds.push(item.id);\n  });\n  return {\n    group_id,\n    groupItem: groupItem,\n    encodes: encodesById,\n    encodeIds,\n    wowzas: wowzaById,\n    wowzaIds\n  }\n};\n\n// 扁平化, 修改Group返回\nconst convertUpdateGroupToPlain = (data) => {\n  const { group_id, group, dState, eMessage, description, encodeDevices, recvStreamServices } = data;\n  let groupItem = { group, group_id, dState, eMessage, description };\n  let encodesById = {}; // 记录前端设备\n  let wowzasById = {}; // 记录wowza\n  encodeDevices.forEach((item) => {\n    encodesById[item.id] = { ...item };\n  });\n  recvStreamServices.forEach((item) => {\n    wowzasById[item.id] = { ...item };\n  });\n  return {\n    groupItem: groupItem,\n    encodes: encodesById,\n    wowzas: wowzasById,\n  }\n};\n\n// 扁平化, 查看Group返回\nconst convertSingleGroupToPlain = (data) => {\n  const { group_id, group, dState, eMessage, description, status, encodeDevices, recvStreamServices } = data;\n  let groupItem = { group_id, group, dState, eMessage, description, status };\n  let encodesById = {};\n  let encodeIds = [];\n  let wowzasById = {};\n  let wowzaIds = [];\n  encodeDevices.forEach((item) => {\n    encodesById[item.id] = { ...item };\n    encodeIds.push(item.id);\n  });\n  recvStreamServices.forEach((item) => {\n    wowzasById[item.id] = { ...item };\n    wowzaIds.push(item.id);\n  });\n  return {\n    groupItem: groupItem,\n    encodes: encodesById,\n    encodeIds,\n    wowzas: wowzasById,\n    wowzaIds\n  }\n};\n\n// 扁平化, 删除Group返回(目前不返回内容)\nconst convertDeleteGroupToPlain = (data) => {\n  const { encodeDevices, recvStreamServices } = data;\n  console.log('[删除Group返回 encodeDevices]', encodeDevices);\n  console.log('[删除Group返回 recvStreamServices]', recvStreamServices);\n  const encodeIds = [];\n  const wowzaIds = [];\n  encodeDevices.forEach((item) => {\n    encodeIds.push(item.id);\n  });\n  recvStreamServices.forEach((item) => {\n    wowzaIds.push(item.id);\n  });\n  return {\n    encodeIds,\n    wowzaIds\n  }\n};\n\n// 扁平化, 匹配Group返回\nconst convertMatchGroupToPlain = (data) => {\n  const { group_id, group, dState, eMessage, description, status, encodeDevices, recvStreamServices } = data;\n  let groupItem = { group_id, group, dState, eMessage, description };\n  let encodesById = {};\n  let wowzasById = {};\n  encodeDevices.forEach((item) => {\n    encodesById[item.id] = { ...item };\n  });\n  recvStreamServices.forEach((item) => {\n    wowzasById[item.id] = { ...item };\n  });\n  return {\n    groupItem: groupItem,\n    encodes: encodesById,\n    wowzas: wowzasById\n  };\n};\n\n// reducers\nconst byId = (state = Immutable.fromJS({}), action) => { // 记录groups信息\n  switch (action.type) {\n    case usersTypes.FETCH_USER_INFO: // 获取用户信息\n    case authTypes.LOGIN: // 登录成功\n      return state.merge(Immutable.fromJS(action.groups)); // 复杂数据类型\n    case authTypes.LOGOUT: // 登出成功\n      return Immutable.fromJS({});\n    case types.CREATE_GROUP:\n    case types.MODIFY_GROUP:\n    case types.FETCH_GROUP_INFO:\n    case types.MATCH_GROUP:\n      return state.merge({ [action.groupItem.group_id]: Immutable.fromJS(action.groupItem) }); // 复杂数据类型\n    case types.DELETE_GROUP:\n      return state.delete(action.group_id);\n    case types.START_PUSH_STREAM:\n      return state.set(action.group_id, state.get(action.group_id).set('status', true));\n    case types.FINISH_PUSH_STREAM:\n      return state.set(action.group_id, state.get(action.group_id).set('status', false));\n    default:\n      return state;\n  }\n};\n\nconst allIds = (state = Immutable.fromJS([]), action) => {\n  switch (action.type) {\n    case usersTypes.FETCH_USER_INFO:\n    case authTypes.LOGIN:\n      // console.log('[!!!!!!!!!]', action.groupsIds);\n      return Immutable.List(action.groupsIds);\n    case authTypes.LOGOUT:\n      return Immutable.List();\n    case types.CREATE_GROUP:\n      return state.unshift(action.groupItem.group_id);\n    case types.FETCH_GROUPS: // TODO: 未实现\n      return state;\n    case types.DELETE_GROUP:\n      return state.delete(state.indexOf(action.group_id));\n    default:\n      return state;\n  }\n};\n\nconst reducer = combineReducers({\n  byId,\n  allIds\n});\n\nexport default reducer;\n\n// selector\n// 获取所有组信息:\nexport const getGroupList = (state) => state.getIn(['groups', 'byId']);\n// 获取单个组信息:\nexport const getGroupById = (state, id) => state.getIn(['groups', 'byId', id]);\n// 获取组的排序数组:\nexport const getGroupIds = (state) => state.getIn(['groups', 'allIds']);\n// 获取组的匹配状态\nexport const getGroupMatchStatus = (state, id) => state.getIn(['groups', 'byId', id, 'dState']);\n// 获取组的推流状态\nexport const getGroupStreamStatus = (state, id) => state.getIn(['groups', 'byId', id, 'status']);\n\n/**\n * groups: {\n *    byId: {\n *      sd0abd9249451d0fdbf0e1406f5d9e6a: {\n *          group_id: 'sd0abd9249451d0fdbf0e1406f5d9e6a',\n *          group: 'group_test',\n *          dState: 'offline', // offline(未匹配), ready(已经匹配)\n *          eMessage: '',\n *          description: ''\n *      }\n *    },\n *    allIds: ['sd0abd9249451d0fdbf0e1406f5d9e6a', ...]\n * }\n * */\n\n// 查询: /mcm/api/groups?filter={\"fields\":{},\"where\":{},\"skip\":0,\"limit\":20,\"include\":[\"encodeDevices\",\"recvStreamServices\"]}\n// 新增:\n\n// {\n//   \"group_id\": \"sd0abd9249451d0fdbf0e1406f5d9e6b\",\n//   \"group\": \"group_test2\",\n//   \"dState\": \"ready\",\n//   \"status\": true,\n//   \"eMessage\": \"no error\",\n//   \"description\": \"组2\",\n//   \"encodeDevices\": [\n//   {\n//     \"domain\": \"192.168.3.4\",\n//     \"port\": \"8100\",\n//     \"auth\": \"4a0abd9249451d0fdbf0e1406f5d9e6b\",\n//     \"recvServicePort\": \"11000\",\n//     \"state\": \"normal\",\n//     \"eMessage\": \"no error\",\n//   }\n// ]\n// }\n\n/**\n * 使用merge时, 要注意类型统一, 对数据进行fromJS(...)处理\n * 1.如果值是简单类型:\n * 当值为 number, string, boolean时, 不需要fromJS(...)处理了\n * state.merge({requestQuantity: state.get('requestQuantity') + 1});\n * state.merge({error: action.error});\n *\n * 2.如果值是复杂类型:\n * 当值为 {}, [] 时, 需要使用fromJS(...)处理, 来保证数据类型统一\n * state.merge({[action.groupItem.group_id]: fromJS(action.groupItem)}); // action.groupItem是一个{}\n * state.merge({[action.groupItem.group_id]: Immutable.List(action.encodeIds)}); // action.encodeIds是一个[]\n * */","import Immutable from \"immutable\";\nimport {combineReducers} from 'redux-immutable';\nimport {types as groupsTypes} from './groups.redux';\nimport {types as authTypes} from './auth.redux';\n\n// action types\n\n// action creators\n\n// reducer\nconst byId = (state = Immutable.fromJS({}), action) => { // 记录encodes\n  function deleteEncodes(state, encodeIds) {\n    return state.deleteAll(encodeIds);\n  }\n\n  switch (action.type) {\n    case groupsTypes.CREATE_GROUP: // 添加Group\n    case groupsTypes.MODIFY_GROUP: // 修改Group\n    case groupsTypes.FETCH_GROUP_INFO: // 查看Group\n      return state.merge(Immutable.fromJS(action.encodes)); // 复杂数据类型\n    case groupsTypes.MATCH_GROUP:\n      // console.log('[encode MATCH_GROUP]', action.encodes);\n      return state.merge(Immutable.fromJS(action.encodes)); // 复杂数据类型\n    case groupsTypes.DELETE_GROUP: // TODO: 测试\n      return deleteEncodes(state, action.encodeIds);\n    case authTypes.LOGOUT:\n      return Immutable.fromJS({}); // 清空redux\n    default:\n      return state;\n  }\n};\n\nconst byGroup = (state = Immutable.fromJS({}), action) => { // 记录encode属于哪个group\n  switch (action.type) {\n    case groupsTypes.CREATE_GROUP:\n      return state.set(\n        [action.groupItem.group_id],\n        // state.get(action.groupItem.group_id).unshift(action.encodeIds[0])\n        Immutable.List([]).unshift(action.encodeIds[0])\n      );\n    case groupsTypes.FETCH_GROUP_INFO:\n      return state.merge({[action.groupItem.group_id]: Immutable.fromJS(action.encodeIds)}); // 复杂数据类型\n    case groupsTypes.DELETE_GROUP:\n      return state.delete(action.group_id);\n    case authTypes.LOGOUT:\n      return Immutable.fromJS({}); // 清空redux\n    default:\n      return state;\n  }\n};\n\nconst reducer = combineReducers({\n  byId,\n  byGroup\n});\n\nexport default reducer;\n\n\n// selectors\n// 获取所有encodes\nexport const getEncodes = (state) => state.getIn(['encodes', 'byId']);\n// 获取某一个组下的所有encodes的id\nexport const getEncodeIdsByGroup = (state, groupId) => state.getIn(['encodes', 'byGroup', groupId]);\n// 获取某个encode\nexport const getEncodeById = (state, id) => state.getIn(['encodes', 'byId', id]);\n\n\n/**\n * encodes: {\n *    byId: {\n          f0abd9249451d0fdbf0e1406f5d9e87: {\n          id: 'f0abd9249451d0fdbf0e1406f5d9e87',\t\t#编码器设备id\n          domain: '127.0.0.1',\t#编码器服务地址可以是IP或者域名\n          port: 8000,\t\t#编码器服务端口  默认8000\n          auth: '4a0abd9249451d0fdbf0e1406f5d9e6a',\t#认证auth 让用户自行输入\n          recvServicePort: 10000,\t\t#接收wowza端的端口  默认10000\n          state:\tnormal,\t\t#状态 abnormal(异常)\t normal(正常)\n          eMessage: ''\t#异常信息\n *       }\n *    },\n *    byGroup: {\n *      sd0abd9249451d0fdbf0e1406f5d9e6a: ['f0abd9249451d0fdbf0e1406f5d9e87', '...']\n *    }\n * }\n * */","import Immutable from 'immutable';\nimport {combineReducers} from 'redux-immutable';\nimport {types as groupsTypes} from './groups.redux';\nimport {types as authTypes} from './auth.redux';\n// action types\n\n// action creators\n\n// 内部action creators\n\n// reducers\nconst byId = (state = Immutable.fromJS({}), action) => {\n    function deleteWowzaIds(state, wowzaIds) {\n      return state.deleteAll(wowzaIds);\n    }\n\n    switch (action.type) {\n      case groupsTypes.CREATE_GROUP: // 添加Group\n      case groupsTypes.MODIFY_GROUP: // 修改Group\n      case groupsTypes.FETCH_GROUP_INFO: // 查看Group\n        return state.merge(Immutable.fromJS(action.wowzas)); // 复杂数据类型\n      case groupsTypes.MATCH_GROUP:\n        return state.merge(Immutable.fromJS(action.wowzas)); // 复杂数据类型\n      case groupsTypes.DELETE_GROUP: // TODO: 测试\n        return deleteWowzaIds(state, action.wowzas);\n      case authTypes.LOGOUT:\n        return Immutable.fromJS({}); // 清空redux\n      default:\n        return state;\n    }\n  }\n;\n\nconst byGroup = (state = Immutable.fromJS({}), action) => {\n  switch (action.type) {\n    case groupsTypes.CREATE_GROUP: // 添加组\n      return state.set(\n        [action.groupItem.group_id],\n        // state.get(action.groupItem.group_id).unshift(action.wowzaIds[0])\n        Immutable.List([]).unshift(action.wowzaIds[0])\n      );\n    case groupsTypes.FETCH_GROUP_INFO:\n      return state.merge({[action.groupItem.group_id]: Immutable.fromJS(action.wowzaIds)}); // 复杂数据类型\n    case groupsTypes.DELETE_GROUP:\n      return state.delete(action.group_id);\n    case authTypes.LOGOUT:\n      return Immutable.fromJS({}); // 清空redux\n    default:\n      return state;\n  }\n};\n\nconst reducer = combineReducers({\n  byId,\n  byGroup\n});\n\nexport default reducer;\n\n// selectors\n// 获取所有wowzas\nexport const getWowzas = (state) => state.getIn(['wowzas', 'byId']);\n// 获取某一个组件下的所有wowzas的id\nexport const getWowzaIdsByGroup = (state, groupId) => state.getIn(['wowzas', 'byGroup', groupId]);\n// 获取某个wowza\nexport const getWowzaById = (state, id) => state.getIn(['wowzas', 'byId', id]);\n\n/**\n * wowzas: {\n *   \tb0abd9249451d0fdbf0e1406f5d9e31: {\n *   \t  id: 'b0abd9249451d0fdbf0e1406f5d9e31'\t\t#wowza服务id\n\t\t\t\tdomain: '127.0.0.1',\t#接收端wowza地址可以是IP或者域名\n\t\t\t\tport: 8087\t\t#接收端wowza端口  默认8087\n\t\t\t\tstate:\tnormal,\t\t#状态 abnormal(异常)\t normal(正常)\n\t\t\t\teMessage: ''\t#异常信息\n *\t\t\tbytesIn: 23582908,\t\t#累计视频流传入多少字节 （单位: 字节）\n *\t\t\tbytesInRate: 109203,\t\t#视频流传入速率\t(单位: 字节/秒)\n *   \t\ttotalConnections: 1,\t\t#播放连接数\n *\t\t\tbytesOut: 45879708,\t\t#累计视频流传出多少字节 （单位: 字节）\n * \t\t\tbytesOutRate: 231396\t\t#视频流传出速率 (单位: 字节/秒)\n *   \t}\n * }\n *\n *    b0abd9249451d0fdbf0e1406f5d9e31: {\n\t\t\t\tid: 'b0abd9249451d0fdbf0e1406f5d9e31'\t\t#接收端wowza服务id\n\t\t\t\tbytesIn: 23582908,\t\t#累计视频流传入多少字节 （单位: 字节）\n\t\t\t\tbytesInRate: 109203,\t\t#视频流传入速率\t(单位: 字节/秒)\n\t\t\t\ttotalConnections: 1,\t\t#播放连接数\n\t\t\t\tbytesOut: 45879708,\t\t#累计视频流传出多少字节 （单位: 字节）\n\t\t\t\tbytesOutRate: 231396\t\t#视频流传出速率 (单位: 字节/秒)\n\t\t\t}\n *\n * */","import Immutable from 'immutable';\nimport {combineReducers} from 'redux-immutable';\n// import axios from 'axios';\nimport {postAxios} from '../utils/request';\nimport {actions as appActions} from './app.redux';\nimport {types as authTypes} from \"./auth.redux\";\nimport url from '../utils/url';\n\n// action types\nexport const types = {\n  FETCH_WOWZA_INFO: 'WOWZA/FETCH_WOWZA_INFO', // 获取接收wowza服务器流信息\n};\n\n// action creators\nexport const actions = {\n    fetchWowzaInfo: ({group, group_id, recvStreamServices_id}) => {\n      return (dispatch) => {\n        dispatch(appActions.startRequest());\n        // -\n        // axios.post(url.fetchWowzaInfo(), {group, group_id, recvStreamServices_id})\n        // +\n        postAxios(url.fetchWowzaInfo(), {group, group_id, recvStreamServices_id}, dispatch)\n          .then((data) => {\n              dispatch(appActions.finishRequest());\n              // -\n              // console.log('[wstream.redux fetchWowzaInfo]', res);\n              // +\n              console.log('[wstream.redux fetchWowzaInfo]', data);\n              // -\n              // if (res.status === 200 && res.data.status) {\n              // +\n              if (!data.error && data.status) {\n                // -\n                // const {wowzasInfo, wowzaIds} = convertSingleWowzaToPlain(res.data.data);\n                // +\n                const {wowzasInfo, wowzaIds} = convertSingleWowzaToPlain(data.data);\n                dispatch(fetchWowzaInfoSuccess(group_id, wowzasInfo, wowzaIds));\n              } else {\n                dispatch(appActions.setError(data.error));\n              }\n            }\n          )\n        // -\n        // .catch((err) => {\n        //   dispatch(appActions.setError(err));\n        // });\n      }\n    },\n  }\n;\n\n// 内部action creators\nconst fetchWowzaInfoSuccess = (group_id, wowzasInfo, wowzaIds) => ({\n  type: types.FETCH_WOWZA_INFO,\n  group_id,\n  wowzasInfo,\n  wowzaIds\n});\n\nconst convertSingleWowzaToPlain = (data) => {\n  const {recvStreamServicesStatusInfo} = data;\n  let wowzasById = {};\n  let wowzaIds = [];\n  recvStreamServicesStatusInfo.forEach((item) => {\n    wowzasById[item.id] = {...item};\n    wowzaIds.push(item.id);\n  });\n  return {\n    wowzasInfo: wowzasById,\n    wowzaIds\n  }\n};\n\nconst byId = (state = Immutable.fromJS({}), action) => {\n  switch (action.type) {\n    case types.FETCH_WOWZA_INFO:\n      return state.merge(Immutable.fromJS(action.wowzasInfo)); // 复杂数据类型 {}\n    case authTypes.LOGOUT:\n      return Immutable.fromJS({}); // 清空数据\n    default:\n      return state;\n  }\n};\n\nconst byGroup = (state = Immutable.fromJS({}), action) => {\n  switch (action.type) {\n    case types.FETCH_WOWZA_INFO:\n      return state.merge({[action.group_id]: Immutable.fromJS(action.wowzaIds)}); // 复杂数据类型 []\n    case authTypes.LOGOUT:\n      return Immutable.fromJS({}); // 清空数据\n    default:\n      return state;\n  }\n};\n\nconst reducer = combineReducers({\n  byId,\n  byGroup\n});\n\nexport default reducer;\n\n// selector\n// 获取所有wowzas的流信息\nexport const getWowzasStreamInfo = (state) => state.getIn(['wstream', 'byId']);\n// 获取某一个组下的所有wowza流信息的id\nexport const getWowzaStreamInfoByGroup = (state, groupId) => state.getIn(['wstream', 'byGroup', groupId]);\n// 获取单个wowza的流信息\nexport const getWowzaInfoById = (state, id) => state.getIn(['wstream', 'byId', id]);\n\n\n/**\n * stream: {\n *   b0abd9249451d0fdbf0e1406f5d9e31: {\n *    byId: {\n *    \t  id: 'b0abd9249451d0fdbf0e1406f5d9e31'{\t\t#接收端wowza服务id\n\t\t\t\t  bytesIn: 23582908,\t\t#累计视频流传入多少字节 （单位: 字节）\n\t\t\t\t  bytesInRate: 109203,\t\t#视频流传入速率\t(单位: 字节/秒)\n\t\t\t\t  totalConnections: 1,\t\t#播放连接数\n\t\t\t\t  bytesOut: 45879708,\t\t#累计视频流传出多少字节 （单位: 字节）\n\t\t\t\t  bytesOutRate: 231396\t\t#视频流传出速率 (单位: 字节/秒)\n *        }\n *    },\n *    byGroup: {\n *        sd0abd9249451d0fdbf0e1406f5d9e6a: ['b0abd9249451d0fdbf0e1406f5d9e31']\n *        ...\n *    }\n * }\n *\n * */\n\n/**\n *  \"data\": {\n    \"group_id\": \"sd0abd9249451d0fdbf0e1406f5d9e6a\",\n    \"group\": \"group_test\",\n    \"recvStreamServicesStatusInfo\": [\n      {\n        \"id\": \"b0abd9249451d0fdbf0e1406f5d9e31\",\n        \"bytesIn\": 23582908,\n        \"bytesInRate\": 109203,\n        \"totalConnections\": 1,\n        \"bytesOut\": 45879708,\n        \"bytesOutRate\": 231396\n      }\n    ]\n  }\n * */","// localStorage\nimport React from \"react\";\n\nexport const setLocalStorage = (key, value) => {\n  return localStorage.setItem(key, value);\n};\n\nexport const getLocalStorage = (key) => {\n  return localStorage.getItem(key);\n};\n\nexport const removeLocalStorage = (key) => {\n  return localStorage.removeItem(key);\n};\n\nexport const composeData = (group, description) => {\n  return (e_domain, e_port, e_auth, e_recvServicePort) => {\n    return (w_domain, w_port) => {\n      let requestData = {\n        group,\n        description,\n        encodeDevices: [\n          {\n            domain: e_domain,\n            port: e_port,\n            auth: e_auth,\n            recvServicePort: e_recvServicePort\n          }\n        ],\n        recvStreamServices: [\n          {\n            domain: w_domain,\n            port: w_port\n          }\n        ]\n      };\n      return requestData;\n    }\n  }\n}\n\nexport const getRouteParams = (namelist = [], targetId) => {\n  return (rootUrl = '/homev2', menu = 'unit', smenu = 'list') => {\n    // console.log('[nameList]', namelist);\n    // console.log('[路径参数制作]');\n    const selectedItem = getLocalStorage('selectedItem');\n    const selectedMenuItem = getLocalStorage('selectedMenuItem');\n    const selectedUnitItem = getLocalStorage('selectedUnitItem');\n    // let targetId;\n    let pathname;\n    let targetName;\n    let targetMenu;\n    let targetSMenu;\n    if (!targetId) {\n      // - \n      // connected-react-redux保存了刷新后的路由, 暂时不需要使用selectedItem\n      // if (selectedItem) { \n      //   targetId = selectedItem;\n      // } else {\n      //   const [first = {}] = namelist;\n      //   targetId = first.group_id;\n      // }\n      const [first = {}] = namelist;\n      console.log('[first]', first);\n      targetId = first.group_id;\n    }\n  \n    // console.log('[targetId]', targetId);\n\n    const index = namelist\n      .findIndex((v) => (v.group_id === targetId));\n    if (index > -1) {\n      targetName = namelist[index].group;\n    }\n    // console.log('[target]', targetId, targetName);\n\n    targetMenu = menu ? menu : selectedMenuItem;\n    pathname = rootUrl + '/' + targetMenu;\n\n\n    if (menu === 'unit') {\n      targetSMenu = smenu ? smenu : selectedUnitItem;\n      pathname = pathname + '/' + targetSMenu;\n    }\n\n    console.log('[pathname]', pathname, targetId, targetName);\n\n    return {\n      pathname,\n      state: {\n        group_id: targetId,\n        group: targetName,\n      }\n    }\n  }\n};\n\n// export const getRouteParams = (rootUrl = '/homev2', namelist = [], targetId, menu = 'unit', smenu = 'list') => {\n//   // console.log('[路径参数制作]');\n//   const selectedItem = getLocalStorage('selectedItem');\n//   const selectedMenuItem = getLocalStorage('selectedMenuItem');\n//   const selectedUnitItem = getLocalStorage('selectedUnitItem');\n//   // let targetId;\n//   let pathname;\n//   let targetName;\n//   let targetMenu;\n//   let targetSMenu;\n//   if (!targetId) {\n//     if (selectedItem) {\n//       targetId = selectedItem;\n//     } else {\n//       const [first = {}] = namelist;\n//       targetId = first.group_id;\n//     }\n//   }\n//   // console.log('[targetId]', targetId);\n//\n//   const index = namelist\n//     .findIndex((v) => (v.group_id === targetId));\n//   if (index > -1) {\n//     targetName = namelist[index].group;\n//   }\n//   // console.log('[target]', targetId, targetName);\n//\n//   targetMenu = menu ? menu : selectedMenuItem;\n//   pathname = rootUrl + '/' + targetMenu;\n//\n//\n//   if (menu === 'unit') {\n//     targetSMenu = smenu ? smenu : selectedUnitItem;\n//     pathname = pathname + '/' + targetSMenu;\n//   }\n//\n//   console.log('[pathname]', pathname);\n//\n//   return {\n//     pathname,\n//     state: {\n//       group_id: targetId,\n//       group: targetName,\n//     }\n//   }\n// };\n\n/**\n * 一级路由优先级: targetId > selectedItem > namelist首选项\n * 二级路由优先级:\n *\n * 简化路由的传递参数: getRouteParams(路径1, 路径2, 路径3, 路径4, ...)\n * */\n\n/**\n * 两部分:\n * 1.路由制作\n * 2.group_id和group制作\n * */\n\n/**\n * connected-react-router可以记录刷新页面前的状态: @@router/LOCATION_CHANGE\n * 刷新流程没有走这个方法...\n * */","import Immutable from 'immutable';\nimport {types as authTypes} from './auth.redux';\nimport {types as userTypes} from './users.redux';\nimport {types as groupsTypes, getGroupIds} from './groups.redux';\nimport {getLocalStorage} from \"../utils/utils\";\nimport isEmpty from 'lodash/isEmpty';\n\nconst defaultState = Immutable.fromJS({\n  isRememberAccount: false,\n  deviceStatus: ['transmission', 'online', 'offline'], // 传送中, 在线, 离线\n  deviceType: ['encode', 'wowza'], // encode, wowza\n  selectedItem: '', // 导航条, <select>选中项, group_id\n  selectedMenuItem: '', // <Menu>选中项, device/groups/server.js\n  selectedUnitItem: '', // 三级路由选中项(只有当二级路由是unit才有)\n});\n\n// action types\nexport const types = {\n  OPEN_REMEMBER_ACCOUNT: 'UI/OPEN_REMEMBER_ACCOUNT', // 勾选 记住密码 选项\n  CLOSE_REMEMBER_ACCOUNT: 'UI/CLOSE_REMEMBER_ACCOUNT', // 取消勾选 记住密码 选项\n  SET_DEVICE_STATUS: 'UI/SET_DEVICE_STATUS', // 设置展示的设备状态\n  CLEAR_DEVICE_STATUS: 'UI/CLEAR_DEVICE_STATUS', // 清空展示的设备状态\n  SET_DEVICE_TYPE: 'UI/SET_DEVICE_TYPE', // 设置展示的设备类型\n  CLEAR_DEVICE_TYPE: 'UI/CLEAR_DEVICE_TYPE', // 清空展示的设备类型\n  SET_SELECTED_ITEM: 'UI/SET_SELECTED_ITEM', // 设置<select>选中项目\n  SET_SELECTED_MENU_ITEM: 'UI/SET_SELECTED_MENU_ITEM', // 设置<Menu>选中项目\n  SET_SELECTED_UNIT_ITEM: 'UI/SET_SELECTED_UNIT_ITEM', // 设置三级路由选中项目\n};\n\n// action creators\nexport const actions = {\n  openRememberAccount: () => ({\n    type: types.OPEN_REMEMBER_ACCOUNT\n  }),\n  closeRememberAccount: () => ({\n    type: types.CLOSE_REMEMBER_ACCOUNT\n  }),\n  setDeviceStatus: (dStatus) => ({\n    type: types.SET_DEVICE_STATUS,\n    dStatus\n  }),\n  clearDeviceStatus: () => ({\n    type: types.CLEAR_DEVICE_STATUS\n  }),\n  setDeviceType: (dType) => ({\n    type: types.SET_DEVICE_TYPE,\n    dType\n  }),\n  clearDeviceType: () => ({\n    type: types.CLEAR_DEVICE_TYPE\n  }),\n  setSelectedItem: (group_id) => ({\n    type: types.SET_SELECTED_ITEM,\n    group_id\n  }),\n  setSelectedMenuItem: (current) => ({\n    type: types.SET_SELECTED_MENU_ITEM,\n    current\n  }),\n  setSelectedUnitItem: (current) => ({\n    type: types.SET_SELECTED_UNIT_ITEM,\n    current\n  })\n};\n\n// reducers\nexport default (state = defaultState, action) => {\n  function getLoginSelectedStatus(state, groupsIds) { // 方式1: 登录状态(无组/有组)\n    return state.merge({\n      selectedItem: groupsIds.length ? groupsIds[0] : '',\n      selectedMenuItem: ''\n    });\n  }\n\n  function getRefreshSelectedStatus(state, groupIds) { // 方式2: 刷新页面\n    let selectedItem = getLocalStorage('selectedItem');\n    let selectedMenuItem = getLocalStorage('selectedMenuItem');\n    if (isEmpty(selectedItem)) {\n      return getLoginSelectedStatus(state, groupIds);\n    }\n    return state.merge({selectedItem, selectedMenuItem});\n  }\n\n  function getOperateSelectedStatus(state, group_id) { // 方式三: 操作数组(添加组/删除组)\n    return state.merge({\n      selectedItem: group_id, // 创建组: id/删除组: ''\n      selectedMenuItem: 'device'\n    });\n  }\n\n  switch (action.type) {\n    case types.OPEN_REMEMBER_ACCOUNT:\n      return state.set('isRememberAccount', true);\n    case types.CLOSE_REMEMBER_ACCOUNT:\n      return state.set('isRememberAccount', false);\n    case types.SET_DEVICE_STATUS:\n      return state.merge({deviceStatus: Immutable.fromJS(action.dStatus)}); // 复杂数据类型 []\n    case types.CLEAR_DEVICE_STATUS:\n      return state.merge({deviceStatus: Immutable.fromJS([])}); // 复杂数据类型 []\n    case types.SET_DEVICE_TYPE:\n      return state.merge({deviceType: Immutable.fromJS(action.dType)}); // 复杂数据类型 []\n    case types.CLEAR_DEVICE_TYPE:\n      return state.merge({deviceType: Immutable.fromJS([])}); // 复杂数据类型 []\n    case types.SET_SELECTED_ITEM:\n      return state.set('selectedItem', action.group_id); // 简单数据类型\n    case types.SET_SELECTED_MENU_ITEM:\n      return state.set('selectedMenuItem', action.current); // 简单数据类型\n    case types.SET_SELECTED_UNIT_ITEM:\n      return state.set('selectedUnitItem', action.current); // 简单数据类型\n    case authTypes.LOGIN: // 登录成功\n      return getLoginSelectedStatus(state, action.groupsIds); // 简单数据类型\n    case userTypes.FETCH_USER_INFO: // 刷新页面\n      return getRefreshSelectedStatus(state, action.groupsIds); // 简单数据类型\n    case groupsTypes.CREATE_GROUP: // 创建组\n      return getOperateSelectedStatus(state, action.group_id); // 简单数据类型\n    case groupsTypes.DELETE_GROUP: // 删除组\n      return getOperateSelectedStatus(state, ''); // 简单数据类型\n    default:\n      return state;\n  }\n};\n\n// selector\nexport const isRememberAccount = (state) => state.getIn(['ui', 'isRememberAccount']);\nexport const getDeviceStatus = (state) => state.getIn(['ui', 'deviceStatus']);\nexport const getDeviceType = (state) => state.getIn(['ui', 'deviceType']);\nexport const getSelectedItem = (state) => state.getIn(['ui', 'selectedItem']);\nexport const getSelectedMenuItem = (state) => state.getIn(['ui', 'selectedMenuItem']);\n\n/**\n * 测试参数: 127.0.0.1     8000   auth:D37pAyzwfYTD4P1ZA1ycZ158PBy9zEzs\n * 接收端参数:  127.0.0.1    8087\n * */\n\n\n/**\n * 测试\n * 登录:\n *    : 条件 --- select显示 --- selectedItem --- selectedMenuItem\n *    : 无组 --- '' --- '' --- 'device'\n *    : 有组 * 1 --- firstItem in allIds --- 应该firstItem in allIds --- 'device'\n *    : 有组 * 2 --- firstItem in allIds --- 应该firstItem in allIds --- 'device'\n *\n * 刷新流程: setLocalStorage --- 刷新页面 --- getLocalStorage\n * localstorage:\n *              无组: 刷新 --- '' --- '' --- 'device'\n *              有组 * 1: 刷新 --- firstItem in allIds --- firstItem in allIds --- 'device'默认/'groups'/'server'\n *              有组 * 2: 刷新 --- firstItem in allIds --- firstItem in allIds --- 'device'默认/'groups'/'server'\n *              创建组: 刷新 --- 创建的group_id --- 创建的group_id --- 'device'\n *              删除组: 刷新 ---\n *                            如果数组中还有值: firstItem in allIds --- '' --- 'device'\n *                            如果数组中没有值: '' --- '' --- 'device'\n *\n * 操作组:\n *    创建组: 创建的group_id --- 创建的group_id --- 'device'\n *\n *    删除组:\n *      如果数组中还有值: firstItem in allIds --- '' --- 'device'\n *      如果数组中没有值: '' --- '' --- 'device'\n *\n * 删除组后, selectedItem, 会不会影响刷新\n * */","import {getAxios, postAxios} from '../utils/request';\nimport Immutable from 'immutable';\n\n// action creators\nexport const actions = {\n  getTest: (url) => {\n    return (dispatch) => {\n      getAxios(url, dispatch)\n        .then(res => {\n          console.log('[test.redux.js]', res);\n        });\n    }\n  },\n  postTest: (url) => {\n    return (dispatch) => {\n      postAxios(url, {}, dispatch)\n        .then(res => {\n          console.log('[test.redux.js]', res);\n        });\n    }\n  }\n};\n\n// reducer\nexport default (state = Immutable.fromJS({}), action) => {\n  switch (action.type) {\n    default:\n      return state;\n  }\n};","// -\n// import {combineReducers} from 'redux-immutable';\n// import app from './redux/app.redux';\n// import vcode from './redux/vcode.redux';\n// import auth from './redux/auth.redux';\n// import groups from './redux/groups.redux';\n// import encodes from './redux/encode.redux';\n// import wowzas from './redux/wowza.redux';\n// import wstream from './redux/wstream.redux';\n// import ui from './redux/ui.redux';\n// import response from './redux/response.redux';\n//\n// // 测试\n// import rcform from './redux/rcform.redux';\n//\n// export default combineReducers({\n//   app, vcode, auth, groups, encodes, wowzas, wstream, ui, response,\n//   rcform, // 测试\n// });\n\n// +\nimport {combineReducers} from 'redux-immutable';\nimport {connectRouter} from 'connected-react-router/immutable';\nimport app from './redux/app.redux';\nimport vcode from './redux/vcode.redux';\nimport auth from './redux/auth.redux';\nimport groups from './redux/groups.redux';\nimport encodes from './redux/encode.redux';\nimport wowzas from './redux/wowza.redux';\nimport wstream from './redux/wstream.redux';\nimport ui from './redux/ui.redux';\nimport test from './redux/test.redux';\n\n/*\n* import {createBrowserHistory} from 'history'; // 来自react-router-dom\n* history >>> const history = createBrowserHistory();\n* */\nconst createRootReducer = (history) => combineReducers({\n  router: connectRouter(history), // 可以把它当作将react-router-dom的history对象保存在router中\n  app,\n  vcode,\n  auth,\n  groups,\n  encodes,\n  wowzas,\n  wstream,\n  ui,\n  test\n  // ... 其他reducer\n});\n\nexport default createRootReducer;\n\n\n// step1:\n// createRootReducer: 接收1个history作为参数, 返回一个根reducer\n// 给根reducer里面添加一个router reducer, 这个reducer值为给connectRouter传递一个history参数","// +\n// step2:\nimport {createBrowserHistory} from 'history'; // 看作一个路由对象\nimport {applyMiddleware, createStore} from 'redux'; // 应用中间件, 创建store仓库\n\n// 控制台Redux\nimport {composeWithDevTools} from 'redux-devtools-extension';\n\n// reducer\nimport createRootReducer from './reducers';\n\n// 中间件\nimport {routerMiddleware} from 'connected-react-router/immutable';\nimport thunk from 'redux-thunk';\nimport logger from 'redux-logger';\n\nexport const history = createBrowserHistory();\nexport default function configureStore(preloadedState) {\n  const store = createStore(\n    createRootReducer(history), // 含有router state的根Reducer\n    preloadedState,\n    composeWithDevTools(\n      applyMiddleware(\n        routerMiddleware(history), // dispatch history actions(push, replace, go, goBack, goForward)\n        thunk,\n        // logger,\n        // ... 其他中间件\n      )\n    )\n  );\n\n  return store;\n}\n\n/**\n * 创建redux store\n * 1.创建history对象\n * */","import styled from 'styled-components';\n\n// 组 + select + 名字首字母 + 添加组按钮\nexport const NavbarSelect = styled.div`\n  display: flex !important;\n  flex-direction: row !important; // 主轴为水平方向, 起点在左端\n  align-items: center !important; // 在交叉轴上的对齐方式\n  margin-left: auto !important;\n  \n  // background: gold;\n  color: #fff;\n  span {\n    margin-right: 10px;\n    font-weight: 600;\n  }\n`;\n\n// select布局, 包裹antd/select\nexport const SelectLayout = styled.div`\n  width: 234px;\n  height: 40px;\n  margin-right: 20px;\n  background: #343a41;\n  border-radius: 5px;\n  \n  // background: blue;\n`;\n\nexport const AvatarLayout = styled.div`\n  display: flex;\n  align-items: center !important; // 定义项目在交叉轴上的对齐方式\n  justify-content: flex-end; // 定义项目在主轴上的对齐方式方式(尾部对齐)\n`;\n\nexport const UserInfoHeader = styled.div`\n  float: right;\n  margin-right: 28px;\n  overflow: hidden;\n  color: #fff;\n  font-weight: 600; \n  span {  \n    margin-right: 10px;\n  }\n`;\n\n// 注册区域\nexport const RegisterContentLayout = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  overflow-y: auto;\n  width: 750px;\n  height: 100%;\n`;\n\nexport const RegisterArea = styled.div`\n  width: 100%;\n  padding: 10px;\n  background-color: #343a41;\n`;\n\nexport const Title = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 8px;\n  margin-bottom: 10px;\n  font-size: 17.5px;\n  color: #fff;\n`;\n\n// 添加组'按钮'\nexport const AddGroupLayout = styled(AvatarLayout)``;\n\nexport const SpinWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  background-color: blue;\n`;","import React from 'react';\nimport {withRouter} from 'react-router-dom';\nimport {\n  NavbarSelect,\n  SelectLayout,\n  AvatarLayout,\n  RegisterContentLayout,\n  RegisterArea,\n  Title,\n  AddGroupLayout,\n  SpinWrapper\n} from './style';\nimport {Select, Avatar, Icon, Form, Modal, Input, Divider, Empty, Spin, Button} from 'antd';\nimport './style.css';\nimport isEmpty from 'lodash/isEmpty';\nimport Immutable from 'immutable';\nimport browserCookies from 'browser-cookies';\n\n@withRouter\nclass UserInfo extends React.Component {\n  state = {\n    visible: false,\n    selectText: 'dcj123'\n  };\n\n  render() {\n    const {username} = this.props.user;\n    const {groupNameList} = this.props;\n    // console.log('[UserInfo username]', username);\n    return (\n      <NavbarSelect>\n        <span>组</span>\n        <SelectLayout>\n          <GroupSelectForm\n            groupNameList={this.props.groupNameList}\n            onChange={this.handleChange}\n            defaultSelectedItem={this.props.defaultSelectedItem}\n            selectText={this.state.selectText}\n          />\n        </SelectLayout>\n        <AvatarLayout>\n          {/*登录后, 一定会有username*/}\n          {\n            username\n              ? (\n                <Avatar size={40}\n                        style={{border: '2px solid #fff', background: '#212a35'}}\n                >\n                  {username.substring(0, 1).toUpperCase()}\n                </Avatar>\n              )\n              : null\n          }\n        </AvatarLayout>\n        {/*添加组按钮*/}\n        <AddGroupLayout>\n          <Avatar\n            size={40}\n            style={{border: '2px solid #fff', background: '#212a35', cursor: 'pointer'}}\n            onClick={this.showModal}\n          >\n            <Icon type=\"usergroup-add\"/>\n          </Avatar>\n        </AddGroupLayout>\n        {/*删除组*/}\n        {\n          groupNameList.length\n            ? (\n              <AddGroupLayout>\n                <Avatar\n                  size={40}\n                  style={{border: '2px solid #fff', background: '#212a35', cursor: 'pointer'}}\n                  onClick={this.deleteGroup}\n                >\n                  <Icon type=\"usergroup-delete\"/>\n                </Avatar>\n              </AddGroupLayout>\n            )\n            : null\n        }\n        {/*刷新组*/}\n        {\n          groupNameList.length\n            ? (\n              <AddGroupLayout>\n                <Avatar\n                  size={40}\n                  style={{border: '2px solid #fff', background: '#212a35', cursor: 'pointer'}}\n                  onClick={this.refreshGroup}\n                >\n                  <Icon type=\"sync\"/>\n                </Avatar>\n              </AddGroupLayout>\n            )\n            : null\n        }\n\n        {/*删除所有组, 测试用*/}\n        {/*{*/}\n        {/*groupNameList.length*/}\n        {/*? (*/}\n        {/*<AddGroupLayout>*/}\n        {/*<Avatar*/}\n        {/*size={40}*/}\n        {/*style={{border: '2px solid #fff', background: '#212a35', cursor: 'pointer'}}*/}\n        {/*onClick={this.deleteAllGroup}*/}\n        {/*>*/}\n        {/*<Icon type=\"delete\"/>*/}\n        {/*</Avatar>*/}\n        {/*</AddGroupLayout>*/}\n        {/*)*/}\n        {/*: null*/}\n        {/*}*/}\n\n        {/*登出按钮*/}\n        <AddGroupLayout>\n          <Avatar\n            size={40}\n            style={{border: '2px solid #fff', background: '#212a35', cursor: 'pointer'}}\n            onClick={this.logout}\n          >\n            <Icon type=\"logout\"/>\n          </Avatar>\n        </AddGroupLayout>\n        {/*创建组Form*/}\n        <GroupCreateForm\n          wrappedComponentRef={this.saveCreateFormRef}\n          visible={this.state.visible}\n          onCancel={this.handleCancel}\n          onCreate={this.handleCreate}\n        />\n      </NavbarSelect>\n    )\n  }\n\n  handleChange = (value) => {\n    // console.log(`selected ${value}`);\n    this.props.onSelectedItem(value);\n  };\n\n  // 显示窗口\n  showModal = () => {\n    this.setState({visible: true});\n  };\n\n  // 登出\n  logout = () => {\n    const {confirm} = Modal;\n    confirm({\n      title: '退出登录',\n      content: '确定退出登录???',\n      onOk: () => {\n        // console.log('确认');\n        // 1.清空cookie\n        browserCookies.erase('login.user');\n        // 2.调用auth.redux.logout方法\n        this.props.onLogout();\n        // 3.清空localStorage\n        this.props.removeLocalStorage('selectedItem');\n        this.props.removeLocalStorage('selectedMenuItem');\n      },\n      onCancel: () => {\n        console.log('取消');\n      }\n    });\n  };\n\n  // 刷新组(groupNameList为空时, 不显示)\n  refreshGroup = () => {\n    // const {group, group_id} = this.getCurrentGroupData();\n    // if (!isEmpty(group) && !isEmpty(group_id)) {\n    //   this.props.onRefreshGroup({group, group_id});\n    // }\n    window.location.href = window.location.href;\n  };\n\n  // 删除组(groupNameList为空时, 不显示)\n  deleteGroup = () => {\n    const {group, group_id} = this.getCurrentGroupData();\n    const {confirm} = Modal;\n    if (!isEmpty(group) && !isEmpty(group_id)) { // 新用户的group和group_id为空\n      confirm({\n        title: '删除组',\n        content: `确定删除${group}组吗???`,\n        onOk: () => {\n          // 调用删除组api\n          this.props.onDeleteGroup({group, group_id});\n          // 清空localStorage\n          this.props.removeLocalStorage('selectedItem');\n          this.props.removeLocalStorage('selectedMenuItem');\n          // 刷新页面\n          // window.location.href = window.location.href;\n        },\n        onCancel: () => {\n          console.log('取消');\n        }\n      });\n    } else {\n      // 删除的用户不存在\n      console.log('[删除的用户不存在]');\n    }\n  };\n\n  // 删除所有组\n  // deleteAllGroup = () => {\n  //   this.props.onDeleteAllGroup();\n  // };\n\n  getCurrentGroupData = () => {\n    const {groupNameList, selectedItem} = this.props;\n    // console.log('[删除的selectedItem]', selectedItem);\n    const index = groupNameList.findIndex((v) => v.group_id === selectedItem);\n    if (index > -1) {\n      const item = groupNameList[index];\n      const group = item.group;\n      const group_id = item.group_id;\n      return {\n        group,\n        group_id\n      }\n    }\n    return {};\n  };\n\n  // 关闭窗口, 传递给GroupCreateForm组件\n  handleCancel = () => {\n    this.setState({visible: false});\n  };\n\n  handleCreate = () => {\n    // 数据校验, 并调用父组件的addGroup方法\n    const {form} = this.createFormRef.props;\n    form.validateFields((err, values) => {\n      if (err) {\n        return;\n      }\n      // console.log('[Receive values of form]', values);\n      form.resetFields(); // 清空表单\n      this.setState({visible: false});// 隐藏窗口\n      let requestData = {\n        group: values['group'],\n        description: values['group-description'],\n        encodeDevices: [\n          {\n            domain: values['encode-domain'],\n            port: values['encode-port'],\n            auth: values['encode-auth'],\n            recvServicePort: values['encode-recvServicePort']\n          }\n        ],\n        recvStreamServices: [\n          {\n            domain: values['wowza-domain'],\n            port: values['wowza-port']\n          }\n        ]\n      };\n      this.props.onCreateNewGroup(requestData); // home.js传递过来的\n      // 清除localStorage\n      this.props.removeLocalStorage('selectedItem');\n      this.props.removeLocalStorage('selectedMenuItem');\n      // 刷新页面\n      // window.location.href = window.location.href;\n    });\n  };\n\n  saveCreateFormRef = (formRef) => { // 表示GroupCreateForm的实例\n    this.createFormRef = formRef;\n  };\n}\n\n// 下拉菜单Form\nconst GroupSelectForm = Form.create({name: 'group_select_form'})(\n  class extends React.Component {\n    render() {\n      const {getFieldDecorator, setFieldsValue} = this.props.form;\n      const {groupNameList, onChange, defaultSelectedItem, selectText} = this.props;\n\n      return (\n        <div style={{width: '100%'}}>\n          <Select size='large' onChange={onChange} notFoundContent='No Group'\n                  value={defaultSelectedItem || 'Please add a group'}\n                  style={{width: '100%'}}>\n            {\n              groupNameList.map((item) => (\n                <Select.Option\n                  size='large'\n                  value={item.group_id}\n                  key={item.group_id}\n                >\n                  {item.group}\n                </Select.Option>\n              ))\n            }\n          </Select>\n        </div>\n      )\n    }\n  }\n);\n\nclass ModalTitle extends React.Component {\n  render() {\n    return (\n      <div style={{background: ''}}>添加组信息</div>\n    )\n  }\n}\n\n// 创建组Form\nconst GroupCreateForm = Form.create({name: 'group_create_form'})(\n  class extends React.Component {\n    render() {\n      const {visible, onCancel, onCreate, form} = this.props;\n      const {getFieldDecorator} = form;\n      const formItemLayout = {\n        labelCol: {\n          xs: {span: 24},\n          sm: {span: 6, offset: 12},\n        },\n        wrapperCol: {\n          xs: {span: 24},\n          sm: {span: 8},\n        },\n      };\n      return (\n        <Modal\n          visible={visible}\n          title={<ModalTitle/>}\n          okText='添加'\n          cancelText='取消'\n          onOk={onCreate}\n          onCancel={onCancel}\n          width={750}\n          mast={false}\n          className='add-group-modal-dcj'\n          style={{color: 'red'}}\n        >\n          <Spin spinning={false} size='large' tip='Loading...' style={{maxHeight: '100%'}}>\n            <RegisterContentLayout>\n              <RegisterArea>\n                <Form layout='vertical' {...formItemLayout}>\n                  <Title>组信息</Title>\n                  {/* 1 */}\n                  <Form.Item label='组名' style={{lineHeight: '40px', textAlign: 'center !important'}}>\n                    {\n                      getFieldDecorator('group', {\n                        rules: [{required: true, message: 'group is required'}]\n                      })(<Input placeholder='group' size='large'/>)\n                    }\n                  </Form.Item>\n\n                  {/* 2 */}\n                  <Form.Item label='描述' style={{lineHeight: '40px', textAlign: 'center !important'}}>\n                    {\n                      getFieldDecorator('group-description', {\n                        rules: [{required: true, message: 'description is required'}]\n                      })(<Input placeholder='description' size='large'/>)\n                    }\n                  </Form.Item>\n                  <Divider style={{background: '#212a35'}}/>\n\n                  <Title>编码器设置</Title>\n\n                  {/* 3 */}\n                  <Form.Item label='编码器服务地址'>\n                    {\n                      getFieldDecorator('encode-domain', {\n                        rules: [{required: true, message: 'domain is required'}],\n                        initialValue: '211.161.196.204' // 测试添加组数据\n                      })(<Input placeholder='domain' size='large'/>)\n                    }\n                  </Form.Item>\n\n                  {/* 4 */}\n                  <Form.Item label='编码器服务端口'>\n                    {\n                      getFieldDecorator('encode-port', {\n                        rules: [{required: true, message: 'port is required'}],\n                        initialValue: 8000 // 测试数据\n                      })(<Input placeholder='port' size='large'/>)\n                    }\n                  </Form.Item>\n\n                  {/* 5 */}\n                  <Form.Item label='认证auth'>\n                    {\n                      getFieldDecorator('encode-auth', {\n                        rules: [{required: true, message: 'auth is required'}],\n                        initialValue: 'FFj6hRxD7Xe22di5hTKQAKxtCAFSsSbf', // 测试数据\n                      })(<Input placeholder='auth' size='large'/>)\n                    }\n                  </Form.Item>\n\n                  {/* 6 */}\n                  <Form.Item label='接收wowza端的端口'>\n                    {\n                      getFieldDecorator('encode-recvServicePort', {\n                        rules: [{required: true, message: 'recvServicePort is required'}],\n                        initialValue: 12000 // 测试数据\n                      })(<Input placeholder='recvServicePort' size='large'/>)\n                    }\n                  </Form.Item>\n                  <Divider style={{background: '#212a35'}}/>\n\n                  <Title>wowza设置</Title>\n\n                  {/* 7 */}\n                  <Form.Item label='接收端wowza地址'>\n                    {\n                      getFieldDecorator('wowza-domain', {\n                        rules: [{required: true, message: 'domain is required'}],\n                        initialValue: '127.0.0.1' // 测试数据\n                      })(<Input placeholder='domain' size='large'/>)\n                    }\n                  </Form.Item>\n\n                  {/* 8 */}\n                  <Form.Item label='接收端wowza端口'>\n                    {\n                      getFieldDecorator('wowza-port', {\n                        rules: [{required: true, message: 'port is required'}],\n                        initialValue: 8087// 测试数据\n                      })(<Input placeholder='port' size='large'/>)\n                    }\n                  </Form.Item>\n                </Form>\n              </RegisterArea>\n            </RegisterContentLayout>\n          </Spin>\n        </Modal>\n      )\n    }\n  }\n);\n\nexport default UserInfo;\n\n/**\n * 设计\n * 1.在创建组Group的时候, 必须输入1台encode编码器设备 和 1台wowza接收服务器设备\n * 2.后续如果设计 1对多(1台wowza对应多个encode编码器设备), 新encode编码器设备, 在对应的组中添加\n * */\n\n/*\n* 创建组: 完成后, 清空localStorage\n* 删除组: 完成后, 清空localStorage, 并刷新页面\n* 需要一个操作组的标志位: loading或添加组, 删除组后的其他操作\n* */\n","import styled from 'styled-components';\n\nexport const FilterLayout = styled.div`\n  position: fixed;\n  width: 260px;\n  height: 100%;\n  background: #212a35;\n`;\n\nexport const FilterExpandLayout = styled.div`\n  padding-right: 20px;\n  height: calc(100% - 74px);\n  background: rgb(9, 11, 12);\n`;\n\n// 过滤标签\nexport const FilterTitle = styled.div`\n  color: #fff;\n  padding: 0 0 7px;\n  font-size: 14px;\n  margin-bottom: 17px;\n`;\n\nexport const FilterLabel = styled.div`\n  padding-top: 18px;\n  padding-bottom: 26px;\n  height: 54px;\n  border-bottom: 1px solid rgb(66,70,78);\n  text-align: left;\n  span {\n    float: right;\n    cursor: pointer;\n    color: rgb(57,134,251);\n  } \n`;","import React from 'react';\nimport {Icon, PageHeader, Form, Checkbox, Row, Col} from 'antd';\nimport {FilterLayout, FilterExpandLayout, FilterTitle, FilterLabel} from './style';\n\nconst IconFont = Icon.createFromIconfontCN({\n  scriptUrl: '//at.alicdn.com/t/font_1113810_o3p2w2mc6i.js'\n});\n\nclass FilterSideBar extends React.Component {\n  render() {\n    const {\n      rawDeviceStatus,\n      rawDeviceType,\n      onSetDeviceStatus,\n      onSetDeviceType,\n      onClearDeviceStatus,\n      onClearDeviceType\n    } = this.props;\n    const filterStateList = [\n      {text: '传送中', value: 'transmission', color: 'red', type: 'icondian1'},\n      {text: '在线', value: 'online', color: 'green', type: 'icondian1'},\n      {text: '离线', value: 'offline', color: 'white', type: 'icondian1'}\n    ];\n    const filterTypeList = [\n      {text: '编码器设备', value: 'encode', color: 'white', type: 'icondiannao'},\n      {text: '接收端wowza', value: 'wowza', color: 'white', type: 'iconshebei'}\n    ];\n    // const rawDeviceStatus = deviceStatus.toJS();\n    // const rawDeviceType = deviceType.toJS();\n    return (\n      <FilterLayout>\n        {/*标题*/}\n        <PageHeader title={\n          <div style={{\n            width: 220,\n            height: 42,\n            color: '#fff',\n            fontSize: '14px',\n            fontWeight: '400',\n            lineHeight: '42px',\n          }}>\n            <Icon type='filter'/>\n            <span style={{marginLeft: 10}}>过滤</span>\n          </div>\n        } style={{background: '#161b21'}}/>\n        {/*过滤表单*/}\n        <FilterExpandLayout>\n          {/*状态过滤*/}\n          <FilterCheckBoxForm\n            name='状态'\n            filterList={filterStateList}\n            defaultChecked={rawDeviceStatus}\n            handleChecked={onSetDeviceStatus}\n            clearFields={onClearDeviceStatus}\n          />\n          {/*种类过滤*/}\n          <FilterCheckBoxForm\n            name='种类'\n            filterList={filterTypeList}\n            defaultChecked={rawDeviceType}\n            handleChecked={onSetDeviceType}\n            clearFields={onClearDeviceType}\n          />\n        </FilterExpandLayout>\n      </FilterLayout>\n    )\n  }\n}\n\n// 匿名checkBox组件\nconst FilterCheckBoxForm = Form.create({name: 'filter_check_box_form'})(\n  class extends React.Component {\n    render() {\n      const {getFieldDecorator} = this.props.form;\n      const {defaultChecked} = this.props;\n      // console.log('[defaultChecked]', defaultChecked);\n      const onChange = (e) => { // ['transmission','online','offline'] / ['encode', 'wowza']\n        // console.log('checked = ', e);\n        this.props.handleChecked(e);\n      };\n      // 重置\n      const resetFilterState = () => {\n        // FilterCheckBoxForm\n        this.props.clearFields();\n        // 使用 setFieldsValue 来动态设置其他控件的值。\n        this.props.form.setFieldsValue({\n          'checkbox-group': []\n        });\n      };\n      return (\n        <Form\n          layout='inline'\n          style={{padding: '16px 0 0 16px'}}\n        >\n          <FilterTitle>\n            <FilterLabel>\n              {this.props.name}\n              <span onClick={resetFilterState}>重置</span>\n            </FilterLabel>\n          </FilterTitle>\n\n          <Form.Item label=''>\n            {\n              getFieldDecorator('checkbox-group', {\n                initialValue: defaultChecked || []\n              })(\n                <Checkbox.Group\n                  style={{width: '100%'}}\n                  onChange={onChange}\n                >\n                  <Row>\n                    {\n                      this.props.filterList.map((item) => (\n                        <Col span={24} style={{height: 54}} key={item.text}>\n                          <Checkbox value={item.value}\n                                    style={{height: 23, color: '#fff', fontSize: '14px'}}\n                          >\n                            <IconFont type={item.type}\n                                      style={{color: item.color, paddingLeft: 2, fontSize: 13}}/>\n                            <span style={{paddingLeft: 10}}>{item.text}</span>\n                          </Checkbox>\n                        </Col>\n                      ))\n                    }\n                  </Row>\n                </Checkbox.Group>\n              )\n            }\n          </Form.Item>\n        </Form>\n      )\n    }\n  }\n);\n\nexport default FilterSideBar;\n\n/**\n * groupCard左侧, checkbox过滤部分\n * */","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {notification} from 'antd';\nimport {actions as appActions} from '../../redux/app.redux';\n\nclass Modal extends React.Component {\n  constructor(props) {\n    super(props);\n    // 根节点下创建一个div节点\n    this.container = document.createElement('div');\n    document.body.appendChild(this.container);\n  }\n\n  componentWillUnmount() {\n    document.body.removeChild(this.container);\n  }\n\n  render() {\n    const {type, message, description} = this.props;\n    return ReactDOM.createPortal(\n      <div>\n        {\n          this.openNotification(type, message, description)\n        }\n      </div>,\n      this.container\n    )\n  }\n\n  openNotification = (type, message, description) => {\n    notification[type]({\n      message,\n      description,\n      duration: 2\n    });\n    // 错误提示框展示后, 清空error\n    this.props.removeError();\n  };\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    ...bindActionCreators(appActions, dispatch)\n  }\n};\n\nexport default connect(null, mapDispatchToProps)(Modal);\n\n/**\n * ReactDOM.createPortal(参数1, 参数2)\n * 1.参数1: React元素\n * 2.参数2: DOM元素, React元素将被挂载到这个DOM节点\n * */","import Immutable from 'immutable';\nimport {getGroupIds, getGroupById} from './groups.redux';\nimport {getEncodeIdsByGroup, getEncodeById} from './encode.redux';\nimport {getWowzaIdsByGroup, getWowzaById} from './wowza.redux';\nimport {getWowzaStreamInfoByGroup, getWowzaInfoById} from './wstream.redux';\nimport {getSelectedItem, getSelectedMenuItem} from './ui.redux';\nimport {getLoggedUser} from './auth.redux';\nimport {getLocalStorage} from '../utils/utils';\nimport isEmpty from 'lodash/isEmpty';\n\n// 获取所有组的名字\nexport const getGroupNameList = (state) => {\n  const allIds = getGroupIds(state);\n  return allIds.map(id => {\n    const group = getGroupById(state, id).get('group');\n    const group_id = getGroupById(state, id).get('group_id');\n    return Immutable.fromJS({\n      group,\n      group_id\n    });\n  });\n};\n\n// 获取某一个组下的所有encodes\nexport const getEncodesListByGroupId = (state, group_id) => {\n  const encodeIds = getEncodeIdsByGroup(state, group_id);\n  if (encodeIds) {\n    return encodeIds.map((id) => {\n      const encode = getEncodeById(state, id);\n      return encode;\n    });\n  } else {\n    return Immutable.List();\n  }\n};\n\n// 获取某一个组下的所有wowzas\nexport const getWowzasListByGroupId = (state, group_id) => {\n  const wowzaIds = getWowzaIdsByGroup(state, group_id);\n  if (wowzaIds) {\n    return wowzaIds.map((id) => {\n      const wowza = getWowzaById(state, id);\n      return wowza;\n    });\n  } else {\n    return Immutable.List();\n  }\n};\n\n// 获取某一个组\nexport const getSingleGroupByGroupId = (state, group_id) => {\n  const group = getGroupById(state, group_id);\n  if (group) {\n    return Immutable.fromJS(group);\n  } else {\n    return Immutable.fromJS({});\n  }\n};\n\n// 获取某一组的信息\nexport const getGroupListByGroupId = (state, group_id) => {\n  const encodes = getEncodesListByGroupId(state, group_id);\n  const wowzas = getWowzasListByGroupId(state, group_id);\n  const group = getSingleGroupByGroupId(state, group_id);\n  return group.merge({\n    encodeDevices: encodes,\n    recvStreamServices: wowzas\n  });\n};\n\n// // 获取某一组下的单个wowza流信息\n// export const getSingleGroupWowzaStreamInfo = (state, group_id) => {\n//   const allWowzaIds = getWowzaStreamInfoByGroup(state, group_id);\n//   if (allWowzaIds) {\n//     return allWowzaIds.map((id) => {\n//       return getWowzaInfoById(state, id);\n//     });\n//   } else {\n//     return Immutable.List();\n//   }\n// };\n\n// 获取某一组下的单个wowza流信息\nexport const getSingleGroupWowzaStreamInfo = (state) => {\n  const currentSelectedItem = getSelectedItem(state); // group_id\n  if (currentSelectedItem) {\n    const allWowzaIds = getWowzaStreamInfoByGroup(state, currentSelectedItem);\n    if (allWowzaIds) {\n      return allWowzaIds.map((id) => {\n        return getWowzaInfoById(state, id);\n      });\n    }\n  }\n  return Immutable.fromJS([]);\n};\n\n// 根据selectedItem来整合单一组信息\nexport const getSingleGroupBySelectedItem = (state) => {\n  // const currentSelectedItem = getSelectedItem(state);\n  const currentSelectedItem = getSelectedItemToUse(state);\n  // console.log('[currentSelectedItem]', currentSelectedItem);\n  if (currentSelectedItem) {\n    // 获取单一组, 包装成API的样子\n    const group = getSingleGroupByGroupId(state, currentSelectedItem);\n    const encodes = getEncodesListByGroupId(state, currentSelectedItem);\n    const wowzas = getWowzasListByGroupId(state, currentSelectedItem);\n    return group.merge({\n      encodeDevices: encodes,\n      recvStreamServices: wowzas\n    });\n  } else {\n    return Immutable.fromJS({});\n  }\n};\n\n// 计算<selected>的默认项目\nexport const getDetaultSelectedItem = (state) => {\n  const selectedItem = getLocalStorage('selectedItem'); // TODO: 问题出在这里\n\n  if (selectedItem) {\n    const allIds = getGroupIds(state);\n    const index = allIds.findIndex((v) => v === selectedItem);\n    return (index >= 0) ? getGroupById(state, selectedItem).get('group') : '';\n  } else {\n    const groupList = getGroupNameList(state);\n    // console.log('[defaultGroupNameList]', groupList.size ? groupList.first().get('group') : '');\n    return groupList.size ? groupList.first().get('group') : '';\n  }\n};\n\n// 根据selectedItem, 返回可用的选中项\nexport const getSelectedItemToUse = (state) => {\n  const currentSelectedItem = getSelectedItem(state);\n\n  // 当无组, 删除组时, selectedItem === ''\n  const allIds = getGroupIds(state);\n  const index = allIds.findIndex((v) => v === currentSelectedItem);\n\n  // console.log('[计算selectedItem]', currentSelectedItem, index);\n\n  if (index >= 0) {\n    return currentSelectedItem;\n  }\n\n  if (index < 0 && allIds.size) { // 删除组\n    return allIds.first();\n  }\n\n  return ''; // 没有组\n};\n\n// 根据可用的选中项, 获取group, 组名\nexport const getDetaultGroup = (state) => {\n  const useSelectedItem = getSelectedItemToUse(state);\n  const group = getGroupById(state, useSelectedItem);\n  if (!isEmpty(group)) {\n    return group.get('group');\n  } else {\n    return '';\n  }\n};\n\n// 根据selectedMenuItem, 返回可用的跳转项\nexport const getSelectedMenuItemToUse = (state) => {\n  const currentSelectedMenuItem = getSelectedMenuItem(state);\n  const selectedMenuItem = getLocalStorage('selectedMenuItem');\n  // console.log('[根据selectedMenuItem, 返回可用的跳转项]', currentSelectedMenuItem, selectedMenuItem);\n  if (!isEmpty(currentSelectedMenuItem)) { // currentSelectedMenuItem是否为空(是不是登录/刷新状态)\n    return currentSelectedMenuItem;\n  }\n\n  if (!isEmpty(selectedMenuItem)) { // 刷新页面, 当前是登录状态, 还是刷新状态\n    return selectedMenuItem;\n  }\n\n  // 登录状态('', 且localStorage的selectedMenuItem为空)\n  return 'device';\n\n  // 登录/刷新, selectedMenuItem都返回''\n  // 三种状态:\n  //\n};\n\n// 根据可用的跳转项, 制作跳转路径, useRedirectTo\nexport const getUseRedirectTo = (state) => {\n  const useSelectedMenuItem = getSelectedMenuItemToUse(state);\n  return `/home/${useSelectedMenuItem}`;\n};\n\n// 获取username\nexport const getUserName = (state) => {\n  let username = getLoggedUser(state).get('username');\n  return username || getLocalStorage('login.user');\n  /*\n  * user/username三种状态:\n  * 1.默认状态/加载前状态: username: ''\n  * 2.加载完成, 有值: username: 'adinno'\n  * 3.刷新: 从cookie中获取'login.user'\n  * */\n};\n\n/**\n * 参数group_id都从ui.redux.js中的selectedItem字段来获取\n * */\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport videojs from 'video.js';\nimport '../../../node_modules/video.js/dist/video-js.css'; // 导入后, 可设置width和height等属性; 不导入, 有测试界面\n\nclass SPlayer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.player = React.createRef();\n  }\n\n  static propTypes = {\n    url: PropTypes.string.isRequired,\n    eventOn: PropTypes.object.isRequired,\n    width: PropTypes.string.isRequired,\n    height: PropTypes.string.isRequired,\n    posters: PropTypes.string.isRequired\n  };\n\n  render() {\n    return (\n      <div>\n        <video\n          className='video-js'\n          data-setup='{}'\n          poster={this.props.posters}\n          ref={this.player}\n          autoPlay\n          controls\n        />\n      </div>\n    )\n  }\n\n  componentDidMount() {\n    const {eventOn} = this.props;\n    const videoNode = this.player.current;\n\n    this.video = videojs(videoNode, {\n      sources: [{\n        src: this.props.url,\n      }],\n      width: this.props.width,\n      height: this.props.height,\n    });\n\n    // 事件监听\n    Object.keys(eventOn).forEach((item) => {\n      this.video.on(item, () => {\n        eventOn[item]();\n      })\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.video) {\n      this.video.dispose();\n    }\n  }\n}\n\nexport default SPlayer;\n\n// 参数默认值\nSPlayer.defaultProps = {\n  // url: 'http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4',\n  url: '',\n  width: '340px',\n  height: '250px',\n};\n\n/**\n * 对video.js封装\n * 1.videojs(参数1, 参数2)\n * 参数1: 应该是一个dom节点, 通过React的ref来获取\n * 参数2: 设置播放器的参数配置\n *\n * 2.在componentWillUnmount(){}是销毁this.video\n *\n * 3.定义接口 --- 让<SPlayer/>可传入属性与参数\n * (1)传入属性值: eg: url\n * (2)事件监听:\n * videojs.on('事件名称', function(){...});\n * (3)事件监听应该从父元素传入\n *\n * 4.在父元素中操控播放器: 播放/停止按钮\n *\n * 5.videojs有picture-in-picture的小窗口播放的功能, 后续根据滚动的距离来判断是否开启小窗口播放的功能.\n *\n * 6.播放器参数设置: https://segmentfault.com/a/1190000018914486\n *\n * 7.将videojs, 以及在react中使用videojs总结到github中去\n *\n * 8.一款基于react的videojs插件: video-react\n *\n * 9.videojs的宽度/高度设置不起作用 --- 原因: 没有导入css文件\n *\n * 10.\n * */","import styled from 'styled-components';\n\nexport const EncodesDetails = styled.div`\n  display: flex;\n  flex-direction: column !important; // 主轴为垂直方向, 起点在上沿\n  height: 100% !important;\n  padding-left: 20px;\n  padding-right: 20px;\n  \n  // background: red;\n`;\n\n// 头部信息\nexport const Header = styled.div`\n  display: flex;\n  align-items: center; // 在交叉轴上的对齐方式\n  max-height: 40px;\n  min-height: 40px;\n  border-bottom: 1px solid #545860;\n  margin-bottom: 10px;\n  color: #fff;\n  .title {\n    padding-left: 10px;\n    width: auto;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  \n  .auto {\n    margin-left: auto !important;    \n  } \n  \n  // background: gold;\n`;\n\n// 滚动区域\nexport const ScrollArea = styled.div`\n  display: flex;\n  flex-direction: column !important; // 主轴为垂直方向, 起点为上沿\n  overflow-y: auto;\n  scroll-behavior: smooth;\n`;\n\n// 放置播放器的容器\nexport const VideoDiv = styled.div`\n  position: relative !important;\n  width: 100%;\n  height: 170px;\n  min-height: 170px;\n  background-color: gold;\n  margin-bottom: 15px;\n`;\n\n// Setting 推流参数(播放器下)\nexport const Setting = styled.div`\n  display: flex !important;\n  flex-direction: column !important;\n  flex-shrink: 0; // 当主轴空间不足时, 项目不缩放\n  min-height: 320px;\n  margin-bottom: 15px;\n  background-color: #343a41;  \n`;\n\n// Setting中的内容采用Grid布局\nexport const SettingLayout = styled.div`\n  display: grid;\n  grid-template-columns: 30% 70%;\n  grid-auto-rows: 40px; // 自动生成多余网格(一行中未放置的地方, 自动生成网格)\n  grid-row-gap: 20px; // 行间隙\n  align-items: center; // 在交叉轴上的对齐方式\n  padding: 20px;\n  text-align: left;\n  color: #fff;\n  font-weight: 400;\n  font-size: 14px;\n`;\n\n// 注册布局, 弹窗\nexport const RegisterContentLayout = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  // overflow-y: auto;\n`;\n\n// 注册区域, 弹窗\nexport const RegisterArea = styled.div`\n  width: 100%;\n  padding: 10px;\n  background-color: #343a41;\n`;\n\n// 修改Group信息, 弹窗标题\nexport const Title = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 8px;\n  margin-bottom: 10px;\n  font-size: 17.5px;\n  color: #fff;\n`;","import React from 'react';\nimport {withRouter} from 'react-router-dom';\nimport SPlayer from '../splayer/splayer';\nimport {Icon, Form, Modal, Input} from 'antd';\nimport {\n  EncodesDetails,\n  Header,\n  ScrollArea,\n  VideoDiv,\n  Setting,\n  SettingLayout,\n  RegisterContentLayout,\n  RegisterArea,\n  Title\n} from './style';\n\n\n@withRouter\nclass GroupEncodeSidebar extends React.Component {\n  state = {\n    visible: false\n  };\n\n  render() {\n    const {data, item_id} = this.props;\n    const encodes = data.encodeDevices; // encode数组\n    const index = encodes.findIndex((item) => item.id === item_id);\n    let item = {};\n    if (index > -1) {\n      item = encodes[index];\n    }\n    // console.log('[GroupEncodeSidebar data]', item);\n    return (\n      <EncodesDetails>\n        {/*头部*/}\n        <Header>\n          <Icon type='desktop'/>\n          <span className='title'>{item.domain}</span>\n          <span className='auto'></span>\n          <Icon type='setting' theme=\"filled\" style={{marginRight: 5}} onClick={this.showModal}/>\n          <Icon type='ellipsis' rotate={90} onClick={() => console.log('icon modify')}/>\n        </Header>\n        {/*滚动区域*/}\n        <ScrollArea>\n          <VideoDiv>\n            <SPlayer\n              posters={require(`./img/poster.jpg`)}\n              width={'425'}\n              height={'170'}\n              // url={'http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4'} // 流地址\n              eventOn={this.handleEventOn()}\n            />\n          </VideoDiv>\n          <Setting>\n            <SettingLayout>\n              {/*<span>id</span>*/}\n              {/*<div>{item.id ? item.id : 'null'}</div>*/}\n              <span>domain</span>\n              <div>{item.domain ? item.domain : 'null'}</div>\n              <span>port</span>\n              <div>{item.port ? item.port : 'null'}</div>\n              <span>auth</span>\n              <div>{item.auth ? item.auth : 'null'}</div>\n              <span>recvServicePort</span>\n              <div>{item.recvServicePort ? item.recvServicePort : 'null'}</div>\n              <span>state</span>\n              <div>{item.state ? item.state : 'null'}</div>\n              <span>eMessage</span>\n              <div>{item.eMessage ? item.eMessage : '没有错误'}</div>\n            </SettingLayout>\n          </Setting>\n        </ScrollArea>\n        {/*修改GroupInfo*/}\n        <ModifyGroupForm\n          wrappedComponentRef={this.saveModifyGroupFormRef}\n          visible={this.state.visible}\n          onCreate={this.handleCreate}\n          onCancel={this.handleCancel}\n          item={item}\n        />\n      </EncodesDetails>\n    )\n  }\n\n  handleEventOn = () => {\n    return {\n      play: () => {\n        // console.log('[播放]');\n      },\n      pause: () => {\n        // console.log('[暂停]');\n      }\n    }\n  };\n\n  // ModifyGroupForm实例\n  saveModifyGroupFormRef = (formRef) => {\n    this.modifyGroupFormRef = formRef;\n  };\n\n  // 弹出修改Group弹窗\n  showModal = () => {\n    this.setState({visible: true});\n  };\n\n  // 弹窗'添加'按钮响应\n  handleCreate = () => {\n    const form = this.modifyGroupFormRef.props.form;\n    form.validateFields((err, values) => {\n      if (err) {\n        return;\n      }\n      console.log('[Receive values of form 编码器]', values);\n      form.resetFields(); // 清空表单\n      this.setState({visible: false}); // 隐藏弹窗\n      // 发送修改Group请求\n      const data = this.props.data;\n      let requestData = {\n        group: data.group,\n        description: data.description,\n        encodeDevices: [\n          {\n            domain: values.domain,\n            port: values.port,\n            auth: values.auth,\n            recvServicePort: values.recvServicePort\n          }\n        ],\n        recvStreamServices: [ // 暂时先这么写\n          {\n            domain: data.recvStreamServices[0].domain,\n            port: data.recvStreamServices[0].port\n          }\n        ]\n      };\n      this.props.onModify(requestData);\n    });\n  };\n\n  // 弹窗'取消'按钮响应\n  handleCancel = () => {\n    this.setState({visible: false});\n  };\n}\n\nconst ModifyGroupForm = Form.create({name: 'modify_group_form'})(\n  class extends React.Component {\n    render() {\n      const {visible, onCreate, onCancel, item} = this.props;\n      const {getFieldDecorator} = this.props.form;\n      const formItemLayout = {\n        labelCol: {\n          xs: {span: 24},\n          sm: {span: 4, offset: 12},\n        },\n        wrapperCol: {\n          xs: {span: 24},\n          sm: {span: 8},\n        },\n      };\n      return (\n        <Modal\n          visible={visible}\n          title='修改编码器'\n          okText='添加'\n          cancelText='取消'\n          onOk={onCreate}\n          onCancel={onCancel}\n          width={820}\n          mast={false}\n          className='add-group-modal-dcj'\n        >\n          <RegisterContentLayout>\n            <RegisterArea>\n              <Form layout='vertical' {...formItemLayout}>\n                <Title>编码器</Title>\n                {/* 1 */}\n                <Form.Item label='domain'\n                           style={{lineHeight: '40px', textAlign: 'center !important'}}>\n                  {\n                    getFieldDecorator('domain', {\n                      rules: [{required: true, message: 'domain is required'}],\n                      initialValue: item.domain || 0\n                    })(<Input placeholder='domain' size='large'/>)\n                  }\n                </Form.Item>\n\n                {/* 2 */}\n                <Form.Item label='port'\n                           style={{lineHeight: '40px', textAlign: 'center !important'}}>\n                  {\n                    getFieldDecorator('port', {\n                      rules: [{required: true, message: 'port is required'}],\n                      initialValue: item.port || 0\n                    })(<Input placeholder='port' size='large'/>)\n                  }\n                </Form.Item>\n\n                {/* 3 */}\n                <Form.Item label='auth'\n                           style={{lineHeight: '40px', textAlign: 'center !important'}}>\n                  {\n                    getFieldDecorator('auth', {\n                      rules: [{required: true, message: 'auth is required'}],\n                      initialValue: item.auth || 0\n                    })(<Input placeholder='auth' size='large'/>)\n                  }\n                </Form.Item>\n\n                {/* 4 */}\n                <Form.Item label='recvServicePort'\n                           style={{lineHeight: '40px', textAlign: 'center !important'}}>\n                  {\n                    getFieldDecorator('recvServicePort', {\n                      rules: [{required: true, message: 'recvServicePort is required'}],\n                      initialValue: item.recvServicePort || 0\n                    })(<Input placeholder='recvServicePort' size='large'/>)\n                  }\n                </Form.Item>\n              </Form>\n            </RegisterArea>\n          </RegisterContentLayout>\n        </Modal>\n      )\n    }\n  }\n);\n\nexport default GroupEncodeSidebar;","import styled from 'styled-components';\n\nexport const WowzasDetails = styled.div`\n  display: flex;\n  flex-direction: column !important; // 主轴为垂直方向, 起点为上沿\n  height: 100% !important;\n  padding-left: 20px;\n  padding-right: 20px;\n  // background: red;\n`;\n\n// 头部\nexport const Header = styled.div` \n  // 不设置, 默认主轴方向是水平方向\n  display: flex; \n  align-items: center; // 在交叉轴上的对齐方式\n  min-height: 40px;\n  max-height: 40px;\n  border-bottom: 1px solid #545860;\n  margin-bottom: 10px;\n  color: #fff;\n  .title {\n    padding-left: 10px;\n    width: auto;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .auto {\n    margin-left: auto !important;\n  }\n`;\n\nexport const PageContentSidebar = styled.div`\n  padding-left: 20px;\n  padding-right: 20px;\n  display: flex;\n  flex-direction: column !important;\n  height: 100% !important;\n  \n  // background: red;\n`;\n\n// Setting\nexport const Setting = styled.div`\n  display: flex;\n  flex-direction: column !important; // 主轴为垂直方向, 起点为上沿\n  flex-shrink: 0; // 当主轴空间不足时, 不缩放\n  min-height: 320px;\n  margin-bottom: 15px;\n  background: #343a41;\n`;\n\n// Setting中的内容采用Grid布局\nexport const SettingLayout = styled.div`\n  display: grid;\n  grid-template-columns: 30% 70%;\n  grid-auto-rows: 40px; // 一行中未放置的地方, 自动生成网格\n  grid-row-gap: 20px; // 行间隙\n  align-items: center; // 在交叉轴上的对齐方式 \n  padding: 20px;\n  text-align: left;\n  color: #fff;\n  font-weight: 400;\n  font-size: 14px;\n`;\n\n// 注册布局, 弹窗\nexport const RegisterContentLayout = styled.div`\n  display: flex;\n  flex: 1 1 auto; // 当主轴空间不足时, 缩放;当主轴空间多余时, 放大;\n`;\n\n// 注册区域, 弹窗\nexport const RegisterArea = styled.div`\n  width: 100%;\n  padding: 10px;\n  background-color: #343a41;\n`;\n\n// 标题\nexport const Title = styled.div`\n  display: flex;\n  flex-wrap: wrap; // 当轴线排不下时, 自动换到下一行\n  margin-top: 8px;\n  margin-bottom: 10px;\n  font-size: 17.5px;\n  color: #fff;\n`;\n\n// 展示wowza服务器流信息\nexport const WowzaInfo = styled(Setting)``;\n\nexport const WowzaInfoLayout = styled(SettingLayout)``;","import React, {Fragment} from 'react';\nimport {Form, Icon, Modal, Input} from 'antd';\nimport {\n  WowzasDetails,\n  Header,\n  Setting,\n  SettingLayout,\n  RegisterContentLayout,\n  RegisterArea,\n  Title,\n  WowzaInfo,\n  WowzaInfoLayout\n} from './style';\n\nclass GroupWowzaSidebar extends React.Component {\n  state = {\n    visible: false\n  };\n\n  render() {\n    const {data, item_id, wowzaStreamInfo} = this.props;\n    const wowzas = data.recvStreamServices;\n    const rawWowzaStreamInfo = wowzaStreamInfo.toJS(); // 返回的是一个List, 数组\n    // const rawWowzaStreamInfoObj = rawWowzaStreamInfo[0]; // 当前数组中只有1个wowza信息, 暂时先这么写\n    const index = wowzas.findIndex((item) => item.id === item_id);\n    let item = {};\n    if (index > -1) {\n      item = wowzas[index];\n    }\n    // console.log('[GroupWowzaSidebar rawWowzaStreamInfo]', rawWowzaStreamInfo);\n    return (\n      <WowzasDetails>\n        {/*头部*/}\n        <Header>\n          <Icon type='database'/>\n          <span className='title'>{item.domain}</span>\n          <span className='auto'></span>\n          <Icon type='setting' theme='filled' style={{marginRight: 5}} onClick={this.showModal}/>\n          <Icon type='ellipsis' rotate={90} onClick={() => console.log('保留')}/>\n        </Header>\n        <Setting>\n          <SettingLayout>\n            {/*<span>id</span>*/}\n            {/*<div>{item.id ? item.id : 'null'}</div>*/}\n            <span>domain</span>\n            <div>{item.domain ? item.domain : 'null'}</div>\n            <span>port</span>\n            <div>{item.port ? item.port : 'null'}</div>\n            <span>state</span>\n            <div>{item.state ? item.state : 'null'}</div>\n            <span>eMessage</span>\n            <div>{item.eMessage ? item.eMessage : '没有错误'}</div>\n          </SettingLayout>\n        </Setting>\n        {/*修改GroupInfo*/}\n        <ModifyGroupForm\n          wrappedComponentRef={this.saveModifyGroupFormRef}\n          visible={this.state.visible}\n          onCreate={this.handleCreate}\n          onCancel={this.handleCancel}\n        />\n        <WowzaInfo>\n          <WowzaInfoLayout>\n            {\n              rawWowzaStreamInfo.map((item) => (\n                <Fragment key={item.id}>\n                  <span>bytesIn</span>\n                  <div>{item.bytesIn} 字节</div>\n                  <span>bytesInRate</span>\n                  <div>{item.bytesInRate} 字节/秒</div>\n                  <span>totalConnections</span>\n                  <div>{item.totalConnections}</div>\n                  <span>bytesOut</span>\n                  <div>{item.bytesOut} 字节</div>\n                  <span>bytesOutRate</span>\n                  <div>{item.bytesOutRate} 字节/秒</div>\n                </Fragment>\n              ))\n            }\n          </WowzaInfoLayout>\n        </WowzaInfo>\n      </WowzasDetails>\n    )\n  }\n\n  componentDidMount() {\n    console.log('[GroupWowzaSidebar componentDidMount]');\n    const {group, group_id, recvStreamServices} = this.props.data;\n    const recvStreamServices_id = recvStreamServices[0].id;\n    this.props.onFetchWowzaInfo({group, group_id, recvStreamServices_id});\n  }\n\n  // ModifyGroupForm实例\n  saveModifyGroupFormRef = (formRef) => {\n    this.modifyGroupFormRef = formRef;\n  };\n\n  // 显示弹窗\n  showModal = () => {\n    this.setState({visible: true});\n  };\n\n  // 弹窗'添加'按钮响应\n  handleCreate = () => {\n    const form = this.modifyGroupFormRef.props.form;\n    form.validateFields((err, values) => {\n      if (err) {\n        return;\n      }\n      console.log('[Receive values of form Wowza]', values);\n      form.resetFields(); // 清空表单\n      this.setState({visible: false}); // 隐藏弹窗\n      // 发送修改Group请求\n      const data = this.props.data;\n      const requestData = {\n        group: data.group,\n        description: data.description,\n        encodeDevices: [\n          {\n            domain: data.encodeDevices[0].domain,\n            port: data.encodeDevices[0].port,\n            auth: data.encodeDevices[0].auth,\n            recvServicePort: data.encodeDevices[0].recvServicePort\n          }\n        ],\n        recvStreamServices: [\n          {\n            domain: values.domain,\n            port: values.port\n          }\n        ]\n      };\n      console.log('[GroupWowzaSidebar 修改后的数据]', requestData);\n\n      this.props.onModify(requestData);\n    });\n  };\n\n  // 弹窗'取消'按钮响应\n  handleCancel = () => {\n    this.setState({visible: false});\n  };\n}\n\nconst ModifyGroupForm = Form.create({name: 'modify_group_form'})(\n  class extends React.Component {\n    render() {\n      const {getFieldDecorator} = this.props.form;\n      const {visible, onCreate, onCancel} = this.props;\n      const formItemLayout = {\n        labelCol: {\n          xs: {span: 24},\n          sm: {span: 4, offset: 12},\n        },\n        wrapperCol: {\n          xs: {span: 24},\n          sm: {span: 8},\n        },\n      };\n      return (\n        <Modal\n          visible={visible}\n          title='修改wowza'\n          okText='添加'\n          cancelText='取消'\n          onOk={onCreate}\n          onCancel={onCancel}\n          width={820}\n          mask={false}\n          className='add-group-modal-dcj'\n        >\n          <RegisterContentLayout>\n            <RegisterArea>\n              <Form layout='vertical' {...formItemLayout}>\n                <Title>Wowza</Title>\n\n                {/* 1 */}\n                <Form.Item label='domain'>\n                  {\n                    getFieldDecorator('domain', {\n                      rules: [{required: true, message: 'domain is required'}]\n                    })(<Input placeholder='domain' size='large'/>)\n                  }\n                </Form.Item>\n\n                {/* 2 */}\n                <Form.Item label='port'>\n                  {\n                    getFieldDecorator('port', {\n                      rules: [{required: true, message: 'port is required'}]\n                    })(<Input placeholder='port' size='large'/>)\n                  }\n                </Form.Item>\n              </Form>\n            </RegisterArea>\n          </RegisterContentLayout>\n        </Modal>\n      )\n    }\n  }\n);\n\nexport default GroupWowzaSidebar;","import styled from 'styled-components';\n\nexport const UnitDetailsLayout = styled.div`\n  display: grid;\n  height: 100%;\n  grid-template-columns: auto 455px; // 列宽\n  grid-template-rows: 40px calc(100% - 40px - 10px); // 行高, 10px是底部间隙\n  grid-column-gap: 42px; // 列间隙\n  grid-row-gap: 20px; // 行间隙\n  grid-template-areas: \"unitdetails-header-grid unitdetails-header-unit\" \"unitdetails-page-content unitdetails-page-content\";\n  padding: 20px;\n`;\n\n// 左上\nexport const UnitDetailsHeaderGrid = styled.div`\n  grid-area: unitdetails-header-grid;\n  display: flex;\n  flex-flow: raw nowrap;\n  justify-content: center !important;\n  align-items: center !important;\n  color: #fff;\n  background-color: #212a35;\n`;\n\n// 右上\nexport const UnitDetailsHeaderUnit = styled.div`\n  grid-area: unitdetails-header-unit;\n  display: flex;\n  flex-flow: raw nowrap;\n  justify-content: center !important;\n  align-items: center !important;\n  color: #fff;\n  background-color: #212a35;\n`;\n\n// 左下 + 右下\nexport const UnitDetailsPageContent = styled.div`\n  grid-area: unitdetails-page-content;\n  display: flex;\n`;\n\n// 表格\nexport const ContentGrid = styled.div`\n  flex: 1 1 auto; // flex-grow, flex-shrink 和 flex-basis\n  width: 1px; // 最小宽度为1px\n`;\n\n// 3个点 + 显示内容\nexport const GridPosition = styled.div`\n  height: 100% !important;\n  position: relative; // 定位组件, 给下面3个点绝对定位做基准\n`;\n\n// 3个点\nexport const MenuButton = styled.div`\n\n`;\n\n// 显示内容\nexport const BodyLayout = styled.div`\n  height: 100%;\n  color: #fff;\n  border-radius: 7px;\n  background: #212a35;\n  overflow: hidden;\n  position: relative;\n`;\n\n/*\n* flex: 1 1 auto; // flex-grow, flex-shrink 和 flex-basis\n* 1.优先使用这个属性: flex: 1 1 auto; / flex: 0 0 auto;\n* 2.flex-grow: 项目放大比例, 作用于自身.\n*   0: 表示存在剩余空间, 也不放大\n*   1: 表示存在剩余空间, 等分剩余空间\n* 3.flex-shrink: 项目缩小比例, 作用于自身.\n*   0: 表示当空间不足时, 也不缩小\n*   1: 表示当空间不足时, 等比缩小\n* 4.flex-basis:\n*   auto: 项目本来的大小\n* */\n\n// 分割线\nexport const ContentDivider = styled.div`\n  width: 2px;\n  height: 100%;\n  margin-right: 20px;\n  margin-left: 20px;\n  background: #545860;\n`;\n\n// 详细信息\nexport const ContentSidebar = styled.div`\n  width: 455px;\n  overflow-y: auto;\n  border-radius: 7px;\n  background: #212a35;\n  will-change: width;\n  transition: all .5s;\n`;","import React from 'react';\nimport {withRouter, Route, Redirect} from 'react-router-dom';\nimport GroupEncodeSidebar from '../groupEncodeSidebar/groupEncodeSidebar'; // encode详情\nimport GroupWowzaSidebar from '../groupWowzaSidebar/groupWowzaSidebar'; // wowza详情\nimport {Icon, Table} from \"antd\";\nimport {\n  UnitDetailsLayout,\n  UnitDetailsHeaderGrid,\n  UnitDetailsHeaderUnit,\n  UnitDetailsPageContent,\n  ContentGrid,\n  ContentDivider,\n  ContentSidebar,\n  GridPosition,\n  MenuButton,\n  BodyLayout\n} from './style';\nimport './style.css';\n\n@withRouter\nclass DevicePage extends React.Component {\n  render() {\n    const match = this.props.match;\n    const requestQuantity = this.props.requestQuantity;\n    const singleGroup = this.props.singleGroup; // 普通js对象类型\n    const wowzaStreamInfo = this.props.wowzaStreamInfo;\n    const encodes = singleGroup.encodeDevices;\n    const wowzas = singleGroup.recvStreamServices;\n    const encodesWrapper = this.addComponentToArray(encodes, GroupEncodeSidebar);\n    const wowzasWrapper = this.addComponentToArray(wowzas, GroupWowzaSidebar);\n    const mergeData = [...encodesWrapper, ...wowzasWrapper];\n    // console.log('[DevicePage mergeData]', mergeData);\n    // console.log('[requestQuantity]', requestQuantity);\n    return (\n      <UnitDetailsLayout>\n        <UnitDetailsHeaderGrid>\n          设备 > 设备列表\n        </UnitDetailsHeaderGrid>\n        <UnitDetailsHeaderUnit>\n          添加/刷新设备\n        </UnitDetailsHeaderUnit>\n        <UnitDetailsPageContent>\n          {/*左侧*/}\n          <ContentGrid>\n            <GridPosition>\n              <MenuButton/>\n              {/*使用Table, 展示数据*/}\n              <BodyLayout id='device-page-table'>\n                <Table\n                  columns={this.getColumnList()}\n                  dataSource={mergeData}\n                  pagination={false}\n                  rowKey={record => record.id}\n                  // loading={requestQuantity ? true : false}\n                  onRow={record => {\n                    return {\n                      onClick: (event) => {\n                        this.props.history.push(`${match.url}/${record.id}`);\n                      }\n                    }\n                  }}\n                  style={{height: '100% !important'}}\n                />\n              </BodyLayout>\n            </GridPosition>\n          </ContentGrid>\n          {/*分割线*/}\n          <ContentDivider/>\n          {/*右侧*/}\n          <ContentSidebar>\n            {\n              mergeData.map((item) => {\n                return (\n                  <Route\n                    key={item.id}\n                    path={`${match.url}/${item.id}`}\n                    render={() => {\n                      return (\n                        <item.component\n                          data={singleGroup}\n                          item_id={item.id}\n                          onModify={this.props.onModify}\n                          onFetchWowzaInfo={this.props.onFetchWowzaInfo}\n                          wowzaStreamInfo={wowzaStreamInfo}\n                        />\n                      )\n                    }}/>\n                )\n              })\n            }\n          </ContentSidebar>\n          {/*默认: /home/device*/}\n          {\n            mergeData.length ? <Redirect from='/home/device' to={`/home/device/${mergeData[0].id}`}/> : null\n          }\n        </UnitDetailsPageContent>\n      </UnitDetailsLayout>\n    )\n  }\n\n  addComponentToArray = (array, component) => {\n    return array.map((item) => {\n      return {...item, component}\n    });\n  };\n\n  // Table的列表头\n  getColumnList = () => {\n    return [\n      {\n        title: '类型', dataIndex: 'icon', key: 'icon',\n        render: (text, record) => (\n          <span>\n            {\n              record.recvServicePort\n                ? (<Icon type='desktop'/>)\n                : (<Icon type='database'/>)\n            }\n          </span>\n        ),\n      },\n      {title: '域名', dataIndex: 'domain', key: 'domain'},\n      {title: '端口', dataIndex: 'port', key: 'port'},\n      {title: '接收wowza端的端口', dataIndex: 'recvServicePort', key: 'recvServicePort'},\n      {title: '匹配状态', dataIndex: 'state', key: 'state'},\n      {title: '异常信息', dataIndex: 'eMessage', key: 'eMessage',}\n    ];\n  }\n}\n\nexport default DevicePage;","import styled from 'styled-components';\n\nexport const ResultWrapper = styled.div`\n  display: flex;\n  align-items: center; // 项目在交叉轴上的对齐方式\n  justify-content: center; // 项目在主轴上的对齐方式\n  height: 100%;\n`;","import React from 'react';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {getGroupNameList} from '../../redux';\nimport {actions as groupsActions} from '../../redux/groups.redux';\nimport isEmpty from 'lodash/isEmpty';\nimport {Result, Button, Icon, Spin} from 'antd';\nimport DevicePage from '../../component/devicePage/devicePage';\nimport {actions as wstreamActions} from '../../redux/wstream.redux';\nimport {getRequestQuantity} from '../../redux/app.redux';\nimport {getSingleGroupWowzaStreamInfo} from '../../redux/';\nimport {ResultWrapper} from './style';\n\nimport './style.css';\n\nclass Device extends React.Component {\n  render() {\n    const {singleGroup, modifyGroup, fetchWowzaInfo, wowzaStreamInfo, requestQuantity} = this.props;\n    // console.log('[Device]', singleGroup, isEmpty(singleGroup));\n    return (\n      <div\n        style={{height: '100%'}}\n        id='device'\n      >\n        {\n          isEmpty(singleGroup)\n            ?\n            <ResultWrapper>\n              <Result\n                icon={<Icon type=\"usergroup-add\"/>}\n                title='你还没有组, 快点创建组吧'\n              />\n            </ResultWrapper>\n            : <DevicePage\n              singleGroup={singleGroup}\n              onModify={modifyGroup}\n              onFetchWowzaInfo={fetchWowzaInfo}\n              wowzaStreamInfo={wowzaStreamInfo}\n              requestQuantity={requestQuantity}\n            />\n        }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  // console.log('[device mapStateToProps]');\n  return {\n    groupNameList: getGroupNameList(state), // 所有组名\n    wowzaStreamInfo: getSingleGroupWowzaStreamInfo(state), // 获取指定group_id下的wowza流信息\n    requestQuantity: getRequestQuantity(state),\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    ...bindActionCreators(groupsActions, dispatch),\n    ...bindActionCreators(wstreamActions, dispatch)\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Device);\n\n/**\n * 执行顺序:\n * 1.mapStateToProps\n * 2.render\n * 3.componentDidMount\n * */\n\n// TODO: 制作子路由","import styled from 'styled-components';\n\nexport const MainLayout = styled.div`\n  display: grid;\n  height: 100%;\n  grid-template-rows: 40px calc(100% - 40px - 10px); // 行高设置\n  grid-template-columns: 455px 2px auto; // 列宽设置\n  grid-row-gap: 20px; // 行间距\n  grid-column-gap: 20px; // 列间距\n  padding: 20px;\n  grid-template-areas: \"groups_header_1 groups_header_2 groups_header_3\" \n  \"groups_content_1 groups_content_2 groups_content_3\"; // 2*3\n`;\n\n// 1*1\nexport const Header = styled.div`\n  display: flex;\n  grid-area: groups_header_1;\n`;\n\n// 1*2\nexport const Header_Divider = styled.div`\n  display: flex;\n  width: 2px;\n  height: 100%;\n  background-color: #545860;\n  grid-area: groups_header_2;\n`;\n\n// 1*3\nexport const Header_Hidden = styled.div`\n  display: flex;\n  grid-area: groups_header_3;\n`;\n\n// 2*1\nexport const Content_Group_Info = styled.div`\n  display: flex;\n  grid-area: groups_content_1;\n`;\n\n// 2*2\nexport const Content_Group_Divider = styled.div`\n  display: flex;\n  width: 2px;\n  height: 100%;\n  background-color: #545860;\n  grid-area: groups_content_2;\n`;\n\n// 2*3\nexport const Content_Group_Match = styled.div`\n  display: flex;\n  grid-area: groups_content_3;\n`;\n\n// 展示Group信息和匹配状态/2*1\nexport const Content_Sidebar = styled.div`\n  width: 455px;\n  overflow-y: auto;\n  border-radius: 7px;\n  background: #212a35;  \n  will-change: smooth;\n  transition: all .5s;\n`;\n\nexport const GroupsDetail = styled.div`\n  display: flex;\n  flex-direction: column !important; // 主轴为垂直方向, 起点为上沿\n  height: 100%;\n  padding-left: 20px;\n  padding-right: 20px;\n  // background: gold;\n`;\n\n// Group信息标题\nexport const GroupsDetailHeader = styled.div`\n  display: flex;\n  align-items: center; // 项目在交叉轴上对齐方式\n  min-height: 40px;\n  max-height: 40px;\n  border-bottom: 1px solid #545860;\n  margin-bottom: 10px;\n  color: #fff;\n  .title {\n    padding-left: 15px;\n    width: auto;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .auto {\n    margin-left: auto !important;\n  }\n`;\n\nexport const GroupDetailInfo = styled.div`\n  display: flex;\n  flex-direction: column !important;\n  flex-shrink: 0; // 当主轴空间不足时, 不缩放\n  min-height: 320px;\n  margin-bottom: 15px;\n  background-color: #343a41;\n`;\n\nexport const GroupDetailInfoLayout = styled.div`\n  display: grid;\n  grid-template-columns: 30% 70%;\n  grid-auto-rows: 40px; // 一行中未放置的地方, 自动生成网格\n  grid-row-gap: 20px; // 行间隙\n  align-items: center; // 项目在交叉轴上的定位方式\n  padding: 20px;\n  text-align: left;\n  color: #fff;\n  font-weight: 400;\n  font-size: 14px;\n`;\n\nexport const GroupDetailMatch = styled(GroupDetailInfo)``;\n\nexport const GroupDetailMatchLayout = styled(GroupDetailInfoLayout)``;\n\n// 匹配按钮\nexport const ButtonMatch = styled.div`\n  display: flex;\n  align-items: center !important; // 项目在交叉轴上的定位方式\n  width: 100%;\n  padding: 20px;\n  margin-top: auto !important;\n  justify-content: flex-end;\n \n  // background: gold;\n`;","import React from 'react';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {\n  actions as groupsActions,\n  getGroupMatchStatus,\n  getGroupStreamStatus,\n  getGroupById\n} from '../../redux/groups.redux';\nimport {getGroupListByGroupId} from '../../redux';\nimport {Icon, Button} from 'antd';\nimport {\n  MainLayout,\n  Header,\n  Header_Divider,\n  Header_Hidden,\n  Content_Group_Info,\n  Content_Group_Divider,\n  Content_Group_Match,\n  Content_Sidebar,\n  GroupsDetail,\n  GroupsDetailHeader,\n  GroupDetailInfo,\n  GroupDetailInfoLayout,\n  GroupDetailMatch,\n  GroupDetailMatchLayout,\n  ButtonMatch\n} from './style';\nimport Immutable from 'immutable';\n\nclass Groups extends React.Component {\n  state = {\n    disabled: false\n  };\n\n  render() {\n    const {completeGroup, groupMatchStatus, groupStreamStatus = false} = this.props;\n    const rawCompleteGroup = completeGroup.toJS();\n    // console.log('[Groups rawCompleteGroup]', rawCompleteGroup, Object.keys(rawCompleteGroup).length);\n    const fieldsObj = ['group_id', 'group', 'description', 'dState', 'status', 'eMessage'];\n    const fieldsArray = ['encodeDevices', 'recvStreamServices'];\n    let groupInfoArray = {};\n    if (!Object.keys(rawCompleteGroup).length) {\n      fieldsObj.forEach((item) => {\n        groupInfoArray[item] = undefined;\n      });\n      fieldsArray.forEach((item) => {\n        groupInfoArray[item] = [];\n      });\n    } else {\n      groupInfoArray = rawCompleteGroup;\n    }\n    // const test = 'false';\n    // console.log('[groupStreamStatus]', groupStreamStatus);\n    return (\n      <MainLayout>\n        <Header>\n          {/*Area 1*/}\n        </Header>\n        <Header_Divider/>\n        <Header_Hidden>\n          {/*Area 3*/}\n        </Header_Hidden>\n        {/*Area 4*/}\n        <Content_Group_Info>\n          <Content_Sidebar>\n            <GroupsDetail>\n              {/*标题*/}\n              <GroupsDetailHeader>\n                <Icon type=\"usergroup-add\"/>\n                <span className='title'>Group详细信息</span>\n              </GroupsDetailHeader>\n              <GroupDetailInfo>\n                <GroupDetailInfoLayout>\n                  <span>group_id</span>\n                  <div>{groupInfoArray.group_id ? groupInfoArray.group_id : 'null'}</div>\n                  <span>group</span>\n                  <div>{groupInfoArray.group ? groupInfoArray.group : 'null'}</div>\n                  <span>description</span>\n                  <div>{groupInfoArray.description ? groupInfoArray.description : 'null'}</div>\n                  <span>dState</span>\n                  <div>{groupInfoArray.dState ? groupInfoArray.dState : 'offline'}</div>\n                  <span>status</span>\n                  <div>{groupInfoArray.status === true ? 'true' : 'false'}</div>\n                  <span>eMessage</span>\n                  <div>{groupInfoArray.eMessage ? groupInfoArray.eMessage : 'null'}</div>\n                </GroupDetailInfoLayout>\n              </GroupDetailInfo>\n              <GroupDetailMatch>\n                <GroupDetailMatchLayout>\n                  <span>Group匹配状态</span>\n                  <div>{groupInfoArray.dState ? groupInfoArray.dState : 'null'}</div>\n                  <span>Encode匹配状态</span>\n                  <div>{groupInfoArray.encodeDevices.length ? groupInfoArray.encodeDevices[0].state : 'null'}</div>\n                  <span>Wowza匹配状态</span>\n                  <div>{groupInfoArray.recvStreamServices.length ? groupInfoArray.recvStreamServices[0].state : 'null'}</div>\n                  <span>推流状态</span>\n                  <div>{groupStreamStatus === true ? 'true' : 'false'}</div>\n                </GroupDetailMatchLayout>\n                <ButtonMatch>\n                  <Button\n                    type='primary'\n                    style={{marginLeft: 'auto !important'}}\n                    onClick={this.groupMatch}\n                    disabled={!(groupInfoArray.group_id && groupInfoArray.group)}\n                  >\n                    开始匹配\n                  </Button>\n                  <Button\n                    type='primary'\n                    style={{marginLeft: 15}}\n                    disabled={\n                      !groupInfoArray.group_id\n                      || !groupInfoArray.group\n                      || !groupInfoArray.encodeDevices.length\n                      || !groupInfoArray.recvStreamServices.length\n                      // || Object.is(groupStreamStatus, undefined)\n                      || !(Object.is(groupMatchStatus, 'ready')\n                      )}\n                    onClick={this.pushStream}\n                  >\n                    {groupStreamStatus === true ? '停止推流' : '开始推流'}\n                  </Button>\n                  {/*<Button>停止推流</Button>*/}\n                </ButtonMatch>\n              </GroupDetailMatch>\n            </GroupsDetail>\n          </Content_Sidebar>\n        </Content_Group_Info>\n        <Content_Group_Divider/>\n        <Content_Group_Match>\n          {/*Area 6*/}\n        </Content_Group_Match>\n      </MainLayout>\n    )\n  }\n\n  // 匹配转发流Group\n  groupMatch = () => {\n    const {group, group_id} = this.props.completeGroup.toJS();\n    this.props.matchGroup({group, group_id});\n  };\n\n  // 开始推流\n  pushStream = () => {\n    // console.log('[开始推流]', group, '***', group_id, '***', encodeDevices[0].id, '***', recvStreamServices[0].id);\n    const {group, group_id, encodeDevices, recvStreamServices} = this.props.completeGroup.toJS();\n    const encodeDevice_id = encodeDevices[0].id;\n    const recvStreamService_id = recvStreamServices[0].id;\n    const {groupStreamStatus} = this.props;\n\n    if (groupStreamStatus) {\n      // 正在推流, 调用停止推流动作\n      this.props.finishPushStream({group, group_id});\n    } else {\n      // 开始推流\n      this.props.startPushStream({group, group_id, encodeDevice_id, recvStreamService_id});\n    }\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  const group_id = props.group_id;\n  // console.log('[Groups.js/group_id]', group_id);\n  return {\n    completeGroup: group_id ? getGroupListByGroupId(state, group_id) : Immutable.fromJS({}), // 单个组完整信息\n    groupMatchStatus: group_id ? getGroupMatchStatus(state, group_id) : 'offline', // 匹配状态: group_id ? getGroupMatchStatus(state, group_id) : 'offline', // 匹配状态\n    groupStreamStatus: group_id ? getGroupStreamStatus(state, group_id) : false, // 推流状态\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    ...bindActionCreators(groupsActions, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Groups);","import styled from 'styled-components';\n\nexport const ResultWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n`;\n\nexport const SpinWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  background-color: blue;\n`;","import React from 'react';\nimport {Icon, Result, Spin} from 'antd';\nimport {ResultWrapper, SpinWrapper} from './style';\n\nclass Server extends React.Component {\n  render() {\n    return (\n      <div style={{height: '100%'}}>\n        <ResultWrapper>\n          <Result\n            icon={<Icon type='bulb'/>}\n            // icon={{}}\n            title={\n              <pre>\n                服务未启用<br/>\n                请联系技术支持\n              </pre>\n            }\n          />\n        </ResultWrapper>\n        <SpinWrapper>\n          <Spin spinning={true}>\n            <div style={{width: 400, height: 400, border: '1px solid red'}}>123</div>\n          </Spin>\n        </SpinWrapper>\n      </div>\n    )\n  }\n}\n\nexport default Server;","import styled from 'styled-components';\n\nexport const MainLayout = styled.div`\n  display: grid;\n  width: 100vw; // 视口宽度\n  height: 100vh; // 视口高度\n  grid-template-columns: auto 1fr;// 列, auto: 表示根据宽度自定义\n  grid-template-rows: 60px calc(100vh - 60px); // 行\n  grid-template-areas: \"header-logo header-navbar\" \"page-content page-content\";\n  // background: #363A45;\n`;\n\n// 项目:\n/*\n *  <div style={display: flex;}> --- 采用flex布局的元素, 成为flex容器, 简称容器\n *      <div>...</div> --- 子元素, 成为容器成员, 简称项目\n *  </div>\n * 注意: grid和flex都有justify-content, align-content等属性, 不要混淆.\n * */\n\n// logo\nexport const HeaderLogo = styled.div`\n  grid-area: header-logo;\n  display: flex !important;\n  width: 260px;\n  justify-content: center !important; // 项目在主轴上的对齐方式\n  align-content: center !important; // 多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用\n  align-items: center !important; // 项目交叉轴上如何对齐\n  background: #161b21;\n  img {\n    height: 100%;\n  }\n`;\n\n// 导航条\nexport const HeaderNavbar = styled.div`\n  grid-area: header-navbar;\n  position: relative;\n  display: flex;\n  flex-flow: row nowrap; // 主轴为水平方向, 左端为起点(默认值); 不换行\n  justify-content: flex-start; // 项目在主轴上的对齐方式\n  align-items: center; // 项目在交叉轴上的对齐方式\n  ul {\n    display: flex;\n    flex-direction: row;\n    list-style: none;\n    color: #fff;\n    li {\n      border: 1px solid gold;\n      display: flex;\n      width: 110px; \n      align-items: baseline !important;\n      height: 60px;\n      line-height: 60px;\n      text-align: center;\n      justify-content: center;\n    }\n  }\n  background: #212a35;\n`;\n\n// 内容(过滤FilterSideBar + Content)\nexport const PageContent = styled.div`\n  grid-area: page-content;\n  display: flex;\n  height: 100%; // MainLayout calc(100vh - 60px)\n`;\n\nexport const UnitContent = styled.div`\n  width: 100%;\n  height: 100%;\n  margin-left: 260px;\n  background: #343a41;\n`;","import React from 'react';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {Route, Switch, Redirect, Link} from 'react-router-dom';\n\n// component\nimport UserInfo from '../../component/userInfo/userInfo';\nimport FilterSideBar from '../../component/filterSideBar/filterSideBar';\nimport Modal from '../../component/modal/modal';\nimport Device from '../device/device'; // 设备Device\nimport Groups from '../groups/groups'; // 组信息, 暂时写在这里, 匹配使用\nimport Server from '../server/server'; // 服务, 暂不开通\n\n// selector\nimport {actions as authActions, getLoggedUser} from '../../redux/auth.redux';\nimport {actions as groupsActions} from '../../redux/groups.redux';\nimport {actions as usersActions} from '../../redux/users.redux';\nimport {\n  actions as uiActions,\n  getDeviceStatus,\n  getDeviceType,\n  getSelectedItem,\n  getSelectedMenuItem,\n} from '../../redux/ui.redux';\nimport {getRedirectTo, getError, getRequestQuantity} from '../../redux/app.redux';\nimport {\n  getGroupNameList,\n  getSingleGroupBySelectedItem,\n  getDetaultGroup,\n  getSelectedItemToUse,\n  getSelectedMenuItemToUse,\n  getUseRedirectTo,\n} from '../../redux';\n\n// utils\nimport {setLocalStorage, removeLocalStorage} from '../../utils/utils';\nimport isEmpty from 'lodash/isEmpty';\n\n// antd\nimport {Menu, Icon, Spin} from 'antd';\n\n// styled-component\nimport {MainLayout, HeaderLogo, HeaderNavbar, PageContent, UnitContent} from './style';\n\nclass Home extends React.PureComponent {\n  state = {\n    current: 'device',\n  };\n\n  render() {\n    const {\n      user,\n      groupNameList,\n      deviceStatus,\n      deviceType,\n      setDeviceStatus,\n      setDeviceType,\n      clearDeviceStatus,\n      clearDeviceType,\n      setSelectedItem, // 设置<select>选中项\n      redirectTo, // 跳转\n      singleGroup,\n      useSelectedItem,\n      useDefaultGroup,\n      useRedirectTo,\n      useSelectedMenuItem,\n    } = this.props;\n    const rawGroupNameList = groupNameList.toJS();\n    const rawUser = user.toJS();\n    const rawDeviceStatus = deviceStatus.toJS();\n    const rawDeviceType = deviceType.toJS();\n    const rawSingleGroup = singleGroup.toJS();\n\n    // console.log('[home.js useSelectedMenuItem]', useSelectedMenuItem);\n\n    return (\n      <MainLayout>\n        {\n          useRedirectTo ? <Redirect to={useRedirectTo}/> : null\n        }\n        {\n          redirectTo ? <Redirect to={redirectTo}/> : null\n        }\n        <HeaderLogo>\n          <img src={require(\"../../images/logo.png\")} alt=\"\"/>\n        </HeaderLogo>\n        <HeaderNavbar>\n          <Menu\n            mode=\"horizontal\"\n            theme='dark'\n            selectedKeys={[useSelectedMenuItem]}\n            onClick={this.handleClick}\n          >\n            <Menu.Item key=\"device\">\n              <Link to='/home/device'>\n                <Icon type='appstore'/>\n                设备\n              </Link>\n            </Menu.Item>\n            <Menu.Item key='groups'>\n              <Link to='/home/groups'>\n                <Icon type='setting'/>\n                Groups\n              </Link>\n            </Menu.Item>\n            <Menu.Item key='server'>\n              <Link to='/home/server'>\n                <Icon type=\"cloud-server\"/>\n                服务\n              </Link>\n            </Menu.Item>\n          </Menu>\n          <UserInfo\n            user={rawUser}\n            // username={rawUsername}\n            groupNameList={rawGroupNameList}\n            selectedItem={useSelectedItem}\n            // defaultSelectedItem={defaultSelectedItem}\n            // defaultSelectedItem={defaultSelectedItemV2}\n            defaultSelectedItem={useDefaultGroup}\n            onSelectedItem={setSelectedItem}\n            onCreateNewGroup={this.props.createGroup}\n            // onRefreshGroup={this.props.fetchGroupInfo}\n            onDeleteGroup={this.props.deleteGroup}\n            onDeleteAllGroup={this.props.deleteAllGroup}\n            onLogout={this.props.logout}\n            removeLocalStorage={removeLocalStorage}\n          />\n        </HeaderNavbar>\n\n        <PageContent>\n          <FilterSideBar\n            onSetDeviceStatus={setDeviceStatus}\n            onSetDeviceType={setDeviceType}\n            rawDeviceStatus={rawDeviceStatus}\n            rawDeviceType={rawDeviceType}\n            onClearDeviceStatus={clearDeviceStatus}\n            onClearDeviceType={clearDeviceType}\n          />\n          <UnitContent>\n            <Switch>\n              <Route path='/home/device' render={() => <Device singleGroup={rawSingleGroup}/>}/>\n              <Route path='/home/groups' exact render={() => <Groups group_id={useSelectedItem}/>}/>\n              <Route path='/home/server' exact render={() => <Server/>}/>\n            </Switch>\n          </UnitContent>\n        </PageContent>\n      </MainLayout>\n    )\n  }\n\n  // 切换标签页面\n  handleClick = (e) => {\n    this.props.setSelectedMenuItem(e.key);\n  };\n\n  componentDidMount() {\n    // 第一次渲染\n    const groupNameList = this.props.groupNameList.toJS();\n    groupNameList.map((item) => {\n      // 请求单一组信息\n      this.props.fetchGroupInfo({group: item.group, group_id: item.group_id});\n    });\n\n    // 拦截判断是否离开当前页面\n    window.addEventListener('beforeunload', this.beforeunload);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    // console.log('[页面更新重新请求fetchGroupInfo]', this.props.groupNameList.toJS().length, prevProps.groupNameList.size);\n    // 刷新页面\n    const groupNameList = this.props.groupNameList.toJS();\n    if (groupNameList.length !== prevProps.groupNameList.size) {\n      groupNameList.map((item) => {\n        this.props.fetchGroupInfo({group: item.group, group_id: item.group_id});\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    // 销毁拦截判断是否离开当前页面\n    window.removeEventListener('beforeunload', this.beforeunload);\n  }\n\n  beforeunload = (e) => {\n    const {selectedItem, selectedMenuItem} = this.props;\n    setLocalStorage('selectedItem', selectedItem);\n    setLocalStorage('selectedMenuItem', selectedMenuItem);\n  };\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n    user: getLoggedUser(state), // 登录用户名\n    // username: getUserName(state), // 登录用户名, 刷新页面, 从cookie里获取\n    groupNameList: getGroupNameList(state), // 所有组名\n    deviceStatus: getDeviceStatus(state), // 状态过滤\n    deviceType: getDeviceType(state), // 种类过滤\n    redirectTo: getRedirectTo(state), // 跳转\n    selectedItem: getSelectedItem(state), // group_id, 刷新, 保存到localStorage\n    selectedMenuItem: getSelectedMenuItem(state), // <Menu>当前选中项, 刷新, 保存到localStorage\n    singleGroup: getSingleGroupBySelectedItem(state), // 单一组信息, 基于useSelectedItem\n    // defaultSelectedItem: getDetaultSelectedItem(state), // 指定默认的selectedItem, group\n    // defaultSelectedItemV2: getDetaultGroup(state),\n    useSelectedItem: getSelectedItemToUse(state),\n    useDefaultGroup: getDetaultGroup(state),\n    useSelectedMenuItem: getSelectedMenuItemToUse(state),\n    useRedirectTo: getUseRedirectTo(state),\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    ...bindActionCreators(usersActions, dispatch),\n    ...bindActionCreators(groupsActions, dispatch),\n    ...bindActionCreators(uiActions, dispatch),\n    ...bindActionCreators(authActions, dispatch)\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n\n/**\n * 所有API都已经实现\n * 1.重新树立路由\n *  (1)分为主路由:\n *    /home/device\n *    /home/groups\n *    /home/server\n *  (2)次级路由:\n *    /home/device/:group_id\n *  (3)三级路由:\n *    /home/device/:group_id/:encodeId\n *    /home/device/:group_id/:wowzaId\n *\n * 2.规划好'redirectTo'这个字段, 该字段能够决定页面加载完成后, 跳转的默认路由\n * */\n\n/**\n * selectedItem和selectedMenuItem\n * 1.selectedMenuItem决定了展示哪个路由界面\n * 2.selectedItem决定了展示哪个组的数据\n * 3.先进路由, 在使用selectedItem进行切换\n * 也就是说, 我们先选则进入哪个路由界面, 然后在将对应组的数据展示上去\n * 顺序:\n * (1)selectedMenuItem\n * (2)selectedItem\n *\n * 4.在使用selectedItem之前, 会调用getSelectedItemToUse(), 进行处理, 生成useSelectedItem.\n * 保存到localstorage时, 使用selectedItem.\n * 数据展示或计算时, 使用useSelectedItem.\n *\n * 5.在使用selectedMenuItem之前, 会调用getSelectedMenuItemToUse(), 进行处理, 生成useSelectedMenuItem.\n * 保存到localstorage时, 使用selectedMenuItem.\n * 制作路由时, 使用useSelectedMenuItem.\n * 登录成功后, selectedMenuItem已经被设置成'device'\n * 所以只有selectedMenuItem只有2种状态:\n * (1)登录成功/创建组/删除组:\n * (2)刷新组:\n *\n * 6.登录跳转使用, redirectTo\n *   进入页面后跳转, 使用useRedirectTo\n * */\n\n/**\n * TODO: 决定哪些请求需要 展示成功和失败消息\n * 1.登录, 登出, 修改密码, 创建组, 修改组, 删除组, 匹配组, 开始推流, 结束推流, 删除所有组\n * */\n\n\n\n","import styled from 'styled-components';\nimport poster from '../../images/poster.jpg';\nimport tube from '../../images/tube.png';\n\nexport const LoginMain = styled.div`\n  background: rgba(0,0,0,0) url(${poster}) repeat scroll 0 0 ;\n  background-size: auto 40%;\n  color: #fff;\n  font-family: '黑体', sans-serif;\n  font-size: 16px;\n  font-weight: lighter;\n`;\n\nexport const LoginWrapper = styled.div`\n  margin: 0 auto;\n  width: 600px;\n  // height: 100vh; // 视口高度\n  overflow: hidden;\n  background: rgba(0,0,0,0) url(${tube}) repeat scroll 0 0 ;\n`;\n\nexport const LoginContainer = styled.div`\n  position: relative;\n  margin: 0 auto;\n  width: 320px;\n  margin-bottom: 15px;\n`;\n\nexport const Logo = styled.div`\n  \n`;\n\nexport const Title = styled.div`\n  margin-top: 35px;\n  margin-bottom: 15px;\n  padding-bottom: 5px;\n  border-bottom: 1px solid #3e424d;\n`;","import React from 'react';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {Redirect} from 'react-router-dom';\nimport {Form, Input, Icon, Checkbox, Button} from 'antd';\nimport {LoginWrapper, LoginContainer, LoginMain, Logo, Title} from './style';\nimport {actions as appActions, getError, getRedirectTo} from '../../redux/app.redux';\nimport {actions as authActions} from '../../redux/auth.redux';\nimport {actions as vcodeActions, getVerifyCodeImg, getVerifyCodeStatus} from '../../redux/vcode.redux';\nimport {actions as uiActions, isRememberAccount} from '../../redux/ui.redux';\nimport {removeLocalStorage, getLocalStorage} from '../../utils/utils';\n\nclass Login extends React.Component {\n  state = {\n    confirmDirty: false,\n    height: window.innerHeight, // 浏览器高度\n  };\n\n  render() {\n    const {verifyCodeImg, isRememberAccount, redirectTo} = this.props;\n    return (\n      <LoginMain>\n        {\n          (redirectTo && redirectTo !== '/login' && redirectTo !== '/')\n            ? (<Redirect to={redirectTo}/>)\n            : null\n        }\n        <LoginWrapper style={{height: this.state.height}}>\n          <LoginContainer style={{marginTop: (this.state.height * 3 / 14)}}>\n            <Logo>\n              <img src={require('../../images/logo.png')} alt=\"\"/>\n            </Logo>\n            <Title>\n              登录\n            </Title>\n            <LoginInputForm\n              wrappedComponentRef={this.saveFormRef}\n              onSubmit={this.handleSubmit}\n              onChange={this.handleChange}\n              verifyCodeImg={verifyCodeImg}\n              isRememberAccount={isRememberAccount}\n              onUpdateVCode={this.updateVCode}\n            />\n          </LoginContainer>\n        </LoginWrapper>\n      </LoginMain>\n    )\n  }\n\n  saveFormRef = (formRef) => {\n    this.formRef = formRef;\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const {form} = this.formRef.props;\n    form.validateFields((err, values) => {\n      if (!err) {\n        // console.log('登录', values);\n        this.props.login(values);\n      }\n    });\n  };\n\n  // checkbox状态改变\n  handleChange = (e) => {\n    e.target.checked\n      ? this.props.openRememberAccount()\n      : this.props.closeRememberAccount()\n  };\n\n  // 请求验证码\n  updateVCode = () => {\n    this.props.fetchVerifyCode();\n  };\n\n  componentDidMount() {\n    // 获取验证码图片\n    this.updateVCode();\n    // 监听页面高度变化\n    const _this = this;\n    window.onresize = function () {\n      if (window.innerHeight > 600) {\n        _this.setState({height: window.innerHeight});\n      }\n    };\n    // 清除localStorage\n    removeLocalStorage('selectedItem');\n    removeLocalStorage('selectedMenuItem');\n  }\n\n  // componentDidUpdate(prevProps, prevState, snapshot) {\n  //   const verifyCodeStatus = this.props.verifyCodeStatus;\n  //   if (verifyCodeStatus) {\n  //     console.log('[获取验证码失败, 正在重新请求]');\n  //     this.updateVCode();\n  //   }\n  // }\n}\n\n// 匿名登录输入框组件\nconst LoginInputForm = Form.create({name: 'login_input_form'})(\n  class extends React.Component {\n    render() {\n      const {getFieldDecorator} = this.props.form;\n      const {onSubmit, onChange, verifyCodeImg, isRememberAccount, onUpdateVCode} = this.props;\n      return (\n        <Form onSubmit={onSubmit}\n              style={{width: '100%'}}\n        >\n          <Form.Item>\n            {\n              getFieldDecorator('user', {\n                rules: [{required: true, message: 'Please input your username!'}]\n              })(\n                <Input\n                  prefix={<Icon type='user' style={{color: 'rgba(0, 0, 0, .25)'}}/>}\n                  placeholder='Username'\n                  size='large'\n                  allowClear\n                />\n              )\n            }\n          </Form.Item>\n          <Form.Item>\n            {\n              getFieldDecorator('password', {\n                rules: [{required: true, message: 'Please input your password!'}]\n              })(\n                <Input.Password\n                  prefix={<Icon type='lock' style={{color: 'rgba(0,0,0,.25)'}}/>}\n                  placeholder='Password'\n                  type='password'\n                  size='large'\n                />\n              )\n            }\n          </Form.Item>\n          <Form.Item>\n            {\n              getFieldDecorator('verifyCode', {\n                rules: [{required: true, message: 'Please input verifyCode!'}]\n              })(\n                <div>\n                  <Input\n                    prefix={<Icon type=\"barcode\" style={{color: 'rgba(0,0,0,.25)'}}/>}\n                    placeholder='verifyCode'\n                    size='large'\n                    style={{width: 'calc(100% - 80px)'}}\n                  />\n                  <div style={{\n                    display: 'inline-block',\n                    width: 80,\n                    height: 40,\n                    verticalAlign: 'top',\n                  }}>\n                    <div style={{\n                      width: '100%',\n                      height: '100%',\n                      background: '#fff'\n                    }}>\n                      <img\n                        // src={require('../../images/cnValidateImage.png')}\n                        src={verifyCodeImg}\n                        style={{width: '100%', height: '100%', verticalAlign: 'top', cursor: 'pointer'}}\n                        alt=\"\"\n                        onClick={onUpdateVCode}\n                      />\n                    </div>\n                  </div>\n                </div>\n              )\n            }\n          </Form.Item>\n          <Form.Item>\n            <Checkbox checked={isRememberAccount} onChange={onChange}\n                      style={{color: '#fff', fontWeight: '700'}}\n            >\n              记住我\n            </Checkbox>\n          </Form.Item>\n          <Form.Item>\n            <Button type='primary' htmlType='submit' className=\"login-form-button\" size='large'\n                    block\n                    disabled={!verifyCodeImg}>登录</Button>\n          </Form.Item>\n        </Form>\n      )\n    }\n  }\n);\n\n\nconst WrappedLoginForm = Form.create({name: 'login'})(Login);\n\nconst mapStateToProps = (state, props) => {\n  return {\n    verifyCodeImg: getVerifyCodeImg(state), // 验证码 图片\n    // verifyCodeStatus: getVerifyCodeStatus(state),\n    isRememberAccount: isRememberAccount(state), // 记住密码\n    redirectTo: getRedirectTo(state), // 跳转\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => { // 操作的方法\n  return {\n    ...bindActionCreators(authActions, dispatch),\n    ...bindActionCreators(vcodeActions, dispatch),\n    ...bindActionCreators(uiActions, dispatch),\n    ...bindActionCreators(appActions, dispatch),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WrappedLoginForm);","import React from 'react';\nimport {connect} from 'react-redux';\nimport {Redirect} from 'react-router-dom';\nimport {getGroupNameList} from '../../redux/index';\nimport {getRouteParams} from '../../utils/utils';\n\nclass dashboard extends React.Component {\n  render() {\n    const {groupNameList} = this.props;\n    const groupNameListRaw = groupNameList.toJS();\n    console.log('[dashboard]', groupNameListRaw);\n    return (\n      <Redirect to={getRouteParams(groupNameListRaw)('/homev2')}/>\n    )\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n    groupNameList: getGroupNameList(state),\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {}\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(dashboard);","export const rootColor = {\n  '--border-color': '#545865',\n  '--bg-first-color': '#343a41',\n  '--bg-second-color': '#212a35',\n  '--bg-third-color': '#161b21',\n  '--bg-filters-color': '#090b0d',\n  '--table-thread-color': '#a5b2c7',\n  '--border-bottom-color': '#545860',\n  '--bg-btn-offline': '#43464d',\n  '--bg-btn-online': '#28b73d',\n  '--bg-modal-color': '#373a3c',\n  '--white': '#fff',\n  '--warning-label': '#fce446',\n  '--danger-color': '#EE4B53',\n  // '--test': 'gold'\n};\n\nexport const rootFontSize = {\n  '--primary-font-size': '14px',\n  '--btn-border-radius': '0.4em',\n};","import styled from 'styled-components';\nimport {rootFontSize, rootColor} from '../../utils/cssConfig';\n\n// 组选择框布局\nexport const GroupSelectLayout = styled.div`\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin-left: auto !important;\n    // 组\n    span {\n      margin-right: 10px;\n      font-weight: 600;\n    }\n`;\n\n// select选择框\nexport const MainGroupSelect = styled.div`\n  width: 234px;\n  height: 40px;\n  margin-right: 20px;\n  border-radius: ${rootFontSize['--btn-border-radius']};\n  background-color: ${rootColor['--bg-first-color']}; \n`;\n\n// 用户\nexport const UserMenu = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  \n  width: 40px;\n  height: 40px;\n  border-radius: 20px;\n  border: 2px solid #fff;\n  font-size: ${rootFontSize['--primary-font-size']};\n  cursor: pointer;\n`;\n\n// 点击头像显示下拉菜单\nexport const DropDownMenu = styled.div`\n  position: absolute;\n  top: 46px;\n  right: 20px;\n  width: 190px;\n  height: 40px;\n  \n  // padding: 8px auto;\n  // margin-top: 2px;\n  // font-size: ${rootFontSize['--primary-font-size']};\n  color: #fff;\n  // text-align: left;\n  // list-style: none;\n  background-color: #000;\n  // background-clip: padding-box;\n  // border: 1px solid #495057;\n  // border-radius: 2px;\n  // z-index: 1001;  \n  // right: 0;\n  // left: auto;\n  // top: 46px;\n  // float: none;\n`;\n\n// TODO: 继续开发\n","export default {\n  baseURL: () => '/api/v1',\n  rootUrl: () => '/homev2', // 主路由\n  secondaryUrl: () => '/unit', // 次级路由\n}\n","import {Icon} from 'antd';\n\nconst scriptUrl = '//at.alicdn.com/t/font_1113810_cbfdsckkoe.js';\n\nconst IconFont = Icon.createFromIconfontCN({\n  scriptUrl\n});\n\nexport default IconFont;\n","import React, {Fragment} from 'react';\nimport {withRouter} from 'react-router-dom';\n\n// antd\nimport {Form, Select, Popover, List, Typography, Modal, Button} from 'antd';\n\n// styled-components\nimport {\n  GroupSelectLayout,\n  MainGroupSelect,\n  UserMenu,\n  DropDownMenu\n} from './style.js';\n\n// utils\nimport {getRouteParams} from '../../utils/utils';\nimport apiPrefix from '../../apiPrefix';\n\n// iconfont\nimport IconFont from '../../iconFont/iconfont';\n\n// css\nimport './style.css';\n\n@withRouter\nclass GroupSelect extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      showUserMenu: false,\n      showMenuModal: false,\n      modalName: ''\n    };\n\n    this.dropDownMenuListItem = {\n      account: {\n        title: '账户',\n        body: '',\n        resEvent: '',\n        width: 750\n      },\n      support: {\n        title: '技术支持',\n        body: '',\n        resEvent: '',\n        width: 500,\n      },\n      about: {\n        title: '关于',\n        body: '',\n        resEvent: '',\n        width: 500\n      },\n      news: {\n        title: '什么是新闻',\n        body: '',\n        resEvent: '',\n        width: 750\n      },\n      setting: {\n        title: '设置',\n        body: '',\n        resEvent: '',\n        width: 750\n      },\n      logout: {\n        title: '注销',\n        body: '',\n        resEvent: '',\n        width: 0\n      }\n    };\n  }\n\n  render() {\n    const {nameList, user, location: {state}} = this.props;\n    const nameListRaw = nameList.toJS();\n    const userRaw = user.toJS();\n    const {group} = state;\n    const {username} = userRaw;\n    // console.log('[GroupSelect]', nameListRaw);\n    return (<GroupSelectLayout id='navbar-select-div'>\n\n        <span>组</span>\n\n        <MainGroupSelect>\n          <GroupSelectForm defaultGroup={group}\n                           grouplist={nameListRaw}\n                           onChange={\n                             (v) => this.handleChange(v, nameListRaw)\n                           }\n          />\n        </MainGroupSelect>\n\n        {\n          username ?\n            (<Popover placement='bottom'\n                      title={\n                        <span>\n                      {username}\n                      </span>\n                      }\n                      content={this.getDropDownMenu()}\n                      trigger='click'\n                      overlayClassName='customize-popover'>\n                <UserMenu onClick={this.toggleUserMenu}> {username.substring(0, 1).toUpperCase()}\n                </UserMenu>\n              </Popover>\n            ) : null\n        }\n\n        {/*用户信息弹窗*/}\n        <UserDropDownListForm\n          visible={this.state.showMenuModal}\n          modalName={this.state.modalName}\n          dropDownMenuListItem={this.dropDownMenuListItem}\n          onOk={() => this.setState({showMenuModal: false})}\n          onCancel={() => this.setState({showMenuModal: false})}\n        />\n      </GroupSelectLayout>\n    )\n  }\n\n  // 切换组\n  handleChange = (value, namelist) => {\n    // console.log('[更换组]');\n    const rootUrl = apiPrefix.rootUrl();\n    this.props.history.push(getRouteParams(namelist, value)(rootUrl));\n  };\n\n  // 切换用户信息\n  toggleUserMenu = () => {\n    // console.log('[切换用户信息]');\n    this.setState((prevState) => ({\n      showUserMenu: !prevState.showUserMenu\n    }));\n  };\n\n  // 用户信息List展示\n  getDropDownMenu = () => {\n    const data = [{\n      title: '账户',\n      type: 'iconuser-copy',\n      name: 'account'\n    },\n      {\n        title: '技术支持',\n        type: 'iconsupport-copy',\n        name: 'support'\n      },\n      {\n        title: '关于',\n        type: 'iconabout-copy',\n        name: 'about'\n      },\n      {\n        title: '什么是新闻',\n        type: 'iconNews-copy',\n        name: 'news'\n      },\n      {\n        title: '设置',\n        type: 'iconsetting-copy',\n        name: 'setting'\n      },\n      {\n        title: '注销',\n        type: 'iconLogout-copy',\n        name: 'logout'\n      }\n    ];\n    return (\n      <List itemLayout='horizontal'\n            dataSource={data}\n            size='small'\n            split={false}\n            renderItem={\n              (item) => (\n                <List.Item>\n                  <Typography.Text>\n                    < IconFont type={item.type}\n                               style={\n                                 {marginRight: 10}\n                               }\n                    />\n                  </Typography.Text>\n                  <span\n                    onClick={() => this.handleListItemClick(item.name)}\n                  >\n                    {item.title}\n                  </span>\n                </List.Item>\n              )\n            }\n      />\n    )\n  };\n\n  handleListItemClick = (name) => {\n    // console.log('List.Item被点击了', name);\n    this.setState((prevState) => ({\n      showMenuModal: !prevState.showMenuModal,\n      modalName: name\n    }));\n  };\n}\n\n// 下拉菜单Form\nconst GroupSelectForm = Form.create({name: 'group_select_form'})(\n  class extends React.Component {\n    render() {\n      const {defaultGroup, grouplist, onChange} = this.props;\n      // console.log('[defaultValue]', grouplist);\n      return (\n        <div style={{width: '100%'}}>\n          <Select size='large'\n                  onChange={onChange}\n                  notFoundContent='No Group'\n                  value={defaultGroup || 'Please add a group'}\n                  style={{width: '100%'}}\n          >\n            {\n              grouplist.map((item) => (\n                <Select.Option\n                  size='large'\n                  value={item.group_id}\n                  key={item.group_id}\n                >\n                  {item.group}\n                </Select.Option>\n              ))\n            }\n          </Select>\n        </div>\n      )\n    }\n  }\n);\n\n// 用户信息List点击弹窗\nconst UserDropDownListForm = Form.create({name: 'user_dropdown_list_form'})(\n  class extends React.Component {\n    render() {\n      console.log('[modalName]', this.props.modalName);\n      const {modalName, dropDownMenuListItem} = this.props;\n      const currentModal = dropDownMenuListItem[modalName] || {};\n      console.log('[currentModal]', currentModal);\n      return (\n        <Modal\n          visible={this.props.visible}\n          title={currentModal.title}\n          width={500}\n          mast={true}\n          onOk={this.props.onOk}\n          onCancel={this.props.onCancel}\n          // footer={\n          //   [\n          //     <Button key='cancel'>取消12</Button>,\n          //     <Button key='confirm'>确定34</Button>\n          //   ]\n          // }\n        >\n\n        </Modal>\n      )\n    }\n  }\n);\n\nexport default GroupSelect;\n\n/**\n *  分为3个部分:\n *  1.标题\n *  2.body内容\n *  3.响应事件\n *\n */","import React from 'react';\n\n// antd\nimport { Form, Modal, Row, Col, Input, Button, Icon } from 'antd';\n\nimport './style.css';\n\n// utils\nimport { composeData } from '../../utils/utils';\n\nclass ModalForm extends React.Component {\n  state = {\n    visible: false\n  };\n\n  render() {\n    // console.log('[ModalForm]', this.props);\n    return (\n      <GroupCreateForm\n        wrappedComponentRef={this.saveCreateFormRef}\n        visible={this.state.visible}\n        onCreate={this.handleCreate}\n        onCancel={this.handleCancel}\n        {...this.props}\n      />\n    )\n  }\n\n  showModal = () => {\n    this.setState({ visible: true });\n  };\n\n  handleCreate = () => {\n    const { form } = this.createFormRef.props;\n    form.validateFields((err, values) => {\n      if (err) {\n        console.log('[handleCreate err]', err);\n        return;\n      }\n\n      // 清空表单\n      form.resetFields();\n\n      // 关闭Modal\n      this.setState({ visible: false });\n\n      // 打印结果\n      console.log('[values]', values);\n\n      // {\n      //    group: \"1\"\n      //    group-description: \"2\"\n      //    encode-domain: \"23\"\n      //    encode-port: \"3\"\n      //    auth: \"3\"\n      //    encode-recvServicePort: \"4\"\n      //    wowza-domain: \"4\"\n      //    wowza-port: \"4\"\n      // }\n      const groups = Object.keys(values).filter((v) => (v.startsWith('group'))).map((v) => values[v]);\n      const encodes = Object.keys(values).filter((v) => (v.startsWith('encode'))).map((v) => values[v]);\n      const wowzas = Object.keys(values).filter((v) => (v.startsWith('wowza'))).map((v) => values[v]);\n\n      // 数据处理\n      let requestData = composeData(...groups)(...encodes)(...wowzas);\n      console.log('[requestData]', requestData);\n\n      // 回掉给unitoperator.js\n      this.props.inputFormValue(requestData);\n    });\n  };\n\n  handleCancel = () => {\n    this.setState({ visible: false });\n  };\n\n  saveCreateFormRef = (formRef) => { // 表示GroupCreateForm实例\n    this.createFormRef = formRef;\n  };\n\n}\n\nconst GroupCreateForm = Form.create({ name: 'group_create_form' })(\n  class extends React.Component {\n    state = {\n      expand: false\n    };\n\n    render() {\n      // console.log('[GroupCreateForm]', this.props.formList);\n      const buttonItemLayout = {\n        wrapperCol: { span: 14, offset: 4 },\n      };\n      return (\n        <Modal\n          wrapClassName='customize-modal'\n          visible={this.props.visible}\n          title={this.props.title}\n          onOk={this.props.onCreate}\n          onCancel={this.props.onCancel}\n          okText={this.props.okText}\n          cancelText='取消'\n          width={500}\n          mast={false}\n        >\n          <Form className='ant-advanced-search-form'>\n            <Row gutter={24}>{this.getFields()}</Row>\n            <Row>\n              <Col span={24} style={{ textAlign: 'right' }}>\n                <Form.Item  {...buttonItemLayout}>\n                  <Button type='primary' style={{ marginLeft: 8 }} onClick={this.handleReset}>清空</Button>\n                  {\n                    this.props.formList.length > 6\n                      ? (\n                        <a style={{ marginLeft: 8, fontSize: 12 }} onClick={this.toggle}>\n                          切换<Icon type={this.state.expand ? 'up' : 'down'} />\n                        </a>\n                      )\n                      : null\n                  }\n                </Form.Item>\n              </Col>\n            </Row>\n          </Form>\n        </Modal>\n      )\n    }\n\n    getFields = () => {\n      const defaultRecord = this.props.defaultRecord;\n      const formList = this.props.formList;\n      const count = this.state.expand ? 10 : 6;\n      const { getFieldDecorator } = this.props.form;\n      const children = [];\n\n      const formItemLayout = {\n        labelCol: { span: 12 },\n        wrapperCol: { span: 14 },\n      };\n\n      formList.forEach((v, i) => {\n        children.push(\n          <Col span={8} key={v.label} style={{ display: i < count ? 'block' : 'none' }}>\n            <Form.Item label={v.label} {...formItemLayout}>\n              {\n                getFieldDecorator(v.field, {\n                  rules: [{ required: true, message: 'Input something!' }],\n                  initialValue: defaultRecord ? defaultRecord[v.text] : null\n                })(<Input placeholder='placeholder' />)\n              }\n            </Form.Item>\n          </Col>\n        );\n      });\n\n      return children;\n    };\n\n    handleReset = () => {\n      this.props.form.resetFields();\n    };\n\n    toggle = () => {\n      const { expand } = this.state;\n      this.setState({ expand: !expand });\n    };\n  }\n);\n\nexport default ModalForm;\n\n/**\n * 创建弹窗, 修改encode弹窗, 修改wowza弹窗\n * */\n\n// 测试数据 \n// 211.161.196.204\n// 8000\n// FFj6hRxD7Xe22di5hTKQAKxtCAFSsSbf\n// 12000\n// 127.0.0.1\n// 8087","// 添加组表单字段\nexport const createFormList = [\n    {\n      label: '组名',\n      field: 'group'\n    },\n    {\n      label: '描述',\n      field: 'group-description'\n    },\n    {\n      label: '编码器域名',\n      field: 'encode-domain'\n    },\n    {\n      label: '编码器端口',\n      field: 'encode-port'\n    },\n    {\n      label: 'auth',\n      field: 'encode-auth'\n    },\n    {\n      label: '接收S2000端口',\n      field: 'encode-recvServicePort'\n    },\n    {\n      label: 'S2000域名',\n      field: 'wowza-domain'\n    },\n    {\n      label: 'S2000端口',\n      field: 'wowza-port'\n    },\n  ];\n\n// 编码器更新表单字段\nexport const updateEncodeList = [\n    {\n      label: '域名',\n      field: 'encode-domain',\n      text: 'domain'\n    },\n    {\n      label: '端口',\n      field: 'encode-port',\n      text: 'port'\n    },\n    {\n      label: 'auth',\n      field: 'encode-auth',\n      text: 'auth'\n    }, {\n      label: '接收S2000端口',\n      field: 'encode-recvServicePort',\n      text: 'recvServicePort'\n    }\n  ];\n\n// wowza更新表单字段\nexport const updateWowzaList = [\n    {\n      label: '域名',\n      field: 'wowza-domain',\n      text: 'domain'\n    },\n    {\n      label: '端口',\n      field: 'wowza-port',\n      text: 'port'\n    }\n  ];  ","import styled from 'styled-components';\n\nexport const NoGroupLayout = styled.div`\n  width: 100%;\n  height: 100%;\n  // background-color: gold;\n  .ant-result-title {\n    color: #fff;\n  }\n  .ant-result-info .ant-result-icon > .anticon {\n    color: #fff;\n}\n`;\n\n// 通用布局(2行1列)\nexport const GenericLayout = styled.div`\n  height: 100%;\n  display: grid;\n  grid-template-columns: auto;\n  grid-template-rows: 40px calc(100% - 50px);\n  grid-row-gap: 20px;\n  grid-template-areas: 'local-header-grid' 'local-page-content';\n  padding: 20px;\n`;\n\nexport const LocalHeaderGrid = styled.div`\n  grid-area: local-header-grid;\n  display: flex;\n  align-items: center;\n  span {\n    font-size: 16px;\n    font-weight: 600;\n  }\n`;\n\nexport const LocalPageContent = styled.div`\n  grid-area: local-page-content;\n  display: flex;\n`;\n\nexport const PageContentGrid = styled.div`\n  flex: 1 1 auto;\n  width: 1px;\n`;\n\nexport const ServicesArea = styled.div`\n  height: 100%;\n  overflow-y: auto;\n`;\n\nexport const NoServicesText = styled.div`\n  display: flex !important;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  font-size: 21px;\n  width: 100%;\n  height: 100%;\n`;","import React from 'react';\n\n// 自定义组件\nimport ModalForm from '../modalform/modalform';\n\n// utils\nimport {createFormList} from '../../utils/formFieldList';\n\n// style.js\nimport {\n  NoGroupLayout,\n  GenericLayout,\n  LocalHeaderGrid,\n  LocalPageContent,\n  PageContentGrid,\n  ServicesArea,\n  NoServicesText\n} from './style';\n\n// antd\nimport {Icon, Result, Button} from 'antd';\n\nclass NoGroupPage extends React.Component {\n  render() {\n    return (\n      <NoGroupLayout>\n        <GenericLayout>\n          {/*标题*/}\n          <LocalHeaderGrid>\n            <span>没有创建组</span>\n          </LocalHeaderGrid>\n\n          {/*内容*/}\n          <LocalPageContent>\n            <PageContentGrid>\n              <ServicesArea>\n                <NoServicesText>\n                  <Result\n                    icon={<Icon type=\"usergroup-add\"/>}\n                    title='你还没有组, 快点创建组吧'\n                    extra={\n                      <Button type='primary' size='large' onClick={this.showModal}>\n                        添加组\n                      </Button>  \n                    }\n                  />\n                  <ModalForm\n                    title='添加组'\n                    okText={`创建`}\n                    formList={createFormList}\n                    ref={(modal) => this.modalInstance = modal}\n                    inputFormValue={(formValue) => {\n                      // 创建组\n                      this.props.createGroup(formValue);\n                    }}\n                  />  \n                </NoServicesText>\n              </ServicesArea>\n            </PageContentGrid>\n          </LocalPageContent>\n        </GenericLayout>\n      </NoGroupLayout>\n    )\n  }\n\n  showModal = () => {\n    // 弹出 添加组 弹窗\n    this.modalInstance.showModal();\n  };\n}\n\nexport default NoGroupPage;","import styled from 'styled-components';\n\nexport const ButtonLayout = styled.div`\n  margin-right: 20px;\n  .ant-radio-group {\n    display: inline-flex;\n    vertical-align: middle;\n      .ant-radio-button-wrapper {\n      background-color: #212a35;\n      color: #fff;\n      border: 0;\n      // border-right: 1px solid red !important;\n    }\n  }\n  \n  .ant-radio-button-wrapper:first-child {\n    border-left: 0;\n  }\n`;\n\nexport const TitleLayout = styled.div`\n  display: flex !important;\n  align-items: center !important;\n  width: 100% !important;\n  span {\n    font-size: 16px;\n    font-weight: 600;\n  }\n  // background-color: cyan;\n`;\n\nexport const SearchLayout = styled.div`\n  position: relative;\n  display: flex;\n  width: 100%;\n  height: 40px;\n  flex-wrap: wrap;\n  align-items: stretch;\n`;\n\n\nexport const SearchBar = styled.div`\n   position: absolute;\n   right: 0;\n`;\n\nexport const SearchBox = styled.div`\n  display: flex;\n  margin-left: -1px;\n`;","import React, {Fragment} from 'react';\nimport {withRouter} from 'react-router-dom';\n\n// antd\nimport {Button, Icon, Radio} from 'antd';\n\n// styled-components\nimport {ButtonLayout, SearchBar, SearchBox, SearchLayout, TitleLayout} from './style';\nimport {getRouteParams} from \"../../utils/utils\";\n\n// utils\nimport apiPrefix from '../../apiPrefix';\n\n@withRouter\nclass Unitnavbar extends React.Component {\n  render() {\n    // console.log('[Unitnavbar]', this.props);\n    const data = this.props.data;\n    const pathname = this.props.location.pathname;\n    const {text, value} = data.filter((v) => v.path === pathname)[0];\n    return (\n      <Fragment>\n        {/* 按钮 */}\n        <ButtonLayout>\n          <Radio.Group\n            size='large'\n            buttonStyle='solid'\n            onChange={this.handleChange}\n          >\n            {\n              data.map((v) => (\n                <Radio.Button value={v.value} key={v.value} checked={pathname === v.path}>\n                  <Icon type={v.type}/>\n                </Radio.Button>\n              ))\n            }\n          </Radio.Group>\n        </ButtonLayout>\n\n        {/*标题*/}\n        <TitleLayout>\n          <span>{text}</span>\n        </TitleLayout>\n\n\n        {/*搜索框*/}\n        {\n          !(value === 'multiview')\n            ? (\n              <SearchLayout>\n                <SearchBar>\n                  <SearchBox>\n\n                    <Button type='primary' icon='search' size='large'/>\n\n                  </SearchBox>\n                </SearchBar>\n              </SearchLayout>\n            )\n            : null\n        }\n\n      </Fragment>\n    )\n  }\n\n  handleChange = (v) => {\n    const group_id = this.props.location.state.group_id;\n    const rootUrl = apiPrefix.rootUrl();\n    const nameList = this.props.nameList;\n    console.log('[handleChange]', group_id, rootUrl, nameList);\n    this.props.history.push(getRouteParams(nameList, group_id)(rootUrl, 'unit', v.target.value));\n  };\n}\n\nexport default Unitnavbar;\n\n/**\n * 左上角\n * */","import React from 'react';\nimport {Modal} from 'antd';\nimport './style.css';\n\nclass ModelDelForm extends React.Component {\n  state = {\n    visible: false\n  };\n\n  render() {\n    return (\n      <Modal\n        visible={this.state.visible}\n        title={`删除组`}\n        wrapClassName={`customize-modal-delete-modal`}\n        onOk={this.props.onDeleteGroup}\n        onCancel={this.handleCancel}\n        okText={`删除`}\n        cancelText={`取消`}\n      >\n        <div style={{color: '#fff'}}>确定删除{this.props.group}组吗???</div>\n      </Modal>\n    )\n  }\n\n  showDelModal = () => {\n    this.setState({visible: true});\n  };\n\n  handleCancel = () => {\n    this.setState({visible: false});\n  };\n}\n\nexport default ModelDelForm;\n\n/**\n * 删除弹窗\n * */","import React from 'react';\n\n// styled-component\nimport {Form, Modal, Select, Input} from 'antd';\n\n// css\nimport './style.css';\n\nclass ModalMatchForm extends React.Component {\n  state = {\n    visible: false\n  };\n\n  render() {\n    return (\n      <div>\n        <GroupMatchForm\n          wrappedComponentRef={this.saveMatchFormref}\n          visible={this.state.visible}\n          onMatch={this.handleMatch}\n          onCancel={this.handleCancel}\n          {...this.props}\n        />\n      </div>\n    )\n  }\n\n  handleMatch = () => {\n    const {form} = this.matchFormRef.props;\n    form.validateFields((err, values) => {\n      if (err) {\n        console.log('[handleMatch err]', err);\n        return;\n      }\n\n      // 清空表单\n      form.resetFields();\n\n      // 关闭Modal\n      this.setState({visible: false});\n\n      // 打印结果\n      console.log('[values]', values);\n\n      // 回掉给unitoperator.js\n      this.props.inputFormValue(values);\n    });\n  };\n\n  handleCancel = () => {\n    this.setState({visible: false});\n  };\n\n  showMatchModal = () => {\n    this.setState({visible: true});\n  };\n\n  saveMatchFormref = (formRef) => {\n    this.matchFormRef = formRef;\n  }\n}\n\nconst GroupMatchForm = Form.create({name: 'group_match_form'})(\n  class extends React.Component {\n    render() {\n      const {Option} = Select;\n      const {getFieldDecorator} = this.props.form;\n      const formItemLayout = {\n        labelCol: {span: 6},\n        wrapperCol: {span: 14},\n      };\n      return (\n        <Modal\n          wrapClassName='customize-match-modal'\n          visible={this.props.visible}\n          title={this.props.title}\n          onOk={this.props.onMatch}\n          onCancel={this.props.onCancel}\n          okText={`匹配`}\n          cancelText={`取消`}\n          width={500}\n          mask={false}\n          okButtonProps={{disabled: this.props.dState}}\n        >\n          <Form>\n\n            <Form.Item label='group' {...formItemLayout}>\n              {\n                getFieldDecorator('group', {\n                  rules: [{required: true, message: 'Please select your group!'}],\n                  initialValue: this.props.group\n                })(<Input placeholder='123' disabled={true}/>)\n              }\n            </Form.Item>\n\n            <Form.Item label='group_id' {...formItemLayout}>\n              {\n                getFieldDecorator('group_id', {\n                  rules: [{required: true, message: 'Please select your group_id!'}],\n                  initialValue: this.props.group_id\n                })(\n                  <Input placeholder='123' disabled={true}/>\n                )\n              }\n            </Form.Item>\n\n          </Form>\n        </Modal>\n      )\n    }\n  }\n);\n\n\nexport default ModalMatchForm;\n\n{/*<Select placeholder='Please select a group'>*/\n}\n{/*<Option value='china'>China</Option>*/\n}\n{/*<Option value='usa'>U.S.A</Option>*/\n}\n{/*</Select>*/\n}\n\n{/*<Select placeholder='Please select a group_id'>*/\n}\n{/*<Option value='china'>China</Option>*/\n}\n{/*<Option value='usa'>U.S.A</Option>*/\n}\n{/*</Select>*/\n}","import styled from 'styled-components';\n\n\nexport const MarginLeftAuto = styled.div`\n  margin-left: auto !important;\n  .ant-btn.ant-btn-lg {\n    font-size: 14px;\n    color: #fff;\n    background-color: #212a35;\n    border: 0;\n    margin-left: 8px;\n  }\n  \n  .ant-modal.ant-modal-confirm.ant-modal-confirm-confirm {\n    padding-bottom: 0;\n    top: 30px;\n  }\n`;","import React from 'react';\n\nexport const UnitOperatorContext = React.createContext({\n  group_id: '',\n  group: '',\n  deleteGroup: () => {\n  },\n  createGroup: () => {\n  }\n});","import React, {Fragment} from 'react';\n\n// 自定义组件\nimport ModalForm from '../modalform/modalform';\nimport ModelDelForm from '../modeldelform/modeldelform';\nimport ModalMatchForm from '../modalmatchform/modalmatchform';\n\n// antd\nimport {Button, Icon, Modal} from 'antd';\n\n// styled-components\nimport {MarginLeftAuto} from './style';\n\n// 全局context\nimport {UnitOperatorContext} from '../../context/unit-operator-context';\n\n// utils \nimport {createFormList} from '../../utils/formFieldList';\n\nclass UnitOperator extends React.Component {\n  render() {\n    // console.log('[UnitOperator this.props]', this.props);\n\n    return (\n      <MarginLeftAuto>\n\n        <UnitOperatorContext.Consumer>\n          {\n            ({createGroup, deleteGroup, matchGroup, group, group_id, singleGroup}) => (\n              <Fragment>\n\n                <Button size='large' onClick={this.showMatchModal}>\n\n                  匹配\n                  <Icon type=\"link\"/>\n\n                </Button>\n\n                <Button size='large' onClick={this.showModal}>\n\n                  添加组\n                  <Icon type=\"usergroup-add\"/>\n\n                </Button>\n\n                <Button size='large' onClick={this.deleteGroup}>\n\n                  删除组\n                  <Icon type=\"usergroup-delete\"/>\n\n                </Button>\n\n                <Button size='large' icon='sync'\n                        onClick={() => window.location.href = window.location.href}\n                />\n\n                {/*匹配弹窗*/}\n                <ModalMatchForm\n                  title='匹配'\n                  ref={(modal) => this.modalMatchInstance = modal}\n                  inputFormValue={(formValue) => {\n                    // 匹配\n                    console.log('[匹配组]', formValue);\n                    matchGroup(formValue);\n                  }}\n                  group={group}\n                  group_id={group_id}\n                  dState={singleGroup.dState === 'offline' ? false : true}\n                />\n\n                {/*创建组弹窗*/}\n                <ModalForm\n                  title='添加组'\n                  okText={'创建'}\n                  formList={createFormList}\n                  ref={(modal) => this.modalInstance = modal}\n                  inputFormValue={(formValue) => {\n                    // 创建组\n                    console.log('[创建组]', formValue);\n                    createGroup(formValue);\n                  }}\n                />\n\n                {/*删除组弹窗*/}\n                <ModelDelForm\n                  onDeleteGroup={() => {\n                    // 删除组\n                    deleteGroup({group_id, group});\n                  }}\n                  group={group}\n                  ref={(modal) => this.delModalInstance = modal}\n                />\n              </Fragment>\n            )\n          }\n\n        </UnitOperatorContext.Consumer>\n      </MarginLeftAuto>\n    )\n  }\n\n  showModal = () => {\n    this.modalInstance.showModal();\n  };\n\n  deleteGroup = () => {\n    this.delModalInstance.showDelModal();\n  };\n\n  showMatchModal = () => {\n    this.modalMatchInstance.showMatchModal();\n  };\n\n}\n\nexport default UnitOperator;\n\n/**\n * 右上角\n * */","import styled from 'styled-components';\nimport {rootColor, rootFontSize} from '../../utils/cssConfig';\n\nexport const GridTableLayout = styled.div`\n  flex: 1 1 auto;\n  width: 1px;\n  // background-color: gold;\n`;\n\nexport const GridPosition = styled.div`\n  position: relative;\n  height: 100%;\n`;\n\nexport const TableBg = styled.div`\n  height: 100%;\n  background-color: ${rootColor['--bg-second-color']};\n  color: #fff;\n  border: 1px solid transparent;\n  border-radius: 7px;\n  overflow-y: auto;\n  \n  .ant-table table {\n    border-radius: 7px;\n  }\n  \n  // 有内容\n  .ant-table-content {\n      .ant-table-thead > tr > th{\n        color: ${rootColor['--table-thread-color']};\n        background: ${rootColor['--bg-second-color']};\n        border-bottom: 1px solid  ${rootColor['--border-bottom-color']};\n      }\n      \n      .ant-table-tbody > tr > td {\n        color: #fff;\n        font-size: ${rootFontSize['--primary-font-size']};\n        // background: ${rootColor['--bg-second-color']};\n        border-bottom: 1px solid  ${rootColor['--border-bottom-color']};\n      }\n      \n      .ant-table-tbody > tr:hover > td {\n        background: #000 !important;\n      }\n  } \n  \n  // 空白\n  .ant-table-placeholder {\n    height: calc(100vh - 160px) !important;\n    background: ${rootColor['--bg-second-color']};\n    border-radius: 7px;\n    border: 1px solid transparent;\n    .ant-empty-normal {\n      color: #fff;\n    }\n  }\n`;\n","import React from 'react';\nimport {withRouter} from 'react-router-dom';\n\n// antd\nimport {Table, Icon} from 'antd';\n\n// styled-components\nimport {\n  GridTableLayout,\n  GridPosition,\n  TableBg,\n} from './style';\n\n// css\nimport './style.css';\n\n// immutable\nimport Immutable from 'immutable';\n\n@withRouter\nclass GridTable extends React.Component {\n  state = {\n    rowId: '', // 表示当前选中的行id\n  };\n\n  render() {\n    // console.log('[GridTable]');\n    const groupColumns = [\n      {\n        title: '',\n        dataIndex: 'icon',\n        key: 'icon',\n        render: () => <Icon type='hdd'/>\n      },\n      {\n        title: '域名',\n        dataIndex: 'domain',\n        key: 'domain'\n      },\n      {\n        title: '匹配状态',\n        dataIndex: 'state',\n        key: 'state'\n      },\n      {\n        title: '类型',\n        dataIndex: 'dtype',\n        key: 'dtype',\n        render: (text, record) => record.recvServicePort ? <span>编码器</span> : <span>S2000</span>\n      },\n      {\n        title: '端口',\n        dataIndex: 'port',\n        key: 'port',\n      }\n    ];\n    return (\n      <GridTableLayout>\n        <GridPosition>\n          <TableBg>\n            <Table\n              id='deviceTable'\n              dataSource={this.props.unitList}\n              columns={groupColumns}\n              pagination={false}\n              rowKey={record => record.id}\n              rowClassName={this.setTableRowClassName}\n              onRow={this.onClickTableRow}\n            />\n          </TableBg>\n        </GridPosition>\n      </GridTableLayout>\n    )\n  }\n\n\n  setTableRowClassName = (record) => {\n    return record.id === this.state.rowId ? 'clickRowStyle' : '';\n  };\n\n  onClickTableRow = (record) => {\n    return {\n      onClick: (event) => {\n        console.log('[gridtable 点击行响应]', record);\n        this.setState({rowId: record.id}); // 只影响css样式\n        this.props.onClick(record);\n      }\n    }\n  };\n\n  componentDidMount() {\n    if (this.props.unitList.length !== 0) {\n      this.setState({\n        rowId: this.props.unitList[0].id\n      }, () => {\n        this.onClickTableRow(this.props.unitList[0]);\n        this.setTableRowClassName(this.props.unitList[0]);\n        this.props.onClick(this.props.unitList[0]);\n      });\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState, nextContext) {\n    const currentList = Immutable.fromJS(this.props.unitList);\n    const nextList = Immutable.fromJS(nextProps.unitList);\n    if (Immutable.is(currentList, nextList)) { // 是否执行componentDidUpdate条件\n      return false;\n    }\n    return true;\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.props.unitList.length !== 0) {\n      this.setState({\n        rowId: this.props.unitList[0].id,\n      }, () => {\n        this.onClickTableRow(this.props.unitList[0]); //\n        this.setTableRowClassName(this.props.unitList[0]); // 设置css样式\n        this.props.onClick(this.props.unitList[0]); // 执行点击第一项\n      });\n    }\n  }\n}\n\nexport default GridTable;","import styled from 'styled-components';\nimport {rootColor} from '../../utils/cssConfig';\n\nexport const CardSideBar = styled.div`\n  // overflow-y: auto;\n  background-color: ${rootColor['--bg-second-color']};\n  border-radius: 7px;\n  width: 455px;\n  will-change: width;\n  transition: all .5s;\n`;\n\nexport const UnitDetails = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding-left: 20px;\n  padding-right: 20px;\n  height: 100% !important;\n  \n  // background-color: gold;\n`;\n\nexport const Header = styled.div`\n  display: flex;\n  align-items: center;\n  max-height: 40px;\n  min-height: 40px;\n  border-bottom: 1px solid ${rootColor['--border-color']};\n  margin-bottom: 10px;\n  \n  // background-color: green;\n`;\n\nexport const Title = styled.span`\n  display: block;\n  width: auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding-left: 10px;\n`;\n\n\nexport const AutoPlaceHolder = styled.span`\n  margin-left: auto !important;\n`;\n\n\nexport const IconButton = styled.div`\n  width: 30px;\n  cursor: pointer;\n`;\n\nexport const Location = styled.div`\n  width: 100%;\n  height: 20px;\n  margin-bottom: 10px;\n`;\n\nexport const LocationLayout = styled.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  \n  .ant-btn {\n    background-color: transparent;\n    color: #fff;\n    border: none;\n  }\n  \n  .ant-btn:hover {\n    color: #e67157;\n    transition: all .5s;\n  }\n`;\n\nexport const ScrollArea = styled.div`\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n  scroll-behavior: smooth;\n`;\n\nexport const StreamVideo = styled.div`\n  position: relative !important;\n  width: 100%;\n  height: 170px;\n  min-height: 170px;\n  background-color: ${rootColor['--bg-first-color']};\n  margin-bottom: 16px;\n`;\n\nexport const StreamVideoDefaultImg = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 16px;\n  background-color: ${rootColor['--bg-first-color']};\n`;\n\nexport const Setting = styled.div`\n  display: flex;\n  flex-direction: column;\n  min-height: 320px;\n  margin-bottom: 16px;\n  background-color: ${rootColor['--bg-first-color']};\n  flex-shrink: 0;\n`;\n\nexport const SettingLayout = styled.div`\n  display: grid;\n  grid-template-columns: 25% 75%;\n  grid-auto-rows: 40px;\n  grid-row-gap: 20px; \n  align-items: center;\n  padding: 20px;\n`;\n\nexport const StatusButtonLayout = styled.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  margin-top: auto !important;\n  padding: 20px;\n`;\n\nexport const MarginLeftAuto = styled.div`\n  margin-left: auto !important;\n  .ant-btn {\n    width: 170px;\n    height: 40px;\n    // background-color: ${rootColor['--bg-btn-offline']};\n    background-color: ${props => rootColor[props.status.color]};\n    color: #fff;\n    border-color: transparent;\n  } \n`;\n\nexport const InfoLayout = styled.div`\n  width: 100%;\n  height: 100%;\n  .ant-tabs.ant-tabs-card .ant-tabs-card-bar .ant-tabs-tab {\n    border-radius: 0;\n    background-color: ${rootColor['--bg-second-color']};\n    color: #fff;\n  }\n  \n  .ant-tabs.ant-tabs-card .ant-tabs-card-bar .ant-tabs-tab-active {\n    color: #d9482f; \n  }\n  \n  .ant-tabs-nav .ant-tabs-tab .anticon {\n    margin-right: 0;\n  }\n`;\n\nexport const TabDetails = styled.div`\n   display: flex;\n   flex-direction: column;\n   padding-left: 0;\n   margin-bottom: 0;\n   min-height: 300px;\n`;","import React, { Fragment } from 'react';\n\n// 弹窗\nimport ModelForm from '../../component/modalform/modalform';\n\n// utils\nimport { updateEncodeList, updateWowzaList } from '../../utils/formFieldList';\n\nimport {\n  CardSideBar,\n  UnitDetails,\n  Header,\n  Title,\n  AutoPlaceHolder,\n  IconButton,\n  Location,\n  LocationLayout,\n  ScrollArea,\n  StreamVideo,\n  StreamVideoDefaultImg,\n  Setting,\n  SettingLayout,\n  StatusButtonLayout,\n  MarginLeftAuto,\n  InfoLayout,\n  TabDetails\n} from './style';\n\nimport { Icon, Button, Tabs } from 'antd';\n\nfunction Global() {\n  return (<div>Global</div>)\n}\n\nfunction Picture() {\n  return (<div>Picture</div>)\n}\n\nfunction Upload() {\n  return (<div>Upload</div>)\n}\n\nfunction File() {\n  return (<div>File</div>)\n}\n\nclass GridCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      currentStatus: {},\n    };\n\n    this.statusCode = {\n      offline: {\n        color: '--bg-btn-offline',\n        text: '匹配异常',\n        disabled: true,\n        label: 'offline'\n      },\n      ready: {\n        color: '--bg-btn-online',\n        text: '推流',\n        disabled: false,\n        label: 'ready'\n      },\n      connection: {\n        color: '--warning-label',\n        text: '连接中...',\n        disabled: false,\n        label: 'connection'\n      },\n      streaming: {\n        color: '--danger-color',\n        text: '停止推流',\n        disabled: false,\n        label: 'streaming'\n      }\n    };\n  }\n\n  render() {\n    const { TabPane } = Tabs;\n    const record = this.props.record;\n    // console.log('[record]', record);      \n    // console.log('[singleGroup]', this.props.singleGroup);\n    const tabList = [\n      {\n        key: 'global',\n        icon: 'global',\n        component: Global\n      },\n      {\n        key: 'picture',\n        icon: 'picture',\n        component: Picture\n      },\n      {\n        key: 'upload',\n        icon: 'upload',\n        component: Upload\n      },\n      {\n        key: 'file',\n        icon: 'file',\n        component: File\n      }\n    ];\n    return (\n      <CardSideBar>\n        <UnitDetails>\n\n          <Header>\n            <Icon type='hdd' />\n            <Title>{record.domain}</Title>\n\n            <AutoPlaceHolder />\n\n            <IconButton style={{ width: '30px' }} onClick={this.showUpdateModal}>\n              <Icon type='setting' theme='filled'></Icon>\n            </IconButton>\n            <Icon type='more' />\n\n          </Header>\n\n          <ModelForm\n            title={record.recvServicePort ? '编码器修改' : 'S2000修改'}\n            defaultRecord={record}\n            formList={record.recvServicePort ? updateEncodeList : updateWowzaList}\n            ref={(modal) => this.modalInstance = modal}\n            okText={'修改'}\n            inputFormValue={(formValue) => {\n              this.props.modifyGroup(formValue);\n            }}\n          />\n\n          <Location>\n            <LocationLayout>\n              <Title>\n                地理位置: Xietu Road, Xuhui, Xuhui District, Shanghai, 200030, China\n              </Title>\n\n              <Button style={{ marginLeft: 'auto !important' }}>\n                <Icon type='sync'></Icon>\n              </Button>\n\n            </LocationLayout>\n          </Location>\n\n          <ScrollArea>\n            <StreamVideo>\n              <StreamVideoDefaultImg>\n                <img src={require('../../images/logo.png')} alt='' />\n              </StreamVideoDefaultImg>\n            </StreamVideo>\n\n            <Setting>\n              <SettingLayout>\n                <span>端口</span>\n                <div>\n                  <Title>\n                    {record.port}\n                  </Title>\n                </div>\n                {\n                  record.auth ? (\n                    <Fragment>\n                      <span>认证</span>\n                      <div>\n                        <Title>{record.auth}</Title>\n                      </div>\n                    </Fragment>\n                  ) : null\n                }\n                {\n                  record.recvServicePort ?\n                    <Fragment>\n                      <span>接收wowza端的端口</span>\n                      <div>\n                        <Title>{record.recvServicePort}</Title>\n                      </div>\n                    </Fragment>\n                    : null\n                }\n                <span>状态</span>\n                <div>\n                  <Title>{record.state}</Title>\n                </div>\n                <span>异常信息</span>\n                <div>\n                  <Title>{record.eMessage ? record.eMessage : '无异常信息'}</Title>\n                </div>\n              </SettingLayout>\n\n              {\n\n                record.auth\n                  ? (\n                    this.toggleButtonStatus()\n                  )\n                  : null\n              }\n\n            </Setting>\n\n            <InfoLayout>\n              <Tabs type='card'>\n\n                {\n                  tabList.map((v) => (\n                    <TabPane\n                      key={v.key}\n                      tab={\n                        <span>\n                          <Icon type={v.icon}></Icon>\n                        </span>\n                      }\n                    >\n                      <TabDetails>\n                        <v.component />\n                      </TabDetails>\n                    </TabPane>\n                  ))\n                }\n\n              </Tabs>\n            </InfoLayout>\n          </ScrollArea>\n\n        </UnitDetails>\n      </CardSideBar>\n    )\n  }\n\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.props.singleGroup !== prevProps.singleGroup) {\n      const singleGroup = this.props.singleGroup;\n      let ret;\n      if (singleGroup.dState === 'offline') {\n        ret = this.statusCode['offline'];\n      } else {\n        if (singleGroup.status) {\n          ret = this.statusCode['streaming'];\n        } else {\n          ret = this.statusCode['ready'];\n        }\n      }\n\n      this.setState({ currentStatus: ret });\n    }\n  }\n\n  showUpdateModal = () => {\n    this.modalInstance.showModal();\n  };\n\n  toggleButtonStatus = () => {\n    const status = this.state.currentStatus;\n    return (\n      <StatusButtonLayout>\n        <MarginLeftAuto status={status}>\n          <Button\n            type='primary'\n            disabled={status.disabled}\n            onClick={this.pushFlow}\n            loading={this.state.loading}\n          >\n            {status.text}\n          </Button>\n        </MarginLeftAuto>\n      </StatusButtonLayout>\n    )\n  };\n\n  pushFlow = () => {\n    console.log('[this.state.currentStatus.label]', this.state.currentStatus.label);\n    const { group, group_id } = this.props.singleGroup;\n    const [encode, wowza] = this.props.unitList;\n    // console.log('[group]', group);\n    // console.log('[group_id]', group_id);\n    // console.log('[encode]', encode.id);\n    // console.log('[wowza]', wowza.id);\n    if (this.state.currentStatus.label === 'ready') {\n      this.setState({\n        currentStatus: this.statusCode['streaming']\n      });\n      // 开始推流\n      this.props.startPushStream({ group, group_id, encodeDevice_id: encode.id, recvStreamService_id: wowza.id });\n    } else if (this.state.currentStatus.label === 'streaming') {\n      this.setState({\n        currentStatus: this.statusCode['ready']\n      });\n      // 停止推流\n      this.props.finishPushStream({ group, group_id });\n    }\n  };\n}\n\nexport default GridCard;","import styled from 'styled-components';\nimport {rootColor} from '../../utils/cssConfig';\n\nexport const UnitListLayout = styled.div`\n  width: 100%;\n  height: 100%;\n  // background-color: red;\n`;\n\nexport const UnitDetailsLayout = styled.div`\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: auto 2px 455px;\n  // grid-template-rows: 40px calc(100% - 50px);\n  grid-template-rows: 100%;\n  grid-column-gap: 42px;\n  // grid-row-gap: 20px;\n  grid-template-areas: 'unit-list-page-content-table divider unit-list-page-content-card';\n  // padding: 20px; \n  // background-color: gold;\n`;\n\n// 左上角\n// export const UnitDetailsHeaderGrid = styled.div`\n//   grid-area: unit-details-header-grid;\n//   display: flex;\n//   // background-color: gold;\n// `;\n\nexport const UnitListPageContentTable = styled.div`\n  grid-area: unit-list-page-content-table;\n  display: flex;\n`;\n\nexport const Divider = styled.div`\n  grid-area: divider;\n  display: flex;\n  width: 2px;\n  height: 100%;\n  background-color: ${rootColor['--border-color']};\n  margin: 0;\n`;\n\nexport const UnitListPageContentCard = styled.div`\n  grid-area: unit-list-page-content-card;\n  display: flex;\n`;","import {createSelector} from 'reselect';\nimport Immutable from 'immutable';\n\n// selector\nimport {getEncodeById, getEncodeIdsByGroup} from '../redux/encode.redux';\nimport {getWowzaById, getWowzaIdsByGroup} from '../redux/wowza.redux';\n\n// 1.encodes\nconst encodeIdsSelector = (state, props) => getEncodeIdsByGroup(state, props.location.state.group_id);\nconst encodeByIdSelector = (state) => (id) => getEncodeById(state, id); // 函数式编程\n\nconst encodesFilterSelector = createSelector(\n  encodeIdsSelector,\n  encodeByIdSelector,\n  (encodeIds, filterFunc) => {\n    return encodeIds ? encodeIds.map((v) => filterFunc(v)) : Immutable.List();\n  }\n);\n\n// 2.wowzas\nconst wowzaIdsSelector = (state, props) => getWowzaIdsByGroup(state, props.location.state.group_id);\nconst wowzaByIdSelector = (state) => (id) => getWowzaById(state, id);\n\nconst wowzaFilterSelector = createSelector(\n  wowzaIdsSelector,\n  wowzaByIdSelector,\n  (wowzaIds, filterFunc) => {\n    return wowzaIds ? wowzaIds.map((v) => filterFunc(v)) : Immutable.List();\n  }\n);\n\nconst makeUnitList = () => {\n  return createSelector(\n    [encodesFilterSelector, wowzaFilterSelector],\n    (encodesFilter, wowzasFilter) => {\n      const encodesFilterRaw = encodesFilter.toJS();\n      const wowzasFileterRaw = wowzasFilter.toJS();\n      return [...encodesFilterRaw, ...wowzasFileterRaw];\n    }\n  );\n};\n\nexport default makeUnitList;","import {createSelector} from 'reselect';\n\nimport {getGroupById} from '../redux/groups.redux';\n\nconst getGroupByIdSelector = (state, props) => getGroupById(state, props.location.state.group_id);\n\nconst makeSingleGroup = () => {\n  return createSelector(\n    [getGroupByIdSelector],\n    (singleGroup) => singleGroup ? singleGroup.toJS() : {}\n  )\n};\n\nexport default makeSingleGroup;\n\n/**\n * 输入数据格式为: immutable类型\n * 输出数据格式为: 普通js类型\n * */","import React from 'react';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\n\n// 自定义组件\nimport GridTable from '../gridtable/gridtable';\nimport GridCard from '../gridcard/gridcard';\n\n// actions\nimport {actions as groupsActions} from '../../redux/groups.redux';\n\n// styled-components\nimport {\n  UnitListLayout,\n  UnitDetailsLayout,\n  UnitListPageContentTable,\n  UnitListPageContentCard,\n  Divider\n} from './style';\n\n// reselect\nimport makeUnitList from '../../selectors/listselector';\nimport makeSingleGroup from '../../selectors/groupsingleselector';\n\n// lodash\nimport _ from 'lodash';\n\n\nclass UnitList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      record: {}\n    };\n  }\n\n  render() {\n    // console.log('[UnitList]', this.props);\n    return (\n      <UnitListLayout>\n        <UnitDetailsLayout>\n\n          <UnitListPageContentTable>\n\n            <GridTable\n              location={this.props.location}\n              unitList={this.props.unitList}\n              onClick={this.handleClick}\n            />\n\n          </UnitListPageContentTable>\n\n          <Divider/>\n\n          <UnitListPageContentCard>\n\n            <GridCard\n              record={this.state.record}\n              modifyGroup={this.modifyGroup}\n              singleGroup={this.props.singleGroup}\n              startPushStream={this.props.startPushStream}\n              finishPushStream={this.props.finishPushStream}\n              unitList={this.props.unitList}\n            />\n\n          </UnitListPageContentCard>\n\n        </UnitDetailsLayout>\n      </UnitListLayout>\n    )\n  }\n\n  handleClick = (record) => {\n    this.setState({record});\n  };\n\n  // 修改转发流Group\n  modifyGroup = (formValue) => {\n    const unitList = this.props.unitList;\n    const group = this.props.location.state.group;\n    const encodeFieldFilterList = ['domain', 'port', 'auth', 'recvServicePort'];\n    const wowzaFieldFilterList = ['domain', 'port'];\n\n    // 如果进入的是encode, 保留的是wowza\n    // 如果进入的是wowza, 保留的是encode\n    let retainData = unitList.filter((v) => !(v.id === this.state.record.id));\n\n    let filteRet = {};\n    if (this.state.record.hasOwnProperty('recvServicePort')) {\n      // wowza保留数据, 属性过滤\n      filteRet['recvStreamServices'] = Array.of(_.pick(retainData[0], wowzaFieldFilterList));\n    } else {\n      // encode保留数据, 属性过滤\n      filteRet['encodeDevices'] = Array.of(_.pick(retainData[0], encodeFieldFilterList));\n    }\n\n    const requestData = Object.assign({}, formValue, {group, description: ''}, filteRet);\n    console.log('[requestData]', requestData);\n\n    // 发起请求\n    this.props.modifyGroup(requestData);\n  }\n\n}\n\nconst mapStateToProps = (state, props) => {\n  const getUnitList = makeUnitList();\n  const getSingleGroup = makeSingleGroup();\n  // console.log('[getUnitList]', getUnitList(state, props));\n  return {\n    unitList: getUnitList(state, props),\n    singleGroup: getSingleGroup(state, props)\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    ...bindActionCreators(groupsActions, dispatch),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UnitList);","import styled from 'styled-components';\n\nexport const UnitMultiViewLayout = styled.div`\n  width: 100%;\n  height: 100%;\n  // background-color: green;\n`;\n\nexport const MultiViewNoSelect = styled.div`\n  display: flex;\n  width: 100%;\n  height: 100%;\n  flex-direction: column;\n  padding: 10px 14px 14px;\n`;\n\nexport const MultiViewHeader = styled.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 60px;\n  padding-left: 54px;\n  user-select: none; // 是否允许用户选中文本\n  // background-color: red;\n`;\n\nexport const MultiViewContent = styled.div`\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  height: calc(100% - 60px);\n  padding: 0 44px;\n  user-select: none;\n`;","import React from 'react';\n\n// 自定义组件\nimport Unitnavbar from '../unitnavbar/unitnavbar';\n\n// styled-components\nimport {\n  UnitMultiViewLayout,\n  MultiViewNoSelect,\n  MultiViewHeader,\n  MultiViewContent\n} from './style';\n\nclass UnitMultiView extends React.Component {\n  render() {\n    const {text, hasSearch} = this.props;\n    return (\n      <UnitMultiViewLayout>\n        UnitMultiView\n\n        {/*<MultiViewNoSelect>*/}\n\n          {/*<MultiViewHeader>*/}\n\n            {/*<UnitNavbar text={text} hasSearch={hasSearch}/>*/}\n\n          {/*</MultiViewHeader>*/}\n\n          {/*<MultiViewContent>456</MultiViewContent>*/}\n\n        {/*</MultiViewNoSelect>*/}\n\n      </UnitMultiViewLayout>\n    )\n  }\n}\n\nexport default UnitMultiView;","import styled from 'styled-components';\n\nexport const UnitUploadLayout = styled.div`\n  width: 100%;\n  height: 100%;\n`;\n\nexport const UnitFileUploadLayout = styled.div`\n  display: grid;\n  height: 100%;\n  grid-template-columns: auto 2px 450px;\n  grid-template-rows: 40px 90px 30px calc(100% - 210px);\n  grid-row-gap: 20px;\n  grid-column-gap: 20px;\n  grid-template-areas: \n    'file-upload-header-grid divider file-upload-files' \n    'file-upload-page-content-grid-controller divider file-upload-files'\n    'file-upload-page-content-grid-navigator divider file-upload-files'\n    'file-upload-page-content-grid divider file-upload-files' \n    ;\n  padding: 20px; \n`;\n\nexport const FileUploadHeaderGrid = styled.div`\n  grid-area: 'file-upload-header-grid';\n  display: flex;\n  align-items: center; \n`;","import React from 'react';\n\n// 自定义组件\nimport Unitnavbar from '../unitnavbar/unitnavbar';\n\n// styled-components\nimport {\n  UnitUploadLayout,\n  UnitFileUploadLayout,\n  FileUploadHeaderGrid\n} from './style';\n\nclass UnitFileUpload extends React.Component {\n  render() {\n    const {text} = this.props;\n    return (\n      <UnitUploadLayout>\n        UnitFileUpload\n        {/*<UnitFileUploadLayout>*/}\n\n          {/*<FileUploadHeaderGrid>*/}\n            {/*<UnitNavbar text={text}/>*/}\n          {/*</FileUploadHeaderGrid>*/}\n\n          {/*/!*...*!/*/}\n\n        {/*</UnitFileUploadLayout>*/}\n      </UnitUploadLayout>\n    )\n  }\n}\n\nexport default UnitFileUpload;","import styled from 'styled-components';\n\nexport const UnitMapLayout = styled.div`\n  width: 100%;\n  height: 100%;\n`;\n\nexport const UnitDetailsLayout = styled.div`\n  height: 100%;\n  display: grid;\n  grid-template-columns: auto 455px;\n  grid-template-rows: 40px calc(100% - 50px);\n  grid-column-gap: 42px;\n  grid-row-gap: 20px;\n  grid-template-areas:\n    'unit-details-header-grid unit-details-header-unit'\n    'unit-details-page-content unit-details-page-content';\n  padding: 20px;\n`;\n\nexport const UnitDetailsHeaderGrid = styled.div`\n  grid-area: unit-details-header-grid;\n  display: flex;\n  // align-items: center;\n`;","import React from 'react';\n\n// 自定义组件\nimport Unitnavbar from '../unitnavbar/unitnavbar';\n\n// styled-components\nimport {\n  UnitMapLayout,\n  UnitDetailsLayout,\n  UnitDetailsHeaderGrid\n} from './style';\n\nclass UnitMap extends React.Component {\n  render() {\n    const {text} = this.props;\n    return (\n      <UnitMapLayout>\n        UnitMap\n        {/*<UnitDetailsLayout>*/}\n          {/*<UnitDetailsHeaderGrid>*/}\n\n            {/*<UnitNavbar text={text}/>*/}\n\n          {/*</UnitDetailsHeaderGrid>*/}\n        {/*</UnitDetailsLayout>*/}\n      </UnitMapLayout>\n    );\n  }\n}\n\nexport default UnitMap;","import styled from 'styled-components';\nimport {rootColor, rootFontSize} from '../../utils/cssConfig';\n\nexport const SideBar = styled.div`\n  position: fixed;\n  width: 260px;\n  height: 100%;\n  background-color: ${rootColor['--bg-second-color']};\n  will-change: transform;\n  transition: transform .5s;\n  &.content-sidebar-large {\n    transform: translateX(0);\n    z-index: 1001;\n  } \n  &.content-sidebar-small {\n    transform: translateX(-206px);\n    text-align: center;\n    z-index: 1001;\n  }\n`;\n\nexport const FilterSideBar = styled.div`\n  height: 100% !important;\n  background-color: ${rootColor['--bg-filters-color']};  \n`;\n\nexport const FilterTitle = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n  height: 74px;\n  padding: 12px 20px;\n  margin-bottom: -1;\n  background-color: ${rootColor['--bg-third-color']};\n  font-size: ${rootFontSize['--primary-font-size']};\n  color: #fff;\n  .filter-icon-large {\n    font-size: 20px;\n    margin-right: 8px;\n  }\n  .filter-icon-small {\n    margin-left: auto !important;\n    font-size: 20px;    \n    // margin-right: 4px;\n  }\n  .hidden-span {\n    display: none;\n  }\n`;\n\n// 大头钉📍\nexport const UnitFilterPin = styled.div`\n  margin-left: auto !important;\n  padding: 6px 12px;\n  .ant-btn {\n    border: none;\n    background-color: ${rootColor['--bg-third-color']};\n    color: #fff;\n  }\n  &.hidden-btn {\n    display: none;\n  }\n`;\n\n// 过滤内容\nexport const FilterSubTab = styled.div`\n  font-size: ${rootFontSize['--primary-font-size']};\n  background-color: ${rootColor['--bg-filters-color']};\n  color: #fff;\n  &.expanded {\n    padding-right: 20px;\n  }\n`;\n\nexport const FilterFieldSet = styled.div`\n  padding-top: 16px;\n  margin: 0 !important;\n  &.pl-16 {\n    padding-left: 16px;\n  }\n`;\n\nexport const FilterColFormLabel = styled.div`\n  display: block;\n  width: 100%;\n  max-width: 100%;\n  color: inherit;\n  white-space: normal;\n  font-size: inherit;\n  line-height: 1.5;\n  // padding: 0 !important;\n  padding-bottom: 7px;\n  margin-bottom: 0;\n`;\n\nexport const FilterLabel = styled.div`\n  display: flex;\n  justify-content: space-between !important; \n  align-items: center;\n  height: 54px;\n  padding-top: 18px;\n  padding-bottom: 26px;\n  border-bottom: 1px solid ${rootColor['--border-color']};\n`;\n\nexport const FilterSubTitle = styled.div`\n  display: inline-block;\n  margin-bottom: 8px;\n  &.sub-title-collapsed {\n    display: flex;\n    width: 54px;\n    height: 100%;\n    justify-content: center;\n    margin-left: auto;\n  }\n`;\n\n// checkbox\nexport const CustomControlsStacked = styled.div`\n  display: block;\n  .hidden-checkbox-text {\n    display: none;\n  }\n  .ifClass {\n    padding-right: 8px;\n  } \n  .ifMarginL200 {\n    margin-left: 200px;\n  }\n`;\n\nexport const CustomControlCheckbox = styled.div`\n  position: relative;\n  display: block;\n  height: 54px;\n  min-height: 21px;\n  padding-left: 24px;\n  .custom-control-input {\n    position: absolute;\n    z-index: -1;\n    opacity: 0;\n    padding: 0;\n    overflow: visible;\n    margin: 0;\n  }\n`;\n\nexport const ResetButton = styled.div`\n  color: #d9482f;\n  cursor: pointer;\n  &:hover {\n    color: #fff;\n  }\n  &.hidden-reset-btn {\n    display: none;\n  }\n`;\n\nexport const Main = styled.div`\n  width: 100%;\n  height: 100vh;\n  transition: all .5s;\n  &.content-large {\n    margin-left: 260px;\n  }\n  background-color: gold;\n`;","import React from 'react';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {actions as uiActions, getDeviceStatus, getDeviceType} from '../../redux/ui.redux';\n\n// styled-component\nimport {\n  SideBar,\n  FilterSideBar,\n  FilterTitle,\n  UnitFilterPin,\n  FilterSubTab,\n  FilterFieldSet,\n  FilterColFormLabel,\n  FilterLabel,\n  FilterSubTitle,\n  ResetButton,\n  CustomControlsStacked,\n  Main\n} from './style';\n\n// antd\nimport {Icon, Button, Form, Checkbox, Row, Col} from 'antd';\n\n// iconfont\nimport IconFont from '../../iconFont/iconfont';\n\nclass ContentSideBar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      collapse: false\n    };\n\n    this.filterStateList = [\n      {text: '传送中', value: 'transmission', color: 'red', type: 'icondian1'},\n      {text: '在线', value: 'online', color: 'green', type: 'icondian1'},\n      {text: '离线', value: 'offline', color: 'white', type: 'icondian1'}\n    ];\n    this.filterTypeList = [\n      {text: '编码器设备', value: 'encode', color: 'white', type: 'icondiannao'},\n      {text: '接收端wowza', value: 'wowza', color: 'white', type: 'iconshebei'}\n    ];\n  }\n\n  render() {\n    const {deviceStatus, deviceType} = this.props;\n    const deviceStatusRaw = deviceStatus.toJS();\n    const deviceTypeRaw = deviceType.toJS();\n    const checkBoxFilterList = [\n      {\n        title: '状态',\n        resetText: '重置',\n        fieldName: 'checkbox-group-status',\n        filterList: this.filterStateList, // 样式\n        checkBoxList: {value: deviceStatusRaw}, // 从redux加载状态\n        handleFormChange: (v) => {\n          this.handleFormChange(v);\n        },\n        resetFunc: () => {\n          this.props.clearDeviceStatus();\n        }\n      },\n      {\n        title: '种类',\n        resetText: '重置',\n        fieldName: 'checkbox-group-type',\n        filterList: this.filterTypeList,\n        checkBoxList: {value: deviceTypeRaw},\n        handleFormChange: (v) => {\n          this.handleFormChange(v);\n        },\n        resetFunc: () => {\n          this.props.clearDeviceType();\n        }\n      }\n    ];\n\n    return (\n      <div>\n        <SideBar className={this.state.collapse ? 'content-sidebar-small' : 'content-sidebar-large'}>\n\n          <FilterSideBar>\n            <FilterTitle>\n\n              <Icon\n                type='filter'\n                className={this.state.collapse ? 'filter-icon-small' : 'filter-icon-large'}\n                onClick={this.toggleSideBar}\n              />\n\n              <span className={this.state.collapse ? 'hidden-span' : ''}>过滤</span>\n\n              <UnitFilterPin className={this.state.collapse ? 'hidden-btn' : ''}>\n                <Button size='large' onClick={this.toggleSideBar}>\n                  <Icon type=\"pushpin\" style={{fontSize: 20}}/>\n                </Button>\n              </UnitFilterPin>\n\n            </FilterTitle>\n\n            {/*过滤内容*/}\n            <FilterSubTab className={this.state.collapse ? '' : 'expanded'}>\n\n              {\n                checkBoxFilterList.map((v) => (\n                  <FilterFieldSet key={v.title} className={this.state.collapse ? '' : 'pl-16'}>\n                    <FilterColFormLabel>\n                      <FilterLabel>\n                        <FilterSubTitle\n                          className={this.state.collapse ? 'sub-title-collapsed' : ''}>{v.title}</FilterSubTitle>\n                        <ResetButton className={this.state.collapse ? 'hidden-reset-btn' : 'reset'}\n                                     onClick={v.resetFunc}>{v.resetText}</ResetButton>\n                      </FilterLabel>\n                    </FilterColFormLabel>\n\n                    {/*checkbox*/}\n                    <div style={{marginTop: 25}}>\n                      <CustomControlsStacked>\n\n                        <CustomCheckGroupForm\n                          fieldName={v.fieldName}\n                          filterList={v.filterList || []}\n                          onChange={v.handleFormChange}\n                          collapse={this.state.collapse}\n                          checkBoxList={v.checkBoxList}\n                        />\n\n                      </CustomControlsStacked>\n                    </div>\n\n                  </FilterFieldSet>\n                ))\n              }\n\n            </FilterSubTab>\n          </FilterSideBar>\n\n        </SideBar>\n\n        {/*测试*/}\n        <Main className='content-large'/>\n      </div>\n    )\n  }\n\n  toggleSideBar = () => {\n    this.setState((prevState) => ({\n      collapse: !prevState.collapse\n    }));\n  };\n\n  // 更新checkbox状态到redux\n  handleFormChange = (item) => {\n    const type = Object.keys(item)[0];\n    if (type === 'checkbox-group-status') {\n      this.props.setDeviceStatus(item[type].value);\n    }\n\n    if (type === 'checkbox-group-type') {\n      this.props.setDeviceType(item[type].value);\n    }\n  };\n}\n\nconst CustomCheckGroupForm = Form.create({\n  name: 'custom_check_group_form',\n  onFieldsChange(props, changedFields) {\n    // 响应\n    props.onChange(changedFields);\n  },\n  mapPropsToFields(props) {\n    // 初始状态\n    return {\n      [props.fieldName]: Form.createFormField({\n        ...props.checkBoxList,\n        value: props.checkBoxList.value\n      })\n    }\n  },\n  onValuesChange(_, values) {\n    // console.log(values);\n  }\n})(\n  (props) => {\n    const {getFieldDecorator} = props.form;\n    const {collapse, filterList, fieldName} = props;\n    return (\n      <Form>\n        <Form.Item label=''>\n          {\n            getFieldDecorator(fieldName)(\n              <Checkbox.Group style={{width: '100%'}}>\n                <Row>\n                  {\n                    filterList.map((v) => (\n                      <Col key={v.value} span={24} style={{height: 54}}>\n                        <Checkbox value={v.value} style={{color: '#fff'}}>\n\n                          <IconFont type={v.type}\n                                    className={`${collapse ? 'ifClass ifMarginL200' : 'ifClass'}`}\n                                    style={{color: v.color}}/>\n\n                          <span\n                            className={collapse ? 'hidden-checkbox-text' : ''}\n                          >\n                            {v.text}\n                          </span>\n\n                        </Checkbox>\n                      </Col>\n                    ))\n                  }\n                </Row>\n              </Checkbox.Group>\n            )\n          }\n        </Form.Item>\n      </Form>\n    )\n  }\n);\n\nconst mapStateToProps = (state) => {\n  return {\n    deviceStatus: getDeviceStatus(state),\n    deviceType: getDeviceType(state)\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    ...bindActionCreators(uiActions, dispatch)\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ContentSideBar);\n\n/**\n * 1.先写常态的sidebar\n * 2.添加Form表单和输入框, 隐藏和显示\n * 3.获取checkbox的数据\n * 4.更新checkbox数据到redux\n * 5.重置数据\n * 6.合并\n * 7.添加到内容页面(未实现)\n * 8.根据ui.redux的过滤字段, 过滤在table上的显示内容\n * */","import styled from 'styled-components';\n\nexport const ThirdDashBoardLayout = styled.div`\n  width: 100%;\n  height: 100%;\n  // background-color: gold;\n`;\n\n// 修改主轴为y轴\nexport const UnitLayout = styled.div`\n   display: flex;\n   width: 100%;\n   height: 100%;\n   flex-direction: column;\n   padding: 20px;\n`;\n\nexport const UnitNavBarHeader = styled.div`\n  height: 60px;\n  display: grid;\n  grid-template-columns: auto 455px;\n  grid-template-rows: 40px calc(100% - 50px);\n  grid-column-gap: 42px;\n  grid-template-areas: 'unit-navbar-header-left unit-navbar-header-unit';\n  // background-color: green;\n`;\n\nexport const UnitNavBarHeaderLeft = styled.div`\n  grid-area: unit-navbar-header-left;\n  display: flex;\n  align-items: center;\n  // background-color: red;\n`;\n\nexport const UnitNavBarHeaderRight = styled.div`\n  grid-area: unit-navbar-header-unit;\n  display: flex;\n  align-items: center;\n  // background-color: blue;\n`;\n\nexport const UnitPageContent = styled.div`\n  display: flex;\n  width: 100%;\n  height: calc(100% - 60px);\n\n  // background-color: cyan;\n`;\n\n","import {createSelector} from 'reselect';\n\n// selector\nimport {getGroupIds, getGroupById} from '../redux/groups.redux';\n\nconst getGroupIdsSelector = (state) => getGroupIds(state);\nconst getGroupByIdSelector = (state) => (id) => getGroupById(state, id);\n\nconst makeGroupNameList = () => {\n  return createSelector(\n    [getGroupIdsSelector, getGroupByIdSelector],\n    (groupIds, getGroupById) => groupIds ? groupIds.map((v) => getGroupById(v)).toJS() : []\n  )\n};\n\nexport default makeGroupNameList;\n\n/**\n * 输入数据为immutable类型\n * 输出数据为普通js类型\n * */","import React from 'react';\nimport {bindActionCreators} from 'redux';\nimport {Route} from 'react-router-dom';\nimport {connect} from 'react-redux';\n\n// 自定义组件\nimport Unitnavbar from '../unitnavbar/unitnavbar';\nimport UnitOperator from '../unitoperator/unitoperator';\nimport UnitList from '../unitlist/unitlist';\nimport UnitMultiView from '../unitmultiview/unitmultiview';\nimport UnitFileUpload from '../unitfileupload/unitfileupload';\nimport UnitMap from '../unitmap/unitmap';\nimport ContentSideBar from '../../component/contentsidebar/contentsidebar';\n\n// actions\nimport {actions as groupsActions, getGroupById} from '../../redux/groups.redux';\n\n// utils\nimport apiPrefix from '../../apiPrefix';\n\n// styled-components\nimport {\n  ThirdDashBoardLayout,\n  UnitLayout,\n  UnitNavBarHeader,\n  UnitNavBarHeaderLeft,\n  UnitNavBarHeaderRight,\n  UnitPageContent,\n} from './style';\n\n// reselect\nimport makeGroupNameList from '../../selectors/groupselector';\nimport makeSingleGroup from '../../selectors/groupsingleselector';\n\n// 全局context\nimport {UnitOperatorContext} from '../../context/unit-operator-context';\n\nclass Unit extends React.Component {\n  render() {\n    // console.log('[Unit]', this.props.groupList);\n    const rootUrl = apiPrefix.rootUrl(); // 主路由\n    const secondaryUrl = apiPrefix.secondaryUrl(); // 次级路由\n    const {group, group_id} = this.props.location.state;\n    const {createGroup, deleteGroup, matchGroup, singleGroup, groupNameList: nameList} = this.props;\n    // const nameList = this.props.groupNameList;\n    // 三级路由\n    const unitList = [\n      {\n        path: `${rootUrl}${secondaryUrl}/list`,\n        text: '设备 > 设备列表',\n        component: UnitList,\n        value: 'list',\n        type: 'menu',\n        hasFilter: true,\n      },\n      {\n        path: `${rootUrl}${secondaryUrl}/multiview`,\n        text: '设备 > 多画面',\n        component: UnitMultiView,\n        value: 'multiview',\n        type: 'form',\n      },\n      {\n        path: `${rootUrl}${secondaryUrl}/file_upload`,\n        text: '设备 > 文件上传',\n        component: UnitFileUpload,\n        value: 'file_upload',\n        type: 'upload',\n      },\n      {\n        path: `${rootUrl}${secondaryUrl}/map`,\n        text: '设备 > 地图',\n        component: UnitMap,\n        value: 'map',\n        type: 'environment',\n        hasFilter: true\n      }\n    ];\n\n    return (\n      <ThirdDashBoardLayout>\n        <UnitLayout>\n          <UnitNavBarHeader>\n\n            {/*导航栏*/}\n            <UnitNavBarHeaderLeft>\n              <Unitnavbar data={unitList} nameList={nameList}/>\n            </UnitNavBarHeaderLeft>\n\n            {/*添加设备/刷新*/}\n            <UnitNavBarHeaderRight>\n\n              <UnitOperatorContext.Provider\n                value={{group, group_id, createGroup, deleteGroup, matchGroup, singleGroup}}>\n\n                <UnitOperator/>\n\n              </UnitOperatorContext.Provider>\n\n            </UnitNavBarHeaderRight>\n\n          </UnitNavBarHeader>\n\n          <UnitPageContent>\n            {\n              unitList.map((v) => (\n                <Route\n                  key={v.path}\n                  path={`${v.path}`}\n                  component={v.component}\n                />\n              ))\n            }\n          </UnitPageContent>\n\n        </UnitLayout>\n      </ThirdDashBoardLayout>\n    )\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  const getGroupNameList = makeGroupNameList();\n  const getSingleGroup = makeSingleGroup();\n  return {\n    groupNameList: getGroupNameList(state, props),\n    singleGroup: getSingleGroup(state, props)\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    ...bindActionCreators(groupsActions, dispatch)\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Unit);\n\n/**\n * 先不考虑过滤sidebar\n * */","import styled from 'styled-components';\n\nexport const ContentLarge = styled.div`\n  width: 100%;\n  height: 100%;\n  margin-left: 260px;\n`;\n\nexport const UnitDetailLayout = styled.div`\n  height: 100%;\n  display: grid;\n  grid-template-columns: auto 455px;\n  grid-template-rows: 40px calc(100% - 50px);\n  grid-column-gap: 42px;\n  grid-row-gap: 20px;\n  grid-template-areas: 'unit-details-header-grid unit-details-header-unit' 'unit-details-page-content unit-details-page-content'; \n  padding: 20px;\n`;","import React from 'react';\n\nimport {\n  ContentLarge,\n  UnitDetailLayout,\n} from './style';\n\nclass Content extends React.Component {\n  render() {\n    return (\n      <ContentLarge>\n        <UnitDetailLayout>\n\n        </UnitDetailLayout>\n      </ContentLarge>\n    )\n  }\n}\n\nexport default Content;","import styled from 'styled-components';\nimport {rootColor, rootFontSize} from '../../utils/cssConfig';\n\n// 整体页面\nexport const MainLayout = styled.div`\n  display: grid;\n  width: 100vw; // 视口宽度\n  height: 100vh; // 视口高度\n  grid-template-columns: auto 1fr; // 列(左边指定, 右边自适应)\n  grid-template-rows: 60px calc(100vh - 60px); // 行\n  grid-template-areas: 'header-logo header-navbar' 'page-content page-content';\n  background-color: #212a35;\n  color: #fff;\n`;\n\n// logo\nexport const HeaderLogo = styled.div`\n  grid-area: header-logo;\n  display: flex !important;\n  width: 260px;\n  justify-content: center; \n  align-items: center;\n  align-content: center;\n  border-bottom: 1px solid ${rootColor['--border-color']};\n  border-top: 1px solid ${rootColor['--border-color']};\n  background: ${rootColor['--bg-third-color']};\n  \n  img{\n    height: 100%;\n  }\n`;\n\n// 导航条\nexport const HeaderNavbar = styled.div`\n  grid-area: header-navbar;\n  position: relative;\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  border-top: 1px solid ${rootColor['--border-color']};\n  border-bottom: 1px solid ${rootColor['--border-color']};\n  padding: 16px 16px 16px 0;\n  \n  // 4个子菜单\n  ul.ant-menu.ant-menu-dark.ant-menu-root.ant-menu-horizontal {\n    display: flex;\n    flex-direction: row;\n    margin-bottom: 0;\n    padding-left: 0;\n    list-style: none;\n    box-sizing: content-box;\n    li {\n      display: flex;\n      flex-flow: row nowrap;\n      justify-content: center;\n      align-items: center;\n      width: 110px !important;\n      height: 58px;\n      font-size: ${rootFontSize['--primary-font-size']};\n      border-right: 1px solid ${rootColor['--border-color']};\n      padding-right: 7px !important;\n      // box-sizing: border-box;\n      &:first-child {\n         border-left: 1px solid ${rootColor['--border-color']};\n      } \n    }\n    .ant-menu-item {\n      padding: 0;\n    }\n  }\n`;\n\n// 内容部分\nexport const PageContent = styled.div`\n  grid-area: page-content;\n  display: flex;\n  height: 100%;\n  background-color: ${rootColor['--bg-first-color']};\n`;\n\n// flex:\n// 1.display: flex;\n// 2.flex-flow(flex-direction/flex-wrap)\n// 3.justify-content\n// 4.align-items\n// 5.width/height: 100%;","import React, {Fragment} from 'react';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {Route} from 'react-router-dom';\n\n// actions/selector\nimport {getGroupNameList} from '../../redux/index';\nimport {getLoggedUser} from '../../redux/auth.redux';\nimport {actions as uiActions, getSelectedMenuItem} from '../../redux/ui.redux';\nimport {actions as groupActions} from '../../redux/groups.redux';\n\n// 自定义组件\nimport GroupSelect from '../../component/groupselect/groupselect';\nimport NoGroupPage from '../../component/nogrouppage/nogrouppage';\nimport Unit from '../../component/unit/unit';\nimport ContentSideBar from '../../component/contentsidebar/contentsidebar';\nimport Content from '../../component/content/content';\n\n// styled-components\nimport {\n  MainLayout,\n  HeaderLogo,\n  HeaderNavbar,\n  PageContent,\n} from './style.js';\n\n//utils\nimport {setLocalStorage, getRouteParams, getLocalStorage} from '../../utils/utils';\nimport isEmpty from 'lodash/isEmpty';\nimport apiPrefix from '../../apiPrefix';\n\n// antd\nimport {Icon, Menu} from 'antd';\n\nfunction Files() {\n  return (\n    <div>Files</div>\n  )\n}\n\nfunction Manage() {\n  return (\n    <div>Manage</div>\n  )\n}\n\nfunction Service() {\n  return (\n    <div>Service</div>\n  )\n}\n\nclass HomeV2 extends React.Component {\n  state = {\n    group: '',\n    group_id: '',\n  };\n\n  // 二级路由\n  getNavBarMenu = (group_id, menu) => {\n    return group_id\n      ? (\n        <Menu\n          mode=\"horizontal\"\n          theme='dark'\n          selectedKeys={[menu]}\n          onClick={this.handleClick}\n        >\n          <Menu.Item key='unit'>\n            <Icon type='appstore'/>\n            设备\n          </Menu.Item>\n          <Menu.Item key='files'>\n            <Icon type='file'/>\n            文件\n          </Menu.Item>\n          <Menu.Item key='manage'>\n            <Icon type='setting'/>\n            组\n          </Menu.Item>\n          <Menu.Item key='service'>\n            <Icon type=\"cloud-server\"/>\n            服务\n          </Menu.Item>\n        </Menu>\n      )\n      : null\n  };\n\n  /*\n  * 进入二级路由/三级路由, group_id必不为空\n  * */\n  render() {\n    // console.log('[HomeV2]', this.props);\n    const {group_id} = this.props.location.state;\n    const {menu} = this.props.match.params;\n    const rootUrl = apiPrefix.rootUrl();\n    const nameListRaw = this.props.nameList.toJS();\n    const menuList = [\n      {\n        path: `${rootUrl}/unit`,\n        component: Unit\n      },\n      {\n        path: `${rootUrl}/files`,\n        component: Files,\n      },\n      {\n        path: `${rootUrl}/manage`,\n        component: Manage\n      },\n      {\n        path: `${rootUrl}/service`,\n        component: Service\n      }\n    ];\n    return (\n      <MainLayout>\n\n        <HeaderLogo>\n          <img src={require('../../images/logo.png')} alt=''/>\n        </HeaderLogo>\n\n        <HeaderNavbar>\n          {/*二级菜单*/}\n          {this.getNavBarMenu(group_id, menu)}\n\n          {/*一级菜单*/}\n          <GroupSelect\n            {...this.props}\n          />\n        </HeaderNavbar>\n\n        {/*二级路由*/}\n        <PageContent>\n          {\n            group_id\n              ? (\n                <Fragment>\n                  {\n                    menuList.map((v) => (\n                      <Route key={v.path} path={v.path} component={v.component}/>\n                    ))\n                  }\n                </Fragment>\n              )\n              : <NoGroupPage createGroup={this.props.createGroup}/>\n          }\n        </PageContent>\n\n      </MainLayout>\n    )\n  }\n\n  // 切换标签页面\n  handleClick = (e) => {\n    const targetId = this.props.location.state.group_id;\n    const nameListRaw = this.props.nameList.toJS();\n    const rootUrl = apiPrefix.rootUrl();\n    const redirectTo = getRouteParams(nameListRaw, targetId)(rootUrl, e.key);\n    this.props.history.push(redirectTo);\n    this.props.setSelectedMenuItem(e.key);\n  };\n\n  componentDidMount() {\n    // console.log('[componentDidMount]');\n    const {group, group_id} = this.props.location.state;\n    if (!isEmpty(group) && !isEmpty(group_id)) {\n      this.props.fetchGroupInfo({group, group_id});\n      // this.setState({group, group_id});\n    }\n\n    // 添加监听(浏览器关闭或刷新时)\n    window.addEventListener('beforeunload', this.beforeunload);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const {group_id: currentGroupId, group: currentGroup} = this.props.location.state; // 切换后id和name\n    const {group_id: prevGroupId} = prevProps.location.state; // 切换前id\n    if (currentGroupId !== prevGroupId && this.state.group_id !== currentGroupId) {\n      this.props.fetchGroupInfo({group: currentGroup, group_id: currentGroupId});\n      this.setState({group_id: currentGroupId});\n    }\n    /*\n    * 刷新后, this.state重置.\n    * 但this.props.location.state.group_id仍旧保存(使用了connected-react-router中间件)\n    * */\n  }\n\n  componentWillUnmount() {\n    // 删除监听\n    window.removeEventListener('beforeunload', this.beforeunload);\n  }\n\n  beforeunload = () => {\n    // const {id} = this.props.match.params;\n    const {group_id} = this.props.location.state;\n    const selectedMenuItem = this.props.selectedMenuItem;\n    setLocalStorage('selectedItem', group_id);\n    setLocalStorage('selectedMenuItem', selectedMenuItem);\n  };\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n    nameList: getGroupNameList(state),\n    user: getLoggedUser(state),\n    selectedMenuItem: getSelectedMenuItem(state),\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    ...bindActionCreators(uiActions, dispatch),\n    ...bindActionCreators(groupActions, dispatch)\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomeV2);\n\n/**\n * 1.没有数据界面\n * 2.有数据界面, 在手动规划路由, 参考woniu/dashboard.js定义的3个路由\n * */\n\n/**\n * homev2.js接收4个参数:\n * 1.group\n * 2.group_id\n * 3.nameList\n * 4.username\n * */\n\n","import React from 'react';\nimport {Result, Button} from 'antd';\n// import PropTypes from 'prop-types';\n\nclass NotFound extends React.Component {\n  // static propTypes = {\n  //   onClick: PropTypes.func.isRequired\n  // };\n\n  render() {\n    return (\n      <Result\n        status=\"warning\"\n        title=\"There are some problems with your operation.\"\n        extra={\n          <Button type=\"primary\" key=\"console\" onClick={this.handleClick}>\n            Back Home\n          </Button>\n        }\n      />\n    )\n  }\n\n  handleClick = () => {\n    this.props.history.push('/home');\n  };\n}\n\nexport default NotFound;","import React from 'react';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {withRouter} from 'react-router-dom';\nimport axios from 'axios';\n// import {loadData} from '../../redux/user.redux';\nimport {actions as usersAction} from '../../redux/users.redux.js';\n\n@withRouter\nclass AuthRouter extends React.Component {\n\n  componentDidMount() {\n    // 根据用户信息获取来判断, 用户是否登录\n    console.log('[认证路由]', this.props.location.pathname);\n    const publicPath = ['/', '/login', '/exception/403', '/exception/404', '/exception/500', '/exception/getUserInfo'];\n    if (publicPath.findIndex((name) =>\n      Object.is(name, this.props.location.pathname)\n    ) > -1) {\n      return null;\n    }\n\n    // console.log('[authRouter.js/fetchUserInfo]');\n    // 获取当前用户信息\n    this.props.fetchUserInfo();\n\n    // axios.post('/users/userInfo') // 真实接口\n    // // axios.get('/users/userInfo.json')\n    //   .then(res => {\n    //     // console.log('[AuthRouter res]', res);\n    //     if (res.status === 200) {\n    //       if (res.data.status) {\n    //         // 获取用户信息成功\n    //         // console.log('获取用户信息成功');\n    //         this.props.loadData(res.data);\n    //       } else {\n    //         // 获取用户信息失败, 跳转到登录界面\n    //         // console.log('获取用户信息失败, 跳转到登录界面');\n    //         this.props.history.push('/login');\n    //       }\n    //     }\n    //   })\n    //   .catch(err => {\n    //     console.log('[AuthRouter err]', err);\n    //   });\n  }\n\n  render() {\n    return null;\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    ...bindActionCreators(usersAction, dispatch),\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(AuthRouter);","import React from 'react';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {Button, Form, Select} from 'antd';\nimport {actions as appActions, getRequestQuantity, getError} from '../../redux/app.redux';\nimport {actions as groupsActions, getGroupStreamStatus} from '../../redux/groups.redux';\nimport {actions as testActions} from '../../redux/test.redux';\nimport Immutable from 'immutable';\nimport axios from 'axios';\nimport {getAxios, postAxios} from '../../utils/request';\n\n// import NProgress from 'nprogress';\n\nclass TestRedux extends React.Component {\n  render() {\n    return (\n      <div>\n        <Button onClick={this.sendRequestSuccess01}>http正确码 + 业务成功</Button>\n        <Button onClick={this.sendRequestSuccess02}>http正确码 + 业务失败</Button>\n        <Button onClick={this.sendRequestFailGet403}>请求失败get403</Button>\n        <Button onClick={this.sendRequestFailGet404}>请求失败get404</Button>\n        <Button onClick={this.sendRequestFailGet500}>请求失败get500</Button>\n        <Button onClick={this.sendRequestFailPost}>请求失败post</Button>\n        {/*<Button onClick={() => NProgress.start()}>加载开始</Button>*/}\n        {/*<Button onClick={() => NProgress.done()}>加载结束</Button>*/}\n      </div>\n    )\n  }\n\n  sendRequestSuccess01 = () => {\n    this.props.getTest('/httpCorrect01');\n    // getAxios('/httpCorrect01')\n    //   .then((data) => {\n    //     // console.log('[sendRequest res]', data.error);\n    //     if (!data.error) {\n    //       console.log('[没有错误]', data.error, data);\n    //     } else {\n    //       console.log('[有错误]', data.error);\n    //       // dispatch(setError());\n    //     }\n    //   })\n    // .catch((err) => {\n    //   console.log('[sendRequest err]', err.response, err.message);\n    // })\n    ;\n  };\n\n  sendRequestSuccess02 = () => {\n    this.props.getTest('/httpCorrect02');\n    // getAxios('/httpCorrect02')\n    //   .then((data) => {\n    //     // console.log('[sendRequest res]', res);\n    //     if (!data.error) {\n    //       console.log('[没有错误]', data.error);\n    //     } else {\n    //       console.log('[有错误]', data.error);\n    //     }\n    //   })\n    //   .catch((err) => {\n    //     console.log('[sendRequest err]');\n    //   })\n    // ;\n  };\n\n  sendRequestFailGet403 = () => {\n    this.props.getTest('/httpError403');\n    // getAxios('/httpError403')\n    //   .then((data) => {\n    //     // console.log('[sendRequest res]', res);\n    //     if (!data.error) {\n    //       console.log('[没有错误]', data.error);\n    //     } else {\n    //       console.log('[有错误]', data.error);\n    //       // setError(error.message);\n    //     }\n    //   })\n    //   .catch((err) => {\n    //     console.log('[sendRequest err]', err.response);\n    //   })\n    // ;\n  };\n\n  sendRequestFailGet404 = () => {\n    this.props.getTest('/httpError404');\n    // getAxios('/httpError404')\n    //   .then((res) => {\n    //     console.log('[sendRequest res]', res);\n    //   })\n    //   .catch((err) => {\n    //     console.log('[sendRequest err]', err.response);\n    //   })\n    // ;\n  };\n\n  sendRequestFailGet500 = () => {\n    this.props.getTest('/httpError500');\n    // getAxios('/httpError500')\n    //   .then((res) => {\n    //     console.log('[sendRequest res]', res);\n    //   })\n    //   .catch((err) => {\n    //     console.log('[sendRequest err]', err.response);\n    //   })\n    // ;\n  };\n\n  sendRequestFailPost = () => {\n    this.props.postTest('/httpError');\n    // postAxios('/httpError')\n    //   .then((res) => {\n    //     console.log('[sendRequest res]', res);\n    //   })\n    //   .catch((err) => {\n    //     console.log('[sendRequest err]', err.response);\n    //   })\n    // ;\n  };\n}\n\nconst mapStateToProps = (state, props) => {\n  // console.log('[mapStateToProps]', state);\n  return {\n    requestQuantity: getRequestQuantity(state),\n    error: getError(state),\n    streamStatus: getGroupStreamStatus(state, 'sd0abd9249451d0fdbf0e1406f5d9e6a'),\n  }\n};\nconst mapDispatchToProps = (dispatch) => ({\n  ...bindActionCreators(appActions, dispatch),\n  ...bindActionCreators(groupsActions, dispatch),\n  ...bindActionCreators(testActions, dispatch)\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TestRedux);\n\n/**\n * 问题: 推流后, status更新为true, 值提取时是undefined\n * */","import Immutable from 'immutable';\n\nconst defaultState = Immutable.fromJS({\n  email: {\n    value: 'x@gmail.com'\n  }\n});\n\n// action types\nexport const types = {\n  SAVE_FIELDS: 'rcform/SAVE_FIELDS',\n};\n\n// action creators\nexport const actions = {\n  setEmail: (payload) => ({\n    type: types.SAVE_FIELDS,\n    payload\n  }),\n};\n\nexport default (state = defaultState, action) => {\n  switch (action.type) {\n    case types.SAVE_FIELDS:\n      return state.merge(Immutable.fromJS(action.payload));\n    default:\n      return state;\n  }\n};\n\n// selectors\nexport const getEmail = (state) => state.getIn(['rcform', 'email']);\n\n/**\n * payload格式: {email: {value: 'chaojundu@diadem-tech.cn'}, name: {value: 'dcj123'}}\n * */","import React from \"react\";\nimport {formShape} from \"rc-form\";\n\nclass Form extends React.Component {\n  static propTypes = {\n    form: formShape,\n  };\n\n  render() {\n    const {getFieldProps, getFieldError} = this.props.form;\n    const errors = getFieldError('email');\n    return (\n      <div style={{border: '1px solid red', padding: 10}}>\n        <div>email:</div>\n        <div>\n          <input {...getFieldProps('email', {\n            rules: [{type: 'email'}]\n          })}/>\n        </div>\n        <div>\n          {(errors) ? errors.join(',') : null}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Form;\n\n\n/**\n * 使用rc-form, 创建原生Form(类似antd的Form)\n * 1.Form具有email类型校验功能\n * */","import React from 'react';\nimport {bindActionCreators} from \"redux\";\nimport {connect} from 'react-redux';\nimport {actions as rcformActions, getEmail} from \"../../redux/rcform.redux\";\nimport {createForm, createFormField} from 'rc-form';\nimport Form from '../form/form';\n\nconst NewFormWrapped = createForm({\n  mapPropsToFields(props) {\n    // console.log('[mapPropsToFields props]', props);\n    // 注意props.formState.email >>> 输出Immutable.Map({}) >>> toJS(), 转成普通JS对象\n    return {email: createFormField(props.formState.email.toJS())} // 注意：mapPropsToFields 里面返回的表单域数据必须使用 Form.createFormField 包装。\n  },\n  onFieldsChange(props, fields) {\n    console.log('[onFieldsChange fields]', fields);\n    // 发布更新\n    props.setEmail(fields);\n  }\n})(Form);\n\nconst mapStateToProps = (state, props) => {\n  return {\n    formState: {email: getEmail(state)} // 展示的数据\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    ...bindActionCreators(rcformActions, dispatch)\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewFormWrapped);\n\n/**\n * 同步, 2个方面:\n * 1.从redux中同步数据\n * 2.数据更新同步到redux\n *\n * setEmail()格式: {email: {value: 'chaojundu@diadem-tech.cn'}}\n * */\n\n// const NewForm = connect(\n//\n// *** mapStateToProps\n// (state) => {\n//   return {\n//     formState: {\n//       email: state.form.email,\n//     },\n//   };\n// })\n//\n// *** WrappedComponent 组件\n// (createForm\n//\n//  ({\n//    mapPropsToFields(props) {\n//       console.log('mapPropsToFields', props);\n//      return {\n//         email: createFormField(props.formState.email),\n//       };\n//     },\n//    onFieldsChange(props, fields) {\n//       console.log('onFieldsChange', fields);\n//       props.dispatch({\n//        type: 'save_fields',\n//        payload: fields,\n//      });\n//    },\n//  })\n//  ***\n//  (Form)\n// );\n\n// NewForm = connect(...)(...) 相当于:\n// connect(mapStateToProps, mapDispatchToProps)(WrapperComponent组件);\n//\n// createForm 相当于 WrapperComponent组件\n// import {Form} from 'antd';\n// const WrappedComponent = Form.create({name: ''})(匿名组件);\n// 匿名组件, 作用: 一般检查字段的验证规则和错误信息展示\n\n// 相当于当前的Form组件(使用rc-form封装的Form组件)\n// mapPropsToFields:\n// 1.将props中的值value转到field中\n// 2.用于redux存储/读取字段\n// 参考: Antd/Form/表单数据存储于上层组件/mapPropsToFields\n\n// onFieldsChange:\n// 1.字段更改时调用\n// 2.可将字段dispatch到redux, 更新字段\n// 参考: Antd/Form/表单数据存储于上层组件/onFieldsChange","import React from \"react\";\nimport {connect} from 'react-redux';\nimport PropTypes from \"prop-types\";\nimport {bindActionCreators} from \"redux\";\nimport {actions as rcformActions, getEmail} from \"../../redux/rcform.redux\";\n\nclass Out extends React.Component {\n  static propTypes = {\n    email: PropTypes.object,\n    dispatch: PropTypes.func\n  };\n\n  setEmail = () => {\n    this.props.setEmail({\n      email: {\n        value: 'chaojundu@diadem-tech.cn' // 点击设置固定值\n      }\n    });\n  };\n\n  render() {\n    const {email} = this.props;\n    return (\n      <div style={{border: '1px solid green', padding: 10}}>\n        <div>\n          email: {email && email.value}\n          {/*文本: {如果email存在 ? 展示email.value值}*/}\n        </div>\n        <button onClick={this.setEmail}>set</button>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n    email: getEmail(state),\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    ...bindActionCreators(rcformActions, dispatch)\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Out);\n\n/**\n * 输出组件:\n * 1.从rcform.redux中获取email字段, 展示\n * 2.从rcform.redux中获取setEmail()方法, 设置固定值(固定值>>>redux>>>out)\n * */","import React from 'react';\nimport {connect} from 'react-redux';\nimport {Result, Button} from 'antd';\nimport {push} from 'connected-react-router';\n\nclass Page403 extends React.Component {\n  render() {\n    const style = {\n      display: 'flex',\n      height: '100vh',\n      alignItems: 'center',\n      justifyContent: 'center',\n    };\n    return (\n      <div style={style}>\n        <Result\n          status=\"403\"\n          title=\"403\"\n          subTitle=\"无权访问当前页面\"\n          extra={\n            <Button\n              type=\"primary\"\n              onClick={() => this.props.push('/login')}\n            >\n              返回首页\n            </Button>\n          }\n        />\n      </div>\n    )\n  }\n}\n\nexport default connect(null, {push})(Page403);","import React from 'react';\nimport NewForm from '../newForm/newForm';\nimport Out from '../out/out';\n\nclass RcForm extends React.Component {\n  render() {\n    return (\n      <div>\n        <h2>integrate with redux</h2>\n        <NewForm/>\n        <Out/>\n      </div>\n    )\n  }\n}\n\nexport default RcForm;\n\n/**\n * 集成到redux\n * 1.setEmail参数格式: {email: {value: 'chaojundu@diadem-tech.cn'}}\n *\n * 项目文件:\n * 1.form\n * 2.out\n * 3.newForm\n * */","import React from 'react';\nimport {connect} from 'react-redux';\nimport {push} from 'connected-react-router';\nimport {Button, Result} from \"antd\";\n\nclass Page404 extends React.Component {\n  render() {\n    const style = {\n      display: 'flex',\n      height: '100vh',\n      alignItems: 'center',\n      justifyContent: 'center'\n    };\n    return (\n      <div style={style}>\n        <Result\n          status=\"404\"\n          title=\"404\"\n          subTitle=\"请求的资源（网页等）不存在\"\n          extra={\n            <Button\n              type=\"primary\"\n              onClick={() => this.props.push('/login')}\n            >\n              返回首页\n            </Button>\n          }\n        />\n      </div>\n    )\n  }\n}\n\nexport default connect(null, {push})(Page404);","import React from 'react';\nimport {connect} from 'react-redux';\nimport {Result, Button} from 'antd';\nimport {push} from 'connected-react-router';\n\nclass Page403 extends React.Component {\n  render() {\n    const style = {\n      display: 'flex',\n      height: '100vh',\n      alignItems: 'center',\n      justifyContent: 'center',\n    };\n    return (\n      <div style={style}>\n        <Result\n          status=\"500\"\n          title=\"500\"\n          subTitle=\"内部服务器错误\"\n          extra={\n            <Button\n              type=\"primary\"\n              onClick={() => this.props.push('/login')}\n            >\n              返回首页\n            </Button>\n          }\n        />\n      </div>\n    )\n  }\n}\n\nexport default connect(null, {push})(Page403);","import React from 'react';\nimport {connect} from 'react-redux';\nimport {push} from 'connected-react-router';\nimport {Button, Result} from 'antd';\n\nclass PageUser extends React.Component {\n  render() {\n    const style = {\n      display: 'flex',\n      height: '100vh',\n      alignItems: 'center',\n      justifyContent: 'center'\n    };\n    // console.log('[PageUser]', this.props);\n    return (\n      <div style={style}>\n        <Result\n          status=\"error\"\n          title=\"获取用户信息失败\"\n          subTitle=\"获取用户信息步骤时操作数据库异常\"\n          extra={\n            <Button onClick={() => {\n              console.log('[已经通知管理员了]');\n              this.props.push('/login');\n            }\n            }>联系管理员</Button>\n          }\n        />\n      </div>\n    )\n  }\n}\n\nexport default connect(null, {push})(PageUser);\n\n/**\n * 自定义用户错误信息展示\n * */","import React from 'react';\nimport {Button} from 'antd';\nimport axios from 'axios';\nimport {getAxios} from '../../utils/request';\n\nclass AxiosFilter extends React.Component {\n  render() {\n    return (\n      <div>\n        <Button onClick={this.sendRequest}>发送请求</Button>\n      </div>\n    )\n  }\n\n  sendRequest = () => {\n    this.getVerifyCode();\n    this.getVerifyCode();\n    // this.getVerifyCode();\n    // this.getVerifyCode();\n    // this.getVerifyCode();\n  };\n  getVerifyCode = () => {\n    getAxios('/axiosfilter', {name: 'dcj123'})\n      .then((res) => {\n        console.log('[AxiosFilter res]', res);\n      })\n    // .catch((err) => {\n    //   console.log('[AxiosFilter err]', err);\n    // })\n    ;\n  };\n}\n\nexport default AxiosFilter;","import axios from 'axios';\nimport apiPrefix from './apiPrefix';\nimport NProgress from 'nprogress';\nimport url from './utils/url';\n\nconst pending = {};\nconst CancelToken = axios.CancelToken;\n\nconst getRequestIdentify = (config, isRequest = false) => {\n  let url = config.url;\n  if (isRequest) { // 请求拦截使用\n    url = config.baseURL + config.url; // 拼接路由\n  }\n  return config.method === 'get'\n    ? encodeURIComponent(url + JSON.stringify(config.params))\n    : encodeURIComponent(url + JSON.stringify(config.data));\n};\n\nconst removePending = (key, isRequest = false) => {\n  if (pending[key] && isRequest) { // 请求拦截使用\n    // console.log('[取消重复请求]');\n    pending[key]('取消重复请求');\n  }\n  delete pending[key]; // 删除取消请求函数\n};\n\n/*\n* 第一次:\n* (1)requestData\n* (2)pending[key]=undefined\n* (3)不执行pending[key]('取消重复请求');\n* (4)delete pending[key] >>> delete undefined;\n* (5)pending[key] = c\n*\n* 第二次: 假设第一次请求没有完成\n* (1)requestData\n* (2)pending[key] = c\n* (3)执行pending[key]('取消重复请求')\n* (4)delete pending[key] = c;\n* (5)pending[key] = c >>> 给下次判断用\n* */\n\n// 配置\naxios.defaults.timeout = 10000;\naxios.defaults.baseURL = apiPrefix.baseURL();\naxios.defaults.withCredentials = true;\n\n// 拦截请求\naxios.interceptors.request.use((config) => {\n  NProgress.start();\n  // console.log('[拦截请求]', config);\n\n  // 1.拦截重复请求\n  // (1)生成请求唯一标识\n  let requestData = getRequestIdentify(config, true);\n\n  // (2)删除重复请求\n  removePending(requestData, true);\n\n  // (3)创建 取消请求对象(是为了给下次请求做判断)\n  config.cancelToken = new CancelToken((c) => { // c是函数\n    pending[requestData] = c;\n  });\n\n  // 2.请求验证码, 补充请求参数\n  if (config.url === url.getVerifyCode()) {\n    config.responseType = 'blob';\n    config.emulateJSON = true;\n  }\n  // console.log('[请求发出前 pending]', pending);\n  return config;\n}, (error) => {\n  return Promise.reject(error);\n});\n\n// 拦截响应\naxios.interceptors.response.use((config) => {\n  NProgress.done();\n  // console.log('[拦截响应]', config);\n  // console.log('[拦截响应 pending]', pending);\n  // 把已经完成的请求从 pending 中移除\n  let requestData = getRequestIdentify(config.config);\n  removePending(requestData); // 请求响应使用\n\n  // 200\n  return config;\n}, (error) => {\n  NProgress.done();\n  // console.log('[拦截响应 出错 error]', error);\n  // console.log('[拦截响应 出错 error.message]', error.response);\n  // 304, 400, 401, 404, 500\n  return Promise.reject(error); // 将错误往下抛\n});\n\n// data:\n//   code: \"-10001\"\n//   data: {}\n//   info: {type: \"error\", title: \"登录失败\", info: \"验证码错误\", note: \"验证码错误\", steps: \"登录步骤\"}\n//   msg: \"验证码错误\"\n\n/**\n * 一.功能:\n * 1.统一拦截http错误请求码\n * 2.统一拦截业务错误代码\n * 3.统一设置请求前缀\n * | -- 每个 http 加前缀 baseURL = /api/v1, 从配置文件 apiPrefix 中获取\n * 4.配置异步请求过渡状态: 显示蓝色加载条, 表示正在请求中, 避免给用户页面假死的不好体验\n * | -- 使用 NProgress 工具库\n *\n * 二.引包:\n * 1.axios: http请求工具库\n * 2.NProgress: 异步请求过渡条, 在浏览器主体部分顶部显示蓝色小条\n * 3.notification: Antd组件 > 处理错误响应码提示信息\n * 4.routerRudux: dva/router对象, 用于路由跳转, 错误响应跳转相应页面 --- 自己改,dva --- connected-react-router实现\n * 5.store: dva中对象, 使用里面的dispatch对象, 用于触发路由跳转 --- 自己改,dva --- connected-react-router实现\n * * */\n\n/**\n * 拦截重复请求:\n * 1.使用请求路径+请求参数的方式, 避免相同请求路径, 不同请求参数情况下的拦截错误.\n * 2.isReuest: 请求拦截器中 config.url = '/users/userInfo', 响应拦截器中 config.url = '/api/v1/users/userInfo'，所以加上一个标识来计算请求的全路径\n * */\n\n\n// then表示http请求正确, 业务码(正确错误)\n// catch表示http请求错误\n\n// axios：取消请求的使用案例分析:\n// https://github.com/ohhoney1/notes/issues/3","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport {BrowserRouter as Router, Switch, Route, Redirect} from 'react-router-dom';\n\n// 使用connected-react-router插件\nimport {ConnectedRouter} from 'connected-react-router/immutable';\nimport configureStore, {history} from './configureStore';\n\nimport Home from './container/home/home';\nimport Login from './container/login/login';\n// +\nimport DashBoard from './component/dashboard/dashboard';\nimport HomeV2 from './container/homev2/homev2';\n// import CollapseSidebar from './component/collapsesidebar/collapsesidebar';\nimport ContentSideBar from './component/contentsidebar/contentsidebar';\n\nimport NotFound from './container/notfound/notFound';\nimport AuthRouter from './component/authrouter/authrouter';\nimport TestRedux from './container/testRedux/testRedux';\nimport RcForm from './container/rcform/rcform';\nimport Page403 from './container/page403/page403';\nimport Page404 from './container/page404/page404';\nimport Page500 from './container/page500/page500';\nimport PageUser from './container/pageuser/pageuser';\nimport AxiosFilter from './container/test/axiosfilter';\nimport './config';\n\n// -\n// 移植到./configureStore.js里\n// const store = createStore(\n//   reducers,\n//   composeWithDevTools(\n//     applyMiddleware(\n//       thunk,\n//       // logger\n//     ),\n//   )\n// );\n\nconst store = configureStore();\n\nconst AppProvider = (\n  <Provider store={store}>\n    <Router>\n      <ConnectedRouter history={history}>\n        <AuthRouter/>\n        <Switch>\n          <Route path='/' exact component={Login}/>\n          <Route path='/login' component={Login}/>\n          <Route path='/home' component={Home}/>\n          {/*+*/}\n          {/*<Route path={['/homev2/:id/:menu', '/homev2']} component={HomeV2}/>*/}\n          <Route path='/homev2/:menu/:smenu' component={HomeV2}/>\n          <Route path='/homev2/:menu/' component={HomeV2}/>\n          <Route path='/dashboard' component={DashBoard}/>\n          <Route path='/exception/403' component={Page403}/>\n          <Route path='/exception/404' component={Page404}/>\n          <Route path='/exception/500' component={Page500}/>\n          <Route path='/exception/getUserInfo' component={PageUser}/>\n          <Route path='/test' component={TestRedux}/>\n          {/*<Route path='/collapseSidebar' component={CollapseSidebar}/>*/}\n          <Route path='/contentsidebar' component={ContentSideBar}/>\n          <Route component={NotFound}/>\n          {/*<Route path='/rcform' component={RcForm}/>*/}\n          {/*<Route path='/axiosFilter' component={AxiosFilter}/>*/}\n        </Switch>\n      </ConnectedRouter>\n    </Router>\n  </Provider>\n);\nReactDOM.render(AppProvider, document.getElementById('root'));\n\n// +\n// step3:\n// import {ConnectedRouter} from 'connected-react-router/immutable';\n// import configureStore, {history} from './configureStore';\n//\n// const store = configureStore();\n//\n// function LoginPage() {\n//   return (\n//     <h1>登录页面</h1>\n//   )\n// }\n//\n// const AppProvider = (\n//   <Provider store={store}>\n//     <ConnectedRouter history={history}>\n//       <Switch>\n//         <Route path='/test' component={TestRedux}/>\n//         <Route path='/login' component={LoginPage}/>\n//         <Route path='/exception/403' component={Page403}/>\n//         <Route path='/exception/404' component={Page404}/>\n//         <Route path='/exception/500' component={Page500}/>\n//       </Switch>\n//     </ConnectedRouter>\n//   </Provider>\n// );\n//\n// ReactDOM.render(\n//   AppProvider,\n//   document.getElementById('root')\n// );\n\n// 使用ConnectedRouter在react-router-dom上包裹一层，history属性传递\n// 删除BrowserRouter的任何用法，它会导致同步状态出现问题\n// 将ConnectedRouter作为 react-redux/Provider下的一个子元素\n// 如果你是服务端渲染，你仍将应该在服务端使用react-router的Static Router\n\n// \"proxy\": \"http://zyhh123.xiaomy.net:80\"\n// \"proxy\": \"http://zyhh123.eicp.net:23327\"\n\n// console.log('[是否含有属性]', {name: 'dcj123'}.hasOwnProperty('age'));\n\n// 创建组后, 匹配成功, 推流按钮 不可见, 刷新却可见 --- recvServicePort返回丢失, 现在改用auth\n\n// 匹配弹窗的页面样式修改 --- 修复\n\n// 路由问题 --- 修复\n\n// 匹配字段返回 api和实际返回不同\n// encodeDevices: Array(1)\n// 0:\n// id: \"5e05b5c497e9b22cd470b481\"\n// domain: \"211.161.196.204\"\n// port: 8000\n// auth: \"6MR65M0y2cNiM7xze4Fy0T3D6SwdB3Jp\"\n// state: \"normal\"\n// eMessage: \"\"\n// 少了recvServicePort字段\n\n// TODO: 用户信息栏(登出功能, ... 其他功能实现)\n\n// 修改的地方: \n// 匹配不要显示group_id\n// gridcard/encode 不要显示auth\n// 推流后, 轮训请求显示数据(10s)\n// 无论什么时候都能推流\n// 推流之前, 要验证是否匹配成功\n"],"sourceRoot":""}