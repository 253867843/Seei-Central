{"version":3,"sources":["images/logo.png","images/poster.jpg","images/tube.png","component/groupEncodeSidebar/img/poster.jpg","redux/response.redux.js","utils/url.js","redux/users.redux.js","redux/auth.redux.js","redux/app.redux.js","redux/vcode.redux.js","redux/groups.redux.js","redux/encode.redux.js","redux/wowza.redux.js","redux/wstream.redux.js","utils/utils.js","redux/ui.redux.js","redux/rcform.redux.js","reducers.js","component/userInfo/style.js","component/userInfo/userInfo.js","component/filterSideBar/style.js","component/filterSideBar/filterSideBar.js","component/modal/modal.js","redux/index.js","component/splayer/splayer.js","component/groupEncodeSidebar/style.js","component/groupEncodeSidebar/groupEncodeSidebar.js","component/groupWowzaSidebar/style.js","component/groupWowzaSidebar/groupWowzaSidebar.js","component/devicePage/style.js","component/devicePage/devicePage.js","container/device/style.js","container/device/device.js","container/groups/style.js","container/groups/groups.js","container/server/style.js","container/server/server.js","container/home/style.js","container/home/home.js","container/login/style.js","container/login/login.js","container/notfound/notFound.js","component/authrouter/authrouter.js","container/testRedux/testRedux.js","container/form/form.js","container/newForm/newForm.js","container/out/out.js","index.js","container/rcform/rcform.js"],"names":["module","exports","defaultState","Immutable","fromJS","types","actions","data","type","payload","getResponseInfo","state","get","fetchUserInfo","dispatch","appActions","startRequest","axios","post","url","then","res","finishRequest","console","log","status","convertUserInfoToPlain","username","groups","groupsIds","fetchUserInfoSuccess","catch","err","setError","userInfo","name","groupList","groupsById","forEach","item","group_id","push","login","user","password","verifyCode","responseActions","convertLoginInfoToPlain","loginSuccess","msg","code","info","logout","logoutSuccess","modifyPassword","old_password","new_password","getLoggedUser","requestQuantity","error","redirectTo","removeError","getRedirectToPath","isEmpty","getRequestQuantity","getIn","getError","getRedirectTo","verifyCodeImg","fetchVerifyCode","responseType","emulateJSON","convertBlobToBase64","base64","fetchVerifyCodeSuccess","a","blob","blobToBase64","Promise","resolve","reject","fileReader","FileReader","onload","e","target","result","readAsDataURL","onerror","Error","getVerifyCodeImg","createGroup","convertCreateGroupToPlain","groupItem","encodes","encodeIds","wowzas","wowzaIds","createGroupSuccess","modifyGroup","convertUpdateGroupToPlain","modifyGroupSuccess","fetchGroupInfo","group","convertSingleGroupToPlain","fetchGroupInfoSuccess","deleteGroup","convertDeleteGroupToPlain","deleteGroupSuccess","matchGroup","auth","convertMatchGroupToPlain","matchGroupSuccess","startPushStream","encodeDevice_id","recvStreamService_id","startPushStreamSuccess","finishPushStream","finishPushStreamSuccess","deleteAllGroup","deleteAllGroupSuccess","dState","eMessage","description","encodeDevices","recvStreamServices","encodesById","wowzaById","id","wowzasById","reducer","combineReducers","byId","action","usersTypes","authTypes","merge","delete","set","allIds","List","unshift","indexOf","getGroupById","getGroupIds","getGroupMatchStatus","getGroupStreamStatus","deleteEncodes","deleteAll","groupsTypes","byGroup","deleteWowzaIds","fetchWowzaInfo","recvStreamServices_id","convertSingleWowzaToPlain","wowzasInfo","fetchWowzaInfoSuccess","recvStreamServicesStatusInfo","setLocalStorage","key","value","localStorage","setItem","getLocalStorage","getItem","removeLocalStorage","removeItem","isRememberAccount","deviceStatus","deviceType","selectedItem","selectedMenuItem","openRememberAccount","closeRememberAccount","setDeviceStatus","dStatus","clearDeviceStatus","setDeviceType","dType","clearDeviceType","setSelectedItem","setSelectedMenuItem","current","getDeviceStatus","getDeviceType","getSelectedItem","getSelectedMenuItem","email","setEmail","getEmail","app","vcode","wstream","ui","getLoginSelectedStatus","length","getRefreshSelectedStatus","groupIds","getOperateSelectedStatus","userTypes","response","params","rcform","NavbarSelect","styled","div","SelectLayout","AvatarLayout","RegisterContentLayout","RegisterArea","Title","AddGroupLayout","UserInfo","withRouter","visible","selectText","handleChange","props","onSelectedItem","showModal","setState","confirm","title","content","onOk","browserCookies","erase","onLogout","onCancel","refreshGroup","window","location","href","getCurrentGroupData","onDeleteGroup","groupNameList","index","findIndex","v","handleCancel","handleCreate","form","createFormRef","validateFields","values","resetFields","requestData","domain","port","recvServicePort","onCreateNewGroup","saveCreateFormRef","formRef","this","GroupSelectForm","onChange","defaultSelectedItem","size","style","border","background","substring","toUpperCase","cursor","onClick","GroupCreateForm","wrappedComponentRef","onCreate","React","Component","create","getFieldDecorator","setFieldsValue","width","notFoundContent","map","Option","ModalTitle","okText","cancelText","mast","className","color","spinning","tip","maxHeight","layout","labelCol","xs","span","sm","offset","wrapperCol","Item","label","lineHeight","textAlign","rules","required","message","placeholder","initialValue","FilterLayout","FilterExpandLayout","FilterTitle","FilterLabel","IconFont","createFromIconfontCN","scriptUrl","FilterSideBar","rawDeviceStatus","rawDeviceType","onSetDeviceStatus","onSetDeviceType","onClearDeviceStatus","onClearDeviceType","height","fontSize","fontWeight","marginLeft","FilterCheckBoxForm","filterList","text","defaultChecked","handleChecked","clearFields","padding","Group","paddingLeft","Modal","openNotification","notification","duration","container","document","createElement","body","appendChild","removeChild","ReactDOM","createPortal","connect","bindActionCreators","getGroupNameList","getEncodesListByGroupId","groupId","getEncodeIdsByGroup","getEncodeById","getWowzasListByGroupId","getWowzaIdsByGroup","getWowzaById","getSingleGroupByGroupId","getGroupListByGroupId","getSingleGroupWowzaStreamInfo","currentSelectedItem","allWowzaIds","getWowzaStreamInfoByGroup","getWowzaInfoById","getSingleGroupBySelectedItem","getSelectedItemToUse","first","getDetaultGroup","useSelectedItem","getSelectedMenuItemToUse","currentSelectedMenuItem","getUseRedirectTo","useSelectedMenuItem","SPlayer","player","createRef","data-setup","poster","posters","ref","autoPlay","controls","eventOn","videoNode","video","videojs","sources","src","Object","keys","on","dispose","defaultProps","EncodesDetails","Header","ScrollArea","VideoDiv","Setting","SettingLayout","GroupEncodeSidebar","handleEventOn","play","pause","saveModifyGroupFormRef","modifyGroupFormRef","onModify","item_id","theme","marginRight","rotate","require","ModifyGroupForm","WowzasDetails","WowzaInfo","WowzaInfoLayout","GroupWowzaSidebar","wowzaStreamInfo","rawWowzaStreamInfo","toJS","bytesIn","bytesInRate","totalConnections","bytesOut","bytesOutRate","onFetchWowzaInfo","mask","UnitDetailsLayout","UnitDetailsHeaderGrid","UnitDetailsHeaderUnit","UnitDetailsPageContent","ContentGrid","GridPosition","MenuButton","BodyLayout","ContentDivider","ContentSidebar","DevicePage","addComponentToArray","array","component","getColumnList","dataIndex","render","record","match","singleGroup","encodesWrapper","wowzasWrapper","mergeData","columns","dataSource","pagination","rowKey","loading","onRow","event","history","path","from","to","ResultWrapper","Device","icon","groupsActions","wstreamActions","MainLayout","Header_Divider","Header_Hidden","Content_Group_Info","Content_Group_Divider","Content_Group_Match","Content_Sidebar","GroupsDetail","GroupsDetailHeader","GroupDetailInfo","GroupDetailInfoLayout","GroupDetailMatch","GroupDetailMatchLayout","ButtonMatch","Groups","disabled","groupMatch","completeGroup","pushStream","groupStreamStatus","groupMatchStatus","rawCompleteGroup","groupInfoArray","undefined","is","SpinWrapper","Server","HeaderLogo","HeaderNavbar","PageContent","UnitContent","Home","handleClick","beforeunload","useDefaultGroup","useRedirectTo","responseInfo","rawGroupNameList","rawUser","rawSingleGroup","alt","mode","selectedKeys","onDeleteAllGroup","exact","addEventListener","prevProps","prevState","snapshot","removeEventListener","PureComponent","usersActions","uiActions","authActions","LoginMain","LoginWrapper","tube","LoginContainer","Logo","Login","confirmDirty","innerHeight","saveFormRef","handleSubmit","preventDefault","updateVCode","checked","marginTop","LoginInputForm","onSubmit","onUpdateVCode","_this","onresize","prefix","allowClear","Password","display","verticalAlign","htmlType","block","WrappedLoginForm","vcodeActions","NotFound","extra","AuthRouter","pathname","usersAction","TestRedux","streamStatus","Form","getFieldProps","errors","getFieldError","join","NewFormWrapped","createForm","mapPropsToFields","createFormField","formState","onFieldsChange","fields","rcformActions","Out","store","createStore","reducers","composeWithDevTools","applyMiddleware","thunk","AppProvider","getElementById"],"mappings":"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","file":"static/js/main.c8dc2f40.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.b1ba21d8.png\";","module.exports = __webpack_public_path__ + \"static/media/poster.b132fc33.jpg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0YTdkODFmZS04OWI1LTQ4NGYtOTJhZC03NmU5ODc0NTc1ZjUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzgzQzVDMjRDRjY2MTFFN0JDQTg5REYxQ0Q5MUU4RjMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzgzQzVDMjNDRjY2MTFFN0JDQTg5REYxQ0Q5MUU4RjMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTA5YWNjNDktMjU0OC1mZDQwLTg5YzgtMTZiNzBkMzUxZjBkIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6MDRiZjY2MDItZjU5NS0xMWU1LTg2YTgtYmJkNzgyODIxYmY3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Cjm9CwAAAA9JREFUeNpikpKUfAEQYAAB3AE3DppSQwAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/poster.b132fc33.jpg\";","import Immutable from 'immutable';\n\nconst defaultState = Immutable.fromJS({});\n\nexport const types = {\n  SET_RESPONSE_STATE: 'RESPONSE/SET_RESPONSE_STATE',\n  CLEAR_RESPONSE_STATE: 'RESPONSE/CLEAR_RESPONSE_STATE'\n};\n\nexport const actions = {\n  setResponseState: (data) => ({\n    type: types.SET_RESPONSE_STATE,\n    payload: data\n  }),\n  clearResponseState: () => ({\n    type: types.CLEAR_RESPONSE_STATE\n  }),\n};\n\nexport default (state = defaultState, action) => {\n  switch (action.type) {\n    case types.SET_RESPONSE_STATE:\n      const {data, ...params} = action.payload;\n      return state.merge(Immutable.fromJS(params));\n    case types.CLEAR_RESPONSE_STATE:\n      return Immutable.fromJS({});\n    default:\n      return state;\n  }\n};\n\n// selector\nexport const getResponseInfo = (state) => state.get('response');\n\n/**\n * 请求返回状态redux\n * 1.data字段不要\n * */\n// 接口请求成功\n// data: {\n//   code: \"10001\"\n//   data: {userInfo: {…}, groupList: Array(3)} // 返回数据\n//   info: { // 返回信息\n//     info: \"登录成功\"\n//     note: \"登录成功\"\n//     steps: \"登录步骤\"\n//     title: \"登录成功\"\n//     type: \"\"\n//   }\n//   msg: \"登录成功\"\n//   status: true\n// }\n\n// 接口请求失败\n// data: {\n//   code: \"-10001\"\n//   data: {} // 返回数据\n//   info: { // 返回信息\n//     info: \"验证码错误\"\n//     note: \"验证码错误\"\n//     steps: \"登录步骤\"\n//     title: \"登录失败\"\n//     type: \"error\"\n//   }\n//   msg: \"验证码错误\"\n//   status: false\n// }\n\n","export default {\n  getVerifyCode: () => '/api/v1/users/verifyCode',\n  login: () => '/api/v1/users/login',\n  logout: () => '/api/v1/users/logout',\n  modifyPassword: () => '/api/v1/users/modifyPassword',\n  getUserInfo: () => '/api/v1/users/userInfo',\n  createGroup: () => '/api/v1/method/addGroup',\n  modifyGroup: () => '/api/v1/method/modifyGroup',\n  fetchGroupInfo: () => '/api/v1/method/getGroupInfo',\n  deleteGroup: () => '/api/v1/method/deleteGroup',\n  deleteAllGroup: () => '/api/v1/method/deleteAllGroup',\n  matchGroup: () => '/api/v1/method/groupMatch',\n  startPushStream: () => '/api/v1/method/pushStream',\n  finishPushStream: () => '/api/v1/method/stopPushStream',\n  fetchWowzaInfo: () => '/api/v1/method/getRecvStreamServicesInfo'\n}","import {fromJS} from 'immutable';\nimport axios from 'axios';\nimport {actions as appActions} from './app.redux';\nimport {actions as responseActions} from './response.redux';\nimport url from '../utils/url';\n\nconst defaultState = fromJS({});\n\n// action types\nexport const types = {\n  FETCH_USER_INFO: 'USERS/FETCH_USER_INFO'\n};\n\n// action creators\nexport const actions = {\n  fetchUserInfo: () => {\n    return (dispatch) => {\n      dispatch(appActions.startRequest());\n      // dispatch(responseActions.clearResponseState());\n      axios.post(url.getUserInfo())\n        .then((res) => {\n          dispatch(appActions.finishRequest());\n          // dispatch(responseActions.setResponseState(res.data));\n          console.log('[users.redux fetchUserInfo]', res);\n          if (res.status === 200) {\n            // 扁平化处理\n            const {username, groups, groupsIds} = convertUserInfoToPlain(res.data.data);\n            dispatch(fetchUserInfoSuccess(username, groups, groupsIds));\n          }\n        })\n        .catch((err) => {\n          dispatch(appActions.setError(err));\n        });\n    }\n  }\n};\n\n// 内部action creators\nconst fetchUserInfoSuccess = (username, groups, groupsIds) => ({\n  type: types.FETCH_USER_INFO,\n  username,\n  groups,\n  groupsIds\n});\n\nconst convertUserInfoToPlain = (data) => {\n  const {name = ''} = data.userInfo;\n  const groupList = data.groupList;\n  let groupsById = {};\n  let groupsIds = [];\n  groupList.forEach((item) => {\n    groupsById[item.group_id] = {...item};\n    groupsIds.push(item.group_id);\n  });\n  return {\n    username: name,\n    groups: groupsById,\n    groupsIds\n  };\n};\n\n// reducer\nexport default (state = defaultState, action) => {\n  switch (action.type) {\n    default:\n      return state;\n  }\n}\n\n// selectors\n\n/**\n * 维护用户信息\n * 1.获取用户信息 FETCH_USER_INFO, 比较特殊, 获取后, 更新数据到\n * auth.redux.js/username\n * groups.redux.js/groups\n * */","import {fromJS} from 'immutable';\nimport axios from 'axios';\nimport {actions as appActions} from './app.redux';\nimport {actions as responseActions} from './response.redux';\nimport {types as usersTypes} from './users.redux';\nimport url from '../utils/url';\nimport isEmpty from 'lodash/isEmpty';\n\nconst defaultState = fromJS({\n  username: null,\n});\n\n// action types\nexport const types = {\n  LOGIN: 'AUTH/LOGIN',\n  LOGOUT: 'AUTH/LOGOUT',\n  MODIFY_PASSWORD: 'AUTH/MODIFY_PASSWORD',\n};\n\n// action creators\nexport const actions = {\n  login: ({user, password, verifyCode}) => {\n    return (dispatch) => {\n      dispatch(appActions.startRequest());\n      dispatch(responseActions.clearResponseState());\n      axios.post(url.login(), {user, password, verifyCode})\n        .then((res) => {\n          dispatch(appActions.finishRequest());\n          dispatch(responseActions.setResponseState(res.data));\n          console.log('[auth.redux login]', res);\n          if (res.status === 200 && res.data.status) {\n            const {username, groups, groupsIds} = convertLoginInfoToPlain(res.data.data);\n            dispatch(loginSuccess(username, groups, groupsIds));\n            /**\n             * auth.redux.js\n             * groups.redux.js\n             * */\n          } else {\n            // 登录失败\n            const {msg, code, info} = res.data;\n            dispatch(appActions.setError(msg));\n          }\n        })\n        .catch((err) => {\n          dispatch(appActions.setError(err));\n        });\n    }\n  },\n  logout: () => {\n    return (dispatch) => {\n      dispatch(appActions.startRequest());\n      dispatch(responseActions.clearResponseState());\n      axios.get(url.logout())\n        .then((res) => {\n          dispatch(appActions.finishRequest());\n          dispatch(responseActions.setResponseState(res.data));\n          console.log('[auth.redux logout]', res);\n          if (res.status === 200 && res.data.status) {\n            dispatch(logoutSuccess());\n            /**\n             * auth.redux.js 清空\n             * groups.redux.js 清空\n             * */\n          }\n        })\n        .catch((err) => {\n          dispatch(appActions.setError(err));\n        })\n    }\n  },\n  modifyPassword: ({user, old_password, new_password, verifyCode}) => {\n    return (dispatch) => {\n      dispatch(appActions.startRequest());\n      dispatch(responseActions.clearResponseState());\n      axios.post(url.modifyPassword(), {user, old_password, new_password, verifyCode})\n        .then((res) => {\n          dispatch(appActions.finishRequest());\n          dispatch(responseActions.setResponseState(res.data));\n          console.log('[auth.redux modifyPassword]', res);\n          if (res.status === 200 && res.data.status) {\n            // dispatch(modifyPasswordSuccess(res.data.data)); // TODO: 成功返回什么???\n          } else {\n            // dispatch(); // TODO: 失败返回什么???\n          }\n        })\n        .catch((err) => {\n          dispatch(appActions.setError(err));\n        });\n    }\n  }\n};\n\n// 内部action creators\nconst loginSuccess = (username, groups, groupsIds) => ({\n  type: types.LOGIN,\n  username,\n  groups,\n  groupsIds\n});\n\nconst logoutSuccess = () => ({\n  type: types.LOGOUT\n});\n\n// TODO: 返回内容什么, 需要扁平化处理???, 还是直接使用\n// const modifyPasswordSuccess = () => ({\n//   type: types.MODIFY_PASSWORD\n// });\n\n// 登录成功后, 扁平化处理\nconst convertLoginInfoToPlain = (data) => {\n  const name = data.userInfo.name;\n  const groupList = data.groupList;\n  let groupsById = {};\n  let groupsIds = [];\n  groupList.forEach((item) => {\n    groupsById[item.group_id] = {...item};\n    groupsIds.push(item.group_id);\n  });\n  return {\n    username: name,\n    groups: groupsById,\n    groupsIds\n  }\n};\n\n\n// reducers\nexport default (state = defaultState, action) => {\n  switch (action.type) {\n    case usersTypes.FETCH_USER_INFO: // 获取用户信息\n    case types.LOGIN: // 登录\n      return state.merge({username: action.username});\n    case types.LOGOUT: // 登出\n      return state.merge(defaultState);\n    default:\n      return state;\n  }\n};\n\n// selectors\nexport const getLoggedUser = (state) => state.get('auth');\n\n/**\n * auth: {\n *   username: null // 当前登录的用户名\n * }\n * */","import {fromJS} from 'immutable';\nimport {types as authTypes} from './auth.redux';\nimport isEmpty from 'lodash/isEmpty';\n\nconst defaultState = fromJS({\n  requestQuantity: 0, // 当前应用正在进行的API请求数\n  error: null, // 应用全局错误信息\n  redirectTo: '', // 跳转\n});\n\n// action types\nexport const types = {\n  START_REQUEST: 'APP/START_REQUEST',\n  FINISH_REQUEST: 'APP/FINISH_REQUEST',\n  SET_ERROR: 'APP/SET_ERROR',\n  REMOVE_ERROR: 'APP/REMOVE_ERROR',\n};\n\n// action creators\nexport const actions = {\n  startRequest: () => ({\n    type: types.START_REQUEST\n  }),\n  finishRequest: () => ({\n    type: types.FINISH_REQUEST\n  }),\n  setError: (error) => ({\n    type: types.SET_ERROR,\n    error\n  }),\n  removeError: () => ({\n    type: types.REMOVE_ERROR\n  }),\n};\n\n// reducers\nexport default (state = defaultState, action) => {\n  switch (action.type) {\n    case types.START_REQUEST:\n      return state.merge({requestQuantity: state.get('requestQuantity') + 1});\n    case types.FINISH_REQUEST:\n      return state.merge({requestQuantity: state.get('requestQuantity') - 1});\n    case types.SET_ERROR:\n      return state.merge({error: action.error});\n    case types.REMOVE_ERROR:\n      return state.merge({error: null});\n    case authTypes.LOGIN:\n      return state.merge({redirectTo: getRedirectToPath(action)});\n    case authTypes.LOGOUT:\n      return state.merge({redirectTo: '/login'});\n    default:\n      return state;\n  }\n};\n\n// 跳转\nconst getRedirectToPath = ({username, groupsIds}) => {\n  const isLoggedIn = !isEmpty(username); // 新用户的组为空\n  if (isLoggedIn) {\n    return '/home/device'; // 获取用户信息成功\n  } else {\n    return '/login'; // 获取用户信息失败, 跳转到登录界面\n  }\n};\n\n// selectors\n// 获取当前请求数\nexport const getRequestQuantity = (state) => state.getIn(['app', 'requestQuantity']);\n// 获取错误信息\nexport const getError = (state) => state.getIn(['app', 'error']);\n// 获取当前跳转路径\nexport const getRedirectTo = (state) => state.getIn(['app', 'redirectTo']);\n\n/**\n * app: {\n *   requestQuantity: 0, // 当前应用中正在进行的API请求数\n *   error: null, // 应用全局错误信息\n *   redirectTo: '', // 跳转\n * }\n * */","import {fromJS} from 'immutable';\nimport axios from 'axios';\nimport {actions as appActions} from './app.redux';\nimport {actions as responseActions} from './response.redux';\nimport {types as authTypes} from './auth.redux';\nimport url from '../utils/url';\n\nconst defaultState = fromJS({\n  verifyCodeImg: null\n});\n\n// action types\nexport const types = {\n  FETCH_VERIFY_CODE_IMG: 'AUTH/FETCH_VERIFY_CODE_IMG',\n};\n\n// action creators\nexport const actions = {\n  fetchVerifyCode: () => {\n    return (dispatch) => {\n      dispatch(appActions.startRequest());\n      dispatch(responseActions.clearResponseState());\n      axios.get(url.getVerifyCode(), {responseType: 'blob', emulateJSON: true})\n        .then((res) => {\n          dispatch(appActions.finishRequest());\n          dispatch(responseActions.setResponseState(res.data));\n          console.log('[vcode.redux fetchVerifyCode]', res);\n          if (res.status === 200) {\n            convertBlobToBase64(res)\n              .then((base64) => {\n                dispatch(fetchVerifyCodeSuccess(base64));\n              });\n          } else {\n            dispatch(appActions.setError('获取验证码图片失败'));\n          }\n        })\n        .catch((err) => {\n          dispatch(appActions.setError(err));\n        });\n    }\n  }\n};\n\n// 内部creators\nconst fetchVerifyCodeSuccess = (url) => ({\n  type: types.FETCH_VERIFY_CODE_IMG,\n  url\n});\n\nconst convertBlobToBase64 = async (res) => {\n  const blob = res.data;\n  const base64 = await blobToBase64(blob);\n  return base64;\n};\n\nconst blobToBase64 = (blob) => {\n  return new Promise((resolve, reject) => {\n    const fileReader = new FileReader();\n    fileReader.onload = (e) => {\n      resolve(e.target.result);\n    };\n    // readAsDataURL\n    fileReader.readAsDataURL(blob);\n    fileReader.onerror = () => {\n      reject(new Error('文件流异常'));\n    };\n  });\n};\n\n// reducers\nexport default (state = defaultState, action) => {\n  switch (action.type) {\n    case types.FETCH_VERIFY_CODE_IMG:\n      return state.merge({verifyCodeImg: action.url});\n    case authTypes.LOGOUT:\n      return state.merge(defaultState); // 清空数据\n    default:\n      return state;\n  }\n}\n\n\n// selectors\nexport const getVerifyCodeImg = (state) => state.getIn(['vcode', 'verifyCodeImg']);\n\n/**\n * 属于哪种数据结构: 没有id, 当作应用状态数据处理\n * */\n\n","import Immutable from 'immutable';\nimport {fromJS} from 'immutable';\nimport axios from 'axios';\nimport {actions as appActions} from './app.redux';\nimport {actions as responseActions} from './response.redux';\nimport {types as authTypes} from './auth.redux';\nimport {types as usersTypes} from './users.redux';\nimport url from '../utils/url';\nimport {combineReducers} from 'redux-immutable';\n\n// action types\nexport const types = {\n  CREATE_GROUP: 'GROUPS/CREATE_GROUP', // 添加Group\n  MODIFY_GROUP: 'GROUPS/MODIFY_GROUP', // 修改Group\n  FETCH_GROUP_INFO: 'GROUPS/FETCH_GROUP_INFO', // 查看单个Group(查看组中所有encodes/查看组中所有wowzas)\n  FETCH_GROUPS: 'GROUPS/FETCH_GROUPS', // TODO: 查看所有组Group(可能不需要encodes和wowzas信息)\n  DELETE_GROUP: 'GROUPS/DELETE_GROUP', // 删除Group\n  DELETE_ALL_GROUP: 'GROUPS/DELETE_ALL_GROUP', // 删除所有Group\n  MATCH_GROUP: 'GROUPS/MATCH_GROUP', // 匹配Group\n  START_PUSH_STREAM: 'GROUPS/START_PUSH_STREAM', // 开始推流\n  FINISH_PUSH_STREAM: 'GROUPS/FINISH_PUSH_STREAM', // 停止推流\n};\n\n// action creators\nexport const actions = {\n  createGroup: (data) => { // 添加Group(操作: 修改)\n    return (dispatch) => {\n      dispatch(appActions.startRequest());\n      dispatch(responseActions.clearResponseState());\n      axios.post(url.createGroup(), data)\n        .then((res) => {\n          dispatch(appActions.finishRequest());\n          dispatch(responseActions.setResponseState(res.data));\n          console.log('[groups.redux createGroup]', res);\n          if (res.status === 200 && res.data.status) {\n            const {group_id, groupItem, encodes, encodeIds, wowzas, wowzaIds} = convertCreateGroupToPlain(res.data.data);\n            dispatch(createGroupSuccess(group_id, groupItem, encodes, encodeIds, wowzas, wowzaIds));\n          } else {\n            // dispatch(appActions.setError(...)); // 错误信息保留\n          }\n        })\n        .catch((err) => {\n          console.log('[err]', err);\n          dispatch(appActions.setError(err));\n        });\n    }\n  },\n  modifyGroup: (data) => { // 修改Group(操作: 修改)\n    return (dispatch) => {\n      dispatch(appActions.startRequest());\n      dispatch(responseActions.clearResponseState());\n      axios.post(url.modifyGroup(), data)\n        .then((res) => {\n          dispatch(appActions.finishRequest());\n          dispatch(responseActions.setResponseState(res.data));\n          console.log('[groups.redux modifyGroup]', res);\n          if (res.status && res.data.status) {\n            const {groupItem, encodes, encodeIds, wowzas, wowzaIds} = convertUpdateGroupToPlain(res.data.data);\n            dispatch(modifyGroupSuccess(groupItem, encodes, encodeIds, wowzas, wowzaIds));\n          } else {\n            // dispatch(appActions.setError(...)); // 错误信息保留\n          }\n        })\n        .catch((err) => {\n          dispatch(appActions.setError(err));\n        });\n    }\n  },\n  fetchGroupInfo: ({group, group_id}) => { // 查看Group(操作: 覆盖)\n    return (dispatch) => {\n      dispatch(appActions.startRequest());\n      // dispatch(responseActions.clearResponseState());\n      axios.post(url.fetchGroupInfo(), {group, group_id})\n        .then((res) => {\n          dispatch(appActions.finishRequest());\n          // dispatch(responseActions.setResponseState(res.data));\n          console.log('[groups.redux fetchGroupInfo]', res);\n          if (res.status && res.data.status) {\n            // console.log('[fetchGroupInfo结果]',res.data);\n            const {groupItem, encodes, encodeIds, wowzas, wowzaIds} = convertSingleGroupToPlain(res.data.data);\n            dispatch(fetchGroupInfoSuccess(groupItem, encodes, encodeIds, wowzas, wowzaIds));\n          }\n        })\n        .catch((err) => {\n          console.log('[fetchGroupInfo err]', err);\n          dispatch(appActions.setError(err));\n        });\n    }\n  },\n  deleteGroup: ({group, group_id}) => { // 删除Group(操作: 修改)\n    // console.log('[删除组参数]', group, group_id);\n    return (dispatch) => {\n      dispatch(appActions.startRequest());\n      dispatch(responseActions.clearResponseState());\n      axios.post(url.deleteGroup(), {group, group_id})\n        .then((res) => {\n          dispatch(appActions.finishRequest());\n          dispatch(responseActions.setResponseState(res.data));\n          console.log('[groups.redux deleteGroup]', res);\n          if (res.status === 200 && res.data.status) {\n            const {encodeIds, wowzaIds} = convertDeleteGroupToPlain(res.data.data);\n            dispatch(deleteGroupSuccess(group, group_id, encodeIds, wowzaIds));\n          } else {\n            // dispatch(appActions.setError(...)); // 错误信息保留\n          }\n        })\n        .catch((err) => {\n          console.log('[删除组 报错]', err);\n          dispatch(appActions.setError(err));\n        });\n    }\n  },\n  matchGroup: ({group, group_id}) => { // 匹配Group\n    return (dispatch) => {\n      dispatch(appActions.startRequest());\n      dispatch(responseActions.clearResponseState());\n      axios.post(url.matchGroup(), {group, group_id, auth: '6xxc4MS8Z9bFr2xcSK23r9Wd3P5jfrbG'})\n        .then((res) => {\n          dispatch(appActions.finishRequest());\n          dispatch(responseActions.setResponseState(res.data));\n          console.log('[groups.redux matchGroup]', res);\n          if (res.status === 200 && res.data.status) {\n            const {groupItem, encodes, wowzas} = convertMatchGroupToPlain(res.data.data);\n            dispatch(matchGroupSuccess(groupItem, encodes, wowzas));\n          } else {\n            // dispatch(appActions.setError(...)); // 错误信息保留\n          }\n        })\n        .catch((err) => {\n          dispatch(appActions.setError(err));\n        });\n    }\n  },\n  startPushStream: ({group, group_id, encodeDevice_id, recvStreamService_id}) => {\n    return (dispatch) => {\n      dispatch(appActions.startRequest());\n      dispatch(responseActions.clearResponseState());\n      axios.post(url.startPushStream(), {group, group_id, encodeDevice_id, recvStreamService_id})\n        .then((res) => {\n          dispatch(appActions.finishRequest());\n          dispatch(responseActions.setResponseState(res.data));\n          console.log('[groups.redux startPushStream]', res);\n          if (res.status === 200 && res.data.status) {\n            console.log('[startPushStream]', res.data);\n            dispatch(startPushStreamSuccess(group_id));\n          } else {\n            // dispatch(appActions.setError(...)); // 错误信息保留\n          }\n        })\n        .catch((err) => {\n          dispatch(appActions.setError(err));\n        });\n    }\n  },\n  finishPushStream: ({group, group_id}) => {\n    return (dispatch) => {\n      dispatch(appActions.startRequest());\n      dispatch(responseActions.clearResponseState());\n      axios.post(url.finishPushStream(), {group, group_id})\n        .then((res) => {\n          dispatch(appActions.finishRequest());\n          dispatch(responseActions.setResponseState(res.data));\n          console.log('[groups.redux finishPushStream]', res);\n          if (res.status === 200 && res.data.status) {\n            dispatch(finishPushStreamSuccess(group_id));\n          } else {\n            // dispatch(appActions.setError(...)); // 错误信息保留\n          }\n        })\n        .catch((err) => {\n          dispatch(appActions.setError(err));\n        });\n    }\n  },\n  deleteAllGroup: () => { // 不需要传参\n    return (dispatch) => {\n      dispatch(appActions.startRequest());\n      dispatch(responseActions.clearResponseState());\n      axios.post(url.deleteGroup())\n        .then((res) => {\n          dispatch(appActions.finishRequest());\n          dispatch(responseActions.setResponseState(res.data));\n          console.log('[groups.redux deleteAllGroup]', res);\n          if (res.status === 200 && res.data.status) {\n            dispatch(deleteAllGroupSuccess());\n          } else {\n            // dispatch(appActions.setError(...)); // 错误信息保留\n          }\n        })\n        .catch((err) => {\n          dispatch(appActions.setError(err));\n        });\n    }\n  }\n};\n\n// 内部action creators\nconst createGroupSuccess = (group_id, groupItem, encodes, encodeIds, wowzas, wowzaIds) => ({\n  type: types.CREATE_GROUP,\n  group_id,\n  groupItem,\n  encodes,\n  encodeIds,\n  wowzas,\n  wowzaIds\n});\n\nconst modifyGroupSuccess = (groupItem, encodes, encodeIds, wowzas, wowzaIds) => ({\n  type: types.MODIFY_GROUP,\n  groupItem,\n  encodes,\n  encodeIds,\n  wowzas,\n  wowzaIds\n});\n\nconst fetchGroupInfoSuccess = (groupItem, encodes, encodeIds, wowzas, wowzaIds) => ({\n  type: types.FETCH_GROUP_INFO,\n  groupItem,\n  encodes,\n  encodeIds,\n  wowzas,\n  wowzaIds\n});\n\nconst deleteGroupSuccess = (group, group_id, encodeIds, wowzaIds) => ({\n  type: types.DELETE_GROUP,\n  group,\n  group_id,\n  encodeIds,\n  wowzaIds\n});\n\nconst matchGroupSuccess = (groupItem, encodes, wowzas) => ({\n  type: types.MATCH_GROUP,\n  groupItem,\n  encodes,\n  wowzas\n});\n\nconst startPushStreamSuccess = (group_id) => ({\n  type: types.START_PUSH_STREAM,\n  group_id\n});\n\nconst finishPushStreamSuccess = (group_id) => ({\n  type: types.FINISH_PUSH_STREAM,\n  group_id\n});\n\nconst deleteAllGroupSuccess = () => ({\n  type: types.DELETE_ALL_GROUP\n});\n\n// 扁平化, 添加Group返回\nconst convertCreateGroupToPlain = (data) => {\n  const {group_id, group, dState, eMessage, description, encodeDevices, recvStreamServices} = data;\n  let groupItem = {group, group_id, dState, eMessage, description};\n  let encodesById = {}; // 记录前端设备\n  let encodeIds = []; // encode.redux.js/byPost用\n  let wowzaById = {}; // 记录wowza\n  let wowzaIds = []; //wowza.redux.js/byPost用\n  encodeDevices.forEach((item) => {\n    encodesById[item.id] = {...item};\n    encodeIds.push(item.id);\n  });\n  recvStreamServices.forEach((item) => {\n    wowzaById[item.id] = {...item};\n    wowzaIds.push(item.id);\n  });\n  return {\n    group_id,\n    groupItem: groupItem,\n    encodes: encodesById,\n    encodeIds,\n    wowzas: wowzaById,\n    wowzaIds\n  }\n};\n\n// 扁平化, 修改Group返回\nconst convertUpdateGroupToPlain = (data) => {\n  const {group_id, group, dState, eMessage, description, encodeDevices, recvStreamServices} = data;\n  let groupItem = {group, group_id, dState, eMessage, description};\n  let encodesById = {}; // 记录前端设备\n  let wowzasById = {}; // 记录wowza\n  encodeDevices.forEach((item) => {\n    encodesById[item.id] = {...item};\n  });\n  recvStreamServices.forEach((item) => {\n    wowzasById[item.id] = {...item};\n  });\n  return {\n    groupItem: groupItem,\n    encodes: encodesById,\n    wowzas: wowzasById,\n  }\n};\n\n// 扁平化, 查看Group返回\nconst convertSingleGroupToPlain = (data) => {\n  const {group_id, group, dState, eMessage, description, status, encodeDevices, recvStreamServices} = data;\n  let groupItem = {group_id, group, dState, eMessage, description, status};\n  let encodesById = {};\n  let encodeIds = [];\n  let wowzasById = {};\n  let wowzaIds = [];\n  encodeDevices.forEach((item) => {\n    encodesById[item.id] = {...item};\n    encodeIds.push(item.id);\n  });\n  recvStreamServices.forEach((item) => {\n    wowzasById[item.id] = {...item};\n    wowzaIds.push(item.id);\n  });\n  return {\n    groupItem: groupItem,\n    encodes: encodesById,\n    encodeIds,\n    wowzas: wowzasById,\n    wowzaIds\n  }\n};\n\n// 扁平化, 删除Group返回(目前不返回内容)\nconst convertDeleteGroupToPlain = (data) => {\n  const {encodeDevices, recvStreamServices} = data;\n  console.log('[删除Group返回 encodeDevices]', encodeDevices);\n  console.log('[删除Group返回 recvStreamServices]', recvStreamServices);\n  const encodeIds = [];\n  const wowzaIds = [];\n  encodeDevices.forEach((item) => {\n    encodeIds.push(item.id);\n  });\n  recvStreamServices.forEach((item) => {\n    wowzaIds.push(item.id);\n  });\n  return {\n    encodeIds,\n    wowzaIds\n  }\n};\n\n// 扁平化, 匹配Group返回\nconst convertMatchGroupToPlain = (data) => {\n  const {group_id, group, dState, eMessage, description, status, encodeDevices, recvStreamServices} = data;\n  let groupItem = {group_id, group, dState, eMessage, description};\n  let encodesById = {};\n  let wowzasById = {};\n  encodeDevices.forEach((item) => {\n    encodesById[item.id] = {...item};\n  });\n  recvStreamServices.forEach((item) => {\n    wowzasById[item.id] = {...item};\n  });\n  return {\n    groupItem: groupItem,\n    encodes: encodesById,\n    wowzas: wowzasById\n  };\n};\n\n// reducers\nconst byId = (state = Immutable.fromJS({}), action) => { // 记录groups信息\n  switch (action.type) {\n    case usersTypes.FETCH_USER_INFO: // 获取用户信息\n    case authTypes.LOGIN: // 登录成功\n      return state.merge(Immutable.fromJS(action.groups)); // 复杂数据类型\n    case authTypes.LOGOUT: // 登出成功\n      return Immutable.fromJS({});\n    case types.CREATE_GROUP:\n    case types.MODIFY_GROUP:\n    case types.FETCH_GROUP_INFO:\n    case types.MATCH_GROUP:\n      return state.merge({[action.groupItem.group_id]: Immutable.fromJS(action.groupItem)}); // 复杂数据类型\n    case types.DELETE_GROUP:\n      return state.delete(action.group_id);\n    case types.START_PUSH_STREAM:\n      return state.set(action.group_id, state.get(action.group_id).set('status', true));\n    case types.FINISH_PUSH_STREAM:\n      return state.set(action.group_id, state.get(action.group_id).set('status', false));\n    default:\n      return state;\n  }\n};\n\nconst allIds = (state = Immutable.fromJS([]), action) => {\n  switch (action.type) {\n    case usersTypes.FETCH_USER_INFO:\n    case authTypes.LOGIN:\n      return Immutable.List(action.groupsIds);\n    case authTypes.LOGOUT:\n      return Immutable.List();\n    case types.CREATE_GROUP:\n      return state.unshift(action.groupItem.group_id);\n    case types.FETCH_GROUPS: // TODO: 未实现\n      return state;\n    case types.DELETE_GROUP:\n      return state.delete(state.indexOf(action.group_id));\n    default:\n      return state;\n  }\n};\n\nconst reducer = combineReducers({\n  byId,\n  allIds\n});\n\nexport default reducer;\n\n// selector\n// 获取所有组信息:\nexport const getGroupList = (state) => state.getIn(['groups', 'byId']);\n// 获取单个组信息:\nexport const getGroupById = (state, id) => state.getIn(['groups', 'byId', id]);\n// 获取组的排序数组:\nexport const getGroupIds = (state) => state.getIn(['groups', 'allIds']);\n// 获取组的匹配状态\nexport const getGroupMatchStatus = (state, id) => state.getIn(['groups', 'byId', id, 'dState']);\n// 获取组的推流状态\nexport const getGroupStreamStatus = (state, id) => state.getIn(['groups', 'byId', id, 'status']);\n\n/**\n * groups: {\n *    byId: {\n *      sd0abd9249451d0fdbf0e1406f5d9e6a: {\n *          group_id: 'sd0abd9249451d0fdbf0e1406f5d9e6a',\n *          group: 'group_test',\n *          dState: 'offline', // offline(未匹配), ready(已经匹配)\n *          eMessage: '',\n *          description: ''\n *      }\n *    },\n *    allIds: ['sd0abd9249451d0fdbf0e1406f5d9e6a', ...]\n * }\n * */\n\n// 查询: /mcm/api/groups?filter={\"fields\":{},\"where\":{},\"skip\":0,\"limit\":20,\"include\":[\"encodeDevices\",\"recvStreamServices\"]}\n// 新增:\n\n// {\n//   \"group_id\": \"sd0abd9249451d0fdbf0e1406f5d9e6b\",\n//   \"group\": \"group_test2\",\n//   \"dState\": \"ready\",\n//   \"status\": true,\n//   \"eMessage\": \"no error\",\n//   \"description\": \"组2\",\n//   \"encodeDevices\": [\n//   {\n//     \"domain\": \"192.168.3.4\",\n//     \"port\": \"8100\",\n//     \"auth\": \"4a0abd9249451d0fdbf0e1406f5d9e6b\",\n//     \"recvServicePort\": \"11000\",\n//     \"state\": \"normal\",\n//     \"eMessage\": \"no error\",\n//   }\n// ]\n// }\n\n/**\n * 使用merge时, 要注意类型统一, 对数据进行fromJS(...)处理\n * 1.如果值是简单类型:\n * 当值为 number, string, boolean时, 不需要fromJS(...)处理了\n * state.merge({requestQuantity: state.get('requestQuantity') + 1});\n * state.merge({error: action.error});\n *\n * 2.如果值是复杂类型:\n * 当值为 {}, [] 时, 需要使用fromJS(...)处理, 来保证数据类型统一\n * state.merge({[action.groupItem.group_id]: fromJS(action.groupItem)}); // action.groupItem是一个{}\n * state.merge({[action.groupItem.group_id]: Immutable.List(action.encodeIds)}); // action.encodeIds是一个[]\n * */","import Immutable from \"immutable\";\nimport {combineReducers} from 'redux-immutable';\nimport {types as groupsTypes} from './groups.redux';\nimport {types as authTypes} from './auth.redux';\n\n// action types\n\n// action creators\n\n// reducer\nconst byId = (state = Immutable.fromJS({}), action) => { // 记录encodes\n  function deleteEncodes(state, encodeIds) {\n    return state.deleteAll(encodeIds);\n  }\n\n  switch (action.type) {\n    case groupsTypes.CREATE_GROUP: // 添加Group\n    case groupsTypes.MODIFY_GROUP: // 修改Group\n    case groupsTypes.FETCH_GROUP_INFO: // 查看Group\n      return state.merge(Immutable.fromJS(action.encodes)); // 复杂数据类型\n    case groupsTypes.MATCH_GROUP:\n      // console.log('[encode MATCH_GROUP]', action.encodes);\n      return state.merge(Immutable.fromJS(action.encodes)); // 复杂数据类型\n    case groupsTypes.DELETE_GROUP: // TODO: 测试\n      return deleteEncodes(state, action.encodeIds);\n    case authTypes.LOGOUT:\n      return Immutable.fromJS({}); // 清空redux\n    default:\n      return state;\n  }\n};\n\nconst byGroup = (state = Immutable.fromJS({}), action) => { // 记录encode属于哪个group\n  switch (action.type) {\n    case groupsTypes.CREATE_GROUP:\n      return state.set(\n        [action.groupItem.group_id],\n        // state.get(action.groupItem.group_id).unshift(action.encodeIds[0])\n        Immutable.List([]).unshift(action.encodeIds[0])\n      );\n    case groupsTypes.FETCH_GROUP_INFO:\n      return state.merge({[action.groupItem.group_id]: Immutable.fromJS(action.encodeIds)}); // 复杂数据类型\n    case groupsTypes.DELETE_GROUP:\n      return state.delete(action.group_id);\n    case authTypes.LOGOUT:\n      return Immutable.fromJS({}); // 清空redux\n    default:\n      return state;\n  }\n};\n\nconst reducer = combineReducers({\n  byId,\n  byGroup\n});\n\nexport default reducer;\n\n\n// selectors\n// 获取所有encodes\nexport const getEncodes = (state) => state.getIn(['encodes', 'byId']);\n// 获取某一个组下的所有encodes的id\nexport const getEncodeIdsByGroup = (state, groupId) => state.getIn(['encodes', 'byGroup', groupId]);\n// 获取某个encode\nexport const getEncodeById = (state, id) => state.getIn(['encodes', 'byId', id]);\n\n/**\n * encodes: {\n *    byId: {\n          f0abd9249451d0fdbf0e1406f5d9e87: {\n          id: 'f0abd9249451d0fdbf0e1406f5d9e87',\t\t#编码器设备id\n          domain: '127.0.0.1',\t#编码器服务地址可以是IP或者域名\n          port: 8000,\t\t#编码器服务端口  默认8000\n          auth: '4a0abd9249451d0fdbf0e1406f5d9e6a',\t#认证auth 让用户自行输入\n          recvServicePort: 10000,\t\t#接收wowza端的端口  默认10000\n          state:\tnormal,\t\t#状态 abnormal(异常)\t normal(正常)\n          eMessage: ''\t#异常信息\n *       }\n *    },\n *    byGroup: {\n *      sd0abd9249451d0fdbf0e1406f5d9e6a: ['f0abd9249451d0fdbf0e1406f5d9e87', '...']\n *    }\n * }\n * */","import Immutable from 'immutable';\nimport {combineReducers} from 'redux-immutable';\nimport {types as groupsTypes} from './groups.redux';\nimport {types as authTypes} from './auth.redux';\n// action types\n\n// action creators\n\n// 内部action creators\n\n// reducers\nconst byId = (state = Immutable.fromJS({}), action) => {\n    function deleteWowzaIds(state, wowzaIds) {\n      return state.deleteAll(wowzaIds);\n    }\n\n    switch (action.type) {\n      case groupsTypes.CREATE_GROUP: // 添加Group\n      case groupsTypes.MODIFY_GROUP: // 修改Group\n      case groupsTypes.FETCH_GROUP_INFO: // 查看Group\n        return state.merge(Immutable.fromJS(action.wowzas)); // 复杂数据类型\n      case groupsTypes.MATCH_GROUP:\n        return state.merge(Immutable.fromJS(action.wowzas)); // 复杂数据类型\n      case groupsTypes.DELETE_GROUP: // TODO: 测试\n        return deleteWowzaIds(state, action.wowzas);\n      case authTypes.LOGOUT:\n        return Immutable.fromJS({}); // 清空redux\n      default:\n        return state;\n    }\n  }\n;\n\nconst byGroup = (state = Immutable.fromJS({}), action) => {\n  switch (action.type) {\n    case groupsTypes.CREATE_GROUP: // 添加组\n      return state.set(\n        [action.groupItem.group_id],\n        // state.get(action.groupItem.group_id).unshift(action.wowzaIds[0])\n        Immutable.List([]).unshift(action.wowzaIds[0])\n      );\n    case groupsTypes.FETCH_GROUP_INFO:\n      return state.merge({[action.groupItem.group_id]: Immutable.fromJS(action.wowzaIds)}); // 复杂数据类型\n    case groupsTypes.DELETE_GROUP:\n      return state.delete(action.group_id);\n    case authTypes.LOGOUT:\n      return Immutable.fromJS({}); // 清空redux\n    default:\n      return state;\n  }\n};\n\nconst reducer = combineReducers({\n  byId,\n  byGroup\n});\n\nexport default reducer;\n\n// selectors\n// 获取所有wowzas\nexport const getWowzas = (state) => state.getIn(['wowzas', 'byId']);\n// 获取某一个组件下的所有wowzas的id\nexport const getWowzaIdsByGroup = (state, groupId) => state.getIn(['wowzas', 'byGroup', groupId]);\n// 获取某个wowza\nexport const getWowzaById = (state, id) => state.getIn(['wowzas', 'byId', id]);\n\n/**\n * wowzas: {\n *   \tb0abd9249451d0fdbf0e1406f5d9e31: {\n *   \t  id: 'b0abd9249451d0fdbf0e1406f5d9e31'\t\t#wowza服务id\n\t\t\t\tdomain: '127.0.0.1',\t#接收端wowza地址可以是IP或者域名\n\t\t\t\tport: 8087\t\t#接收端wowza端口  默认8087\n\t\t\t\tstate:\tnormal,\t\t#状态 abnormal(异常)\t normal(正常)\n\t\t\t\teMessage: ''\t#异常信息\n *\t\t\tbytesIn: 23582908,\t\t#累计视频流传入多少字节 （单位: 字节）\n *\t\t\tbytesInRate: 109203,\t\t#视频流传入速率\t(单位: 字节/秒)\n *   \t\ttotalConnections: 1,\t\t#播放连接数\n *\t\t\tbytesOut: 45879708,\t\t#累计视频流传出多少字节 （单位: 字节）\n * \t\t\tbytesOutRate: 231396\t\t#视频流传出速率 (单位: 字节/秒)\n *   \t}\n * }\n *\n *    b0abd9249451d0fdbf0e1406f5d9e31: {\n\t\t\t\tid: 'b0abd9249451d0fdbf0e1406f5d9e31'\t\t#接收端wowza服务id\n\t\t\t\tbytesIn: 23582908,\t\t#累计视频流传入多少字节 （单位: 字节）\n\t\t\t\tbytesInRate: 109203,\t\t#视频流传入速率\t(单位: 字节/秒)\n\t\t\t\ttotalConnections: 1,\t\t#播放连接数\n\t\t\t\tbytesOut: 45879708,\t\t#累计视频流传出多少字节 （单位: 字节）\n\t\t\t\tbytesOutRate: 231396\t\t#视频流传出速率 (单位: 字节/秒)\n\t\t\t}\n *\n * */","import Immutable from 'immutable';\nimport {combineReducers} from 'redux-immutable';\nimport axios from 'axios';\nimport {actions as appActions} from './app.redux';\nimport {actions as responseActions} from './response.redux';\nimport {types as authTypes} from \"./auth.redux\";\nimport url from '../utils/url';\n\n// action types\nexport const types = {\n  FETCH_WOWZA_INFO: 'WOWZA/FETCH_WOWZA_INFO', // 获取接收wowza服务器流信息\n};\n\n// action creators\nexport const actions = {\n  fetchWowzaInfo: ({group, group_id, recvStreamServices_id}) => {\n    return (dispatch) => {\n      dispatch(appActions.startRequest());\n      // dispatch(responseActions.clearResponseState());\n      axios.post(url.fetchWowzaInfo(), {group, group_id, recvStreamServices_id})\n        .then((res) => {\n          dispatch(appActions.finishRequest());\n          // dispatch(responseActions.setResponseState(res.data));\n          console.log('[wstream.redux fetchWowzaInfo]', res);\n          if (res.status === 200 && res.data.status) {\n            const {wowzasInfo, wowzaIds} = convertSingleWowzaToPlain(res.data.data);\n            dispatch(fetchWowzaInfoSuccess(group_id, wowzasInfo, wowzaIds));\n          } else {\n            dispatch(appActions.setError('获取接收wowza服务器流信息失败'));\n          }\n        })\n        .catch((err) => {\n          dispatch(appActions.setError(err));\n        });\n    }\n  },\n};\n\n// 内部action creators\nconst fetchWowzaInfoSuccess = (group_id, wowzasInfo, wowzaIds) => ({\n  type: types.FETCH_WOWZA_INFO,\n  group_id,\n  wowzasInfo,\n  wowzaIds\n});\n\nconst convertSingleWowzaToPlain = (data) => {\n  const {recvStreamServicesStatusInfo} = data;\n  let wowzasById = {};\n  let wowzaIds = [];\n  recvStreamServicesStatusInfo.forEach((item) => {\n    wowzasById[item.id] = {...item};\n    wowzaIds.push(item.id);\n  });\n  return {\n    wowzasInfo: wowzasById,\n    wowzaIds\n  }\n};\n\nconst byId = (state = Immutable.fromJS({}), action) => {\n  switch (action.type) {\n    case types.FETCH_WOWZA_INFO:\n      return state.merge(Immutable.fromJS(action.wowzasInfo)); // 复杂数据类型 {}\n    case authTypes.LOGOUT:\n      return Immutable.fromJS({}); // 清空数据\n    default:\n      return state;\n  }\n};\n\nconst byGroup = (state = Immutable.fromJS({}), action) => {\n  switch (action.type) {\n    case types.FETCH_WOWZA_INFO:\n      return state.merge({[action.group_id]: Immutable.fromJS(action.wowzaIds)}); // 复杂数据类型 []\n    case authTypes.LOGOUT:\n      return Immutable.fromJS({}); // 清空数据\n    default:\n      return state;\n  }\n};\n\nconst reducer = combineReducers({\n  byId,\n  byGroup\n});\n\nexport default reducer;\n\n// selector\n// 获取所有wowzas的流信息\nexport const getWowzasStreamInfo = (state) => state.getIn(['wstream', 'byId']);\n// 获取某一个组下的所有wowza流信息的id\nexport const getWowzaStreamInfoByGroup = (state, groupId) => state.getIn(['wstream', 'byGroup', groupId]);\n// 获取单个wowza的流信息\nexport const getWowzaInfoById = (state, id) => state.getIn(['wstream', 'byId', id]);\n\n\n/**\n * stream: {\n *   b0abd9249451d0fdbf0e1406f5d9e31: {\n *    byId: {\n *    \t  id: 'b0abd9249451d0fdbf0e1406f5d9e31'{\t\t#接收端wowza服务id\n\t\t\t\t  bytesIn: 23582908,\t\t#累计视频流传入多少字节 （单位: 字节）\n\t\t\t\t  bytesInRate: 109203,\t\t#视频流传入速率\t(单位: 字节/秒)\n\t\t\t\t  totalConnections: 1,\t\t#播放连接数\n\t\t\t\t  bytesOut: 45879708,\t\t#累计视频流传出多少字节 （单位: 字节）\n\t\t\t\t  bytesOutRate: 231396\t\t#视频流传出速率 (单位: 字节/秒)\n *        }\n *    },\n *    byGroup: {\n *        sd0abd9249451d0fdbf0e1406f5d9e6a: ['b0abd9249451d0fdbf0e1406f5d9e31']\n *        ...\n *    }\n * }\n *\n * */\n\n/**\n *  \"data\": {\n    \"group_id\": \"sd0abd9249451d0fdbf0e1406f5d9e6a\",\n    \"group\": \"group_test\",\n    \"recvStreamServicesStatusInfo\": [\n      {\n        \"id\": \"b0abd9249451d0fdbf0e1406f5d9e31\",\n        \"bytesIn\": 23582908,\n        \"bytesInRate\": 109203,\n        \"totalConnections\": 1,\n        \"bytesOut\": 45879708,\n        \"bytesOutRate\": 231396\n      }\n    ]\n  }\n * */","// localStorage\nexport const setLocalStorage = (key, value) => {\n  return localStorage.setItem(key, value);\n};\n\nexport const getLocalStorage = (key) => {\n  return localStorage.getItem(key);\n};\n\nexport const removeLocalStorage = (key) => {\n  return localStorage.removeItem(key);\n};\n","import Immutable from 'immutable';\nimport {types as authTypes} from './auth.redux';\nimport {types as userTypes} from './users.redux';\nimport {types as groupsTypes, getGroupIds} from './groups.redux';\nimport {getLocalStorage} from \"../utils/utils\";\nimport isEmpty from 'lodash/isEmpty';\n\nconst defaultState = Immutable.fromJS({\n  isRememberAccount: false,\n  deviceStatus: ['transmission', 'online', 'offline'], // 传送中, 在线, 离线\n  deviceType: ['encode', 'wowza'], // encode, wowza\n  selectedItem: '', // 导航条, <select>选中项, group_id\n  selectedMenuItem: '', // <Menu>选中项, device/groups/server.js\n});\n\n// action types\nexport const types = {\n  OPEN_REMEMBER_ACCOUNT: 'UI/OPEN_REMEMBER_ACCOUNT', // 勾选 记住密码 选项\n  CLOSE_REMEMBER_ACCOUNT: 'UI/CLOSE_REMEMBER_ACCOUNT', // 取消勾选 记住密码 选项\n  SET_DEVICE_STATUS: 'UI/SET_DEVICE_STATUS', // 设置展示的设备状态\n  CLEAR_DEVICE_STATUS: 'UI/CLEAR_DEVICE_STATUS', // 清空展示的设备状态\n  SET_DEVICE_TYPE: 'UI/SET_DEVICE_TYPE', // 设置展示的设备类型\n  CLEAR_DEVICE_TYPE: 'UI/CLEAR_DEVICE_TYPE', // 清空展示的设备类型\n  SET_SELECTED_ITEM: 'UI/SET_SELECTED_ITEM', // 设置<select>选中项目\n  SET_SELECTED_MENU_ITEM: 'UI/SET_SELECTED_MENU_ITEM', // 设置<Menu>选中项目\n};\n\n// action creators\nexport const actions = {\n  openRememberAccount: () => ({\n    type: types.OPEN_REMEMBER_ACCOUNT\n  }),\n  closeRememberAccount: () => ({\n    type: types.CLOSE_REMEMBER_ACCOUNT\n  }),\n  setDeviceStatus: (dStatus) => ({\n    type: types.SET_DEVICE_STATUS,\n    dStatus\n  }),\n  clearDeviceStatus: () => ({\n    type: types.CLEAR_DEVICE_STATUS\n  }),\n  setDeviceType: (dType) => ({\n    type: types.SET_DEVICE_TYPE,\n    dType\n  }),\n  clearDeviceType: () => ({\n    type: types.CLEAR_DEVICE_TYPE\n  }),\n  setSelectedItem: (group_id) => ({\n    type: types.SET_SELECTED_ITEM,\n    group_id\n  }),\n  setSelectedMenuItem: (current) => ({\n    type: types.SET_SELECTED_MENU_ITEM,\n    current\n  })\n};\n\n// reducers\nexport default (state = defaultState, action) => {\n  function getLoginSelectedStatus(state, groupsIds) { // 方式1: 登录状态(无组/有组)\n    return state.merge({\n      selectedItem: groupsIds.length ? groupsIds[0] : '',\n      selectedMenuItem: ''\n    });\n  }\n\n  function getRefreshSelectedStatus(state, groupIds) { // 方式2: 刷新页面\n    let selectedItem = getLocalStorage('selectedItem');\n    let selectedMenuItem = getLocalStorage('selectedMenuItem');\n    if (isEmpty(selectedItem)) {\n      return getLoginSelectedStatus(state, groupIds);\n    }\n    return state.merge({selectedItem, selectedMenuItem});\n  }\n\n  function getOperateSelectedStatus(state, group_id) { // 方式三: 操作数组(添加组/删除组)\n    return state.merge({\n      selectedItem: group_id, // 创建组: id/删除组: ''\n      selectedMenuItem: 'device'\n    });\n  }\n\n  switch (action.type) {\n    case types.OPEN_REMEMBER_ACCOUNT:\n      return state.set('isRememberAccount', true);\n    case types.CLOSE_REMEMBER_ACCOUNT:\n      return state.set('isRememberAccount', false);\n    case types.SET_DEVICE_STATUS:\n      return state.merge({deviceStatus: Immutable.fromJS(action.dStatus)}); // 复杂数据类型 []\n    case types.CLEAR_DEVICE_STATUS:\n      return state.merge({deviceStatus: Immutable.fromJS([])}); // 复杂数据类型 []\n    case types.SET_DEVICE_TYPE:\n      return state.merge({deviceType: Immutable.fromJS(action.dType)}); // 复杂数据类型 []\n    case types.CLEAR_DEVICE_TYPE:\n      return state.merge({deviceType: Immutable.fromJS([])}); // 复杂数据类型 []\n    case types.SET_SELECTED_ITEM:\n      return state.set('selectedItem', action.group_id); // 简单数据类型\n    case types.SET_SELECTED_MENU_ITEM:\n      return state.set('selectedMenuItem', action.current); // 简单数据类型\n    case authTypes.LOGIN: // 登录成功\n      return getLoginSelectedStatus(state, action.groupsIds); // 简单数据类型\n    case userTypes.FETCH_USER_INFO: // 刷新页面\n      return getRefreshSelectedStatus(state, action.groupsIds); // 简单数据类型\n    case groupsTypes.CREATE_GROUP: // 创建组\n      return getOperateSelectedStatus(state, action.group_id); // 简单数据类型\n    case groupsTypes.DELETE_GROUP: // 删除组\n      return getOperateSelectedStatus(state, ''); // 简单数据类型\n    default:\n      return state;\n  }\n};\n\n// selector\nexport const isRememberAccount = (state) => state.getIn(['ui', 'isRememberAccount']);\nexport const getDeviceStatus = (state) => state.getIn(['ui', 'deviceStatus']);\nexport const getDeviceType = (state) => state.getIn(['ui', 'deviceType']);\nexport const getSelectedItem = (state) => state.getIn(['ui', 'selectedItem']);\nexport const getSelectedMenuItem = (state) => state.getIn(['ui', 'selectedMenuItem']);\n\n/**\n * 测试参数: 127.0.0.1     8000   auth:D37pAyzwfYTD4P1ZA1ycZ158PBy9zEzs\n * 接收端参数:  127.0.0.1    8087\n * */\n\n\n/**\n * 测试\n * 登录:\n *    : 条件 --- select显示 --- selectedItem --- selectedMenuItem\n *    : 无组 --- '' --- '' --- 'device'\n *    : 有组 * 1 --- firstItem in allIds --- 应该firstItem in allIds --- 'device'\n *    : 有组 * 2 --- firstItem in allIds --- 应该firstItem in allIds --- 'device'\n *\n * 刷新流程: setLocalStorage --- 刷新页面 --- getLocalStorage\n * localstorage:\n *              无组: 刷新 --- '' --- '' --- 'device'\n *              有组 * 1: 刷新 --- firstItem in allIds --- firstItem in allIds --- 'device'默认/'groups'/'server'\n *              有组 * 2: 刷新 --- firstItem in allIds --- firstItem in allIds --- 'device'默认/'groups'/'server'\n *              创建组: 刷新 --- 创建的group_id --- 创建的group_id --- 'device'\n *              删除组: 刷新 ---\n *                            如果数组中还有值: firstItem in allIds --- '' --- 'device'\n *                            如果数组中没有值: '' --- '' --- 'device'\n *\n * 操作组:\n *    创建组: 创建的group_id --- 创建的group_id --- 'device'\n *\n *    删除组:\n *      如果数组中还有值: firstItem in allIds --- '' --- 'device'\n *      如果数组中没有值: '' --- '' --- 'device'\n *\n * 删除组后, selectedItem, 会不会影响刷新\n * */","import Immutable from 'immutable';\n\nconst defaultState = Immutable.fromJS({\n  email: {\n    value: 'x@gmail.com'\n  }\n});\n\n// action types\nexport const types = {\n  SAVE_FIELDS: 'rcform/SAVE_FIELDS',\n};\n\n// action creators\nexport const actions = {\n  setEmail: (payload) => ({\n    type: types.SAVE_FIELDS,\n    payload\n  }),\n};\n\nexport default (state = defaultState, action) => {\n  switch (action.type) {\n    case types.SAVE_FIELDS:\n      return state.merge(Immutable.fromJS(action.payload));\n    default:\n      return state;\n  }\n};\n\n// selectors\nexport const getEmail = (state) => state.getIn(['rcform', 'email']);\n\n/**\n * payload格式: {email: {value: 'chaojundu@diadem-tech.cn'}, name: {value: 'dcj123'}}\n * */","import {combineReducers} from 'redux-immutable';\nimport app from './redux/app.redux';\nimport vcode from './redux/vcode.redux';\nimport auth from './redux/auth.redux';\nimport groups from './redux/groups.redux';\nimport encodes from './redux/encode.redux';\nimport wowzas from './redux/wowza.redux';\nimport wstream from './redux/wstream.redux';\nimport ui from './redux/ui.redux';\nimport response from './redux/response.redux';\n\n// 测试\nimport rcform from './redux/rcform.redux';\n\nexport default combineReducers({\n  app, vcode, auth, groups, encodes, wowzas, wstream, ui, response,\n  rcform, // 测试\n});","import styled from 'styled-components';\n\n// 组 + select + 名字首字母 + 添加组按钮\nexport const NavbarSelect = styled.div`\n  display: flex !important;\n  flex-direction: row !important; // 主轴为水平方向, 起点在左端\n  align-items: center !important; // 在交叉轴上的对齐方式\n  margin-left: auto !important;\n  \n  // background: gold;\n  color: #fff;\n  span {\n    margin-right: 10px;\n    font-weight: 600;\n  }\n`;\n\n// select布局, 包裹antd/select\nexport const SelectLayout = styled.div`\n  width: 234px;\n  height: 40px;\n  margin-right: 20px;\n  background: #343a41;\n  border-radius: 5px;\n  \n  // background: blue;\n`;\n\nexport const AvatarLayout = styled.div`\n  display: flex;\n  align-items: center !important; // 定义项目在交叉轴上的对齐方式\n  justify-content: flex-end; // 定义项目在主轴上的对齐方式方式(尾部对齐)\n`;\n\nexport const UserInfoHeader = styled.div`\n  float: right;\n  margin-right: 28px;\n  overflow: hidden;\n  color: #fff;\n  font-weight: 600; \n  span {  \n    margin-right: 10px;\n  }\n`;\n\n// 注册区域\nexport const RegisterContentLayout = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  overflow-y: auto;\n  width: 750px;\n  height: 100%;\n`;\n\nexport const RegisterArea = styled.div`\n  width: 100%;\n  padding: 10px;\n  background-color: #343a41;\n`;\n\nexport const Title = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 8px;\n  margin-bottom: 10px;\n  font-size: 17.5px;\n  color: #fff;\n`;\n\n// 添加组'按钮'\nexport const AddGroupLayout = styled(AvatarLayout)``;\n\nexport const SpinWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  background-color: blue;\n`;","import React from 'react';\nimport {withRouter} from 'react-router-dom';\nimport {\n  NavbarSelect,\n  SelectLayout,\n  AvatarLayout,\n  RegisterContentLayout,\n  RegisterArea,\n  Title,\n  AddGroupLayout,\n  SpinWrapper\n} from './style';\nimport {Select, Avatar, Icon, Form, Modal, Input, Divider, Empty, Spin, Button} from 'antd';\nimport './style.css';\nimport isEmpty from 'lodash/isEmpty';\nimport Immutable from 'immutable';\nimport browserCookies from 'browser-cookies';\n\n@withRouter\nclass UserInfo extends React.Component {\n  state = {\n    visible: false,\n    selectText: 'dcj123'\n  };\n\n  render() {\n    const {username} = this.props.user;\n    const {groupNameList} = this.props;\n    // console.log('[UserInfo username]', username);\n    return (\n      <NavbarSelect>\n        <span>组</span>\n        <SelectLayout>\n          <GroupSelectForm\n            groupNameList={this.props.groupNameList}\n            onChange={this.handleChange}\n            defaultSelectedItem={this.props.defaultSelectedItem}\n            selectText={this.state.selectText}\n          />\n        </SelectLayout>\n        <AvatarLayout>\n          {/*登录后, 一定会有username*/}\n          {\n            username\n              ? (\n                <Avatar size={40}\n                        style={{border: '2px solid #fff', background: '#212a35'}}\n                >\n                  {username.substring(0, 1).toUpperCase()}\n                </Avatar>\n              )\n              : null\n          }\n        </AvatarLayout>\n        {/*添加组按钮*/}\n        <AddGroupLayout>\n          <Avatar\n            size={40}\n            style={{border: '2px solid #fff', background: '#212a35', cursor: 'pointer'}}\n            onClick={this.showModal}\n          >\n            <Icon type=\"usergroup-add\"/>\n          </Avatar>\n        </AddGroupLayout>\n        {/*删除组*/}\n        {\n          groupNameList.length\n            ? (\n              <AddGroupLayout>\n                <Avatar\n                  size={40}\n                  style={{border: '2px solid #fff', background: '#212a35', cursor: 'pointer'}}\n                  onClick={this.deleteGroup}\n                >\n                  <Icon type=\"usergroup-delete\"/>\n                </Avatar>\n              </AddGroupLayout>\n            )\n            : null\n        }\n        {/*刷新组*/}\n        {\n          groupNameList.length\n            ? (\n              <AddGroupLayout>\n                <Avatar\n                  size={40}\n                  style={{border: '2px solid #fff', background: '#212a35', cursor: 'pointer'}}\n                  onClick={this.refreshGroup}\n                >\n                  <Icon type=\"sync\"/>\n                </Avatar>\n              </AddGroupLayout>\n            )\n            : null\n        }\n\n        {/*删除所有组, 测试用*/}\n        {/*{*/}\n        {/*groupNameList.length*/}\n        {/*? (*/}\n        {/*<AddGroupLayout>*/}\n        {/*<Avatar*/}\n        {/*size={40}*/}\n        {/*style={{border: '2px solid #fff', background: '#212a35', cursor: 'pointer'}}*/}\n        {/*onClick={this.deleteAllGroup}*/}\n        {/*>*/}\n        {/*<Icon type=\"delete\"/>*/}\n        {/*</Avatar>*/}\n        {/*</AddGroupLayout>*/}\n        {/*)*/}\n        {/*: null*/}\n        {/*}*/}\n\n        {/*登出按钮*/}\n        <AddGroupLayout>\n          <Avatar\n            size={40}\n            style={{border: '2px solid #fff', background: '#212a35', cursor: 'pointer'}}\n            onClick={this.logout}\n          >\n            <Icon type=\"logout\"/>\n          </Avatar>\n        </AddGroupLayout>\n        {/*创建组Form*/}\n        <GroupCreateForm\n          wrappedComponentRef={this.saveCreateFormRef}\n          visible={this.state.visible}\n          onCancel={this.handleCancel}\n          onCreate={this.handleCreate}\n        />\n      </NavbarSelect>\n    )\n  }\n\n  handleChange = (value) => {\n    // console.log(`selected ${value}`);\n    this.props.onSelectedItem(value);\n  };\n\n  // 显示窗口\n  showModal = () => {\n    this.setState({visible: true});\n  };\n\n  // 登出\n  logout = () => {\n    const {confirm} = Modal;\n    confirm({\n      title: '退出登录',\n      content: '确定退出登录???',\n      onOk: () => {\n        // console.log('确认');\n        // 1.清空cookie\n        browserCookies.erase('login.user');\n        // 2.调用auth.redux.logout方法\n        this.props.onLogout();\n        // 3.清空localStorage\n        this.props.removeLocalStorage('selectedItem');\n        this.props.removeLocalStorage('selectedMenuItem');\n      },\n      onCancel: () => {\n        console.log('取消');\n      }\n    });\n  };\n\n  // 刷新组(groupNameList为空时, 不显示)\n  refreshGroup = () => {\n    // const {group, group_id} = this.getCurrentGroupData();\n    // if (!isEmpty(group) && !isEmpty(group_id)) {\n    //   this.props.onRefreshGroup({group, group_id});\n    // }\n    window.location.href = window.location.href;\n  };\n\n  // 删除组(groupNameList为空时, 不显示)\n  deleteGroup = () => {\n    const {group, group_id} = this.getCurrentGroupData();\n    const {confirm} = Modal;\n    if (!isEmpty(group) && !isEmpty(group_id)) { // 新用户的group和group_id为空\n      confirm({\n        title: '删除组',\n        content: `确定删除${group}组吗???`,\n        onOk: () => {\n          // 调用删除组api\n          this.props.onDeleteGroup({group, group_id});\n          // 清空localStorage\n          this.props.removeLocalStorage('selectedItem');\n          this.props.removeLocalStorage('selectedMenuItem');\n          // 刷新页面\n          // window.location.href = window.location.href;\n        },\n        onCancel: () => {\n          console.log('取消');\n        }\n      });\n    } else {\n      // 删除的用户不存在\n      console.log('[删除的用户不存在]');\n    }\n  };\n\n  // 删除所有组\n  // deleteAllGroup = () => {\n  //   this.props.onDeleteAllGroup();\n  // };\n\n  getCurrentGroupData = () => {\n    const {groupNameList, selectedItem} = this.props;\n    // console.log('[删除的selectedItem]', selectedItem);\n    const index = groupNameList.findIndex((v) => v.group_id === selectedItem);\n    if (index > -1) {\n      const item = groupNameList[index];\n      const group = item.group;\n      const group_id = item.group_id;\n      return {\n        group,\n        group_id\n      }\n    }\n    return {};\n  };\n\n  // 关闭窗口, 传递给GroupCreateForm组件\n  handleCancel = () => {\n    this.setState({visible: false});\n  };\n\n  handleCreate = () => {\n    // 数据校验, 并调用父组件的addGroup方法\n    const {form} = this.createFormRef.props;\n    form.validateFields((err, values) => {\n      if (err) {\n        return;\n      }\n      // console.log('[Receive values of form]', values);\n      form.resetFields(); // 清空表单\n      this.setState({visible: false});// 隐藏窗口\n      let requestData = {\n        group: values['group'],\n        description: values['group-description'],\n        encodeDevices: [\n          {\n            domain: values['encode-domain'],\n            port: values['encode-port'],\n            auth: values['encode-auth'],\n            recvServicePort: values['encode-recvServicePort']\n          }\n        ],\n        recvStreamServices: [\n          {\n            domain: values['wowza-domain'],\n            port: values['wowza-port']\n          }\n        ]\n      };\n      this.props.onCreateNewGroup(requestData); // home.js传递过来的\n      // 清除localStorage\n      this.props.removeLocalStorage('selectedItem');\n      this.props.removeLocalStorage('selectedMenuItem');\n      // 刷新页面\n      // window.location.href = window.location.href;\n    });\n  };\n\n  saveCreateFormRef = (formRef) => { // 表示GroupCreateForm的实例\n    this.createFormRef = formRef;\n  };\n}\n\n// 下拉菜单Form\nconst GroupSelectForm = Form.create({name: 'group_select_form'})(\n  class extends React.Component {\n    render() {\n      const {getFieldDecorator, setFieldsValue} = this.props.form;\n      const {groupNameList, onChange, defaultSelectedItem, selectText} = this.props;\n\n      return (\n        <div style={{width: '100%'}}>\n          <Select size='large' onChange={onChange} notFoundContent='No Group'\n                  value={defaultSelectedItem || 'Please add a group'}\n                  style={{width: '100%'}}>\n            {\n              groupNameList.map((item) => (\n                <Select.Option\n                  size='large'\n                  value={item.group_id}\n                  key={item.group_id}\n                >\n                  {item.group}\n                </Select.Option>\n              ))\n            }\n          </Select>\n        </div>\n      )\n    }\n  }\n);\n\nclass ModalTitle extends React.Component {\n  render() {\n    return (\n      <div style={{background: ''}}>添加组信息</div>\n    )\n  }\n}\n\n// 创建组Form\nconst GroupCreateForm = Form.create({name: 'group_create_form'})(\n  class extends React.Component {\n    render() {\n      const {visible, onCancel, onCreate, form} = this.props;\n      const {getFieldDecorator} = form;\n      const formItemLayout = {\n        labelCol: {\n          xs: {span: 24},\n          sm: {span: 6, offset: 12},\n        },\n        wrapperCol: {\n          xs: {span: 24},\n          sm: {span: 8},\n        },\n      };\n      return (\n        <Modal\n          visible={visible}\n          title={<ModalTitle/>}\n          okText='添加'\n          cancelText='取消'\n          onOk={onCreate}\n          onCancel={onCancel}\n          width={750}\n          mast={false}\n          className='add-group-modal-dcj'\n          style={{color: 'red'}}\n        >\n          <Spin spinning={false} size='large' tip='Loading...' style={{maxHeight: '100%'}}>\n            <RegisterContentLayout>\n              <RegisterArea>\n                <Form layout='vertical' {...formItemLayout}>\n                  <Title>组信息</Title>\n                  <Form.Item label='组名' style={{lineHeight: '40px', textAlign: 'center !important'}}>\n                    {\n                      getFieldDecorator('group', {\n                        rules: [{required: true, message: 'group is required'}]\n                      })(<Input placeholder='group' size='large'/>)\n                    }\n                  </Form.Item>\n                  <Form.Item label='描述' style={{lineHeight: '40px', textAlign: 'center !important'}}>\n                    {\n                      getFieldDecorator('group-description', {\n                        rules: [{required: true, message: 'description is required'}]\n                      })(<Input placeholder='description' size='large'/>)\n                    }\n                  </Form.Item>\n                  <Divider style={{background: '#212a35'}}/>\n\n                  <Title>编码器设置</Title>\n                  <Form.Item label='编码器服务地址'>\n                    {\n                      getFieldDecorator('encode-domain', {\n                        rules: [{required: true, message: 'domain is required'}],\n                        initialValue: 'zyhh123.eicp.net' // 测试添加组数据\n                      })(<Input placeholder='domain' size='large'/>)\n                    }\n                  </Form.Item>\n                  <Form.Item label='编码器服务端口'>\n                    {\n                      getFieldDecorator('encode-port', {\n                        rules: [{required: true, message: 'port is required'}],\n                        initialValue: 23327 // 测试数据\n                      })(<Input placeholder='port' size='large'/>)\n                    }\n                  </Form.Item>\n                  <Form.Item label='认证auth'>\n                    {\n                      getFieldDecorator('encode-auth', {\n                        rules: [{required: true, message: 'auth is required'}],\n                        initialValue: 'Mf3SXpbwiwsF9dZpDdn34Xpy7SCjPWmX', // 测试数据\n                      })(<Input placeholder='auth' size='large'/>)\n                    }\n                  </Form.Item>\n                  <Form.Item label='接收wowza端的端口'>\n                    {\n                      getFieldDecorator('encode-recvServicePort', {\n                        rules: [{required: true, message: 'recvServicePort is required'}],\n                        initialValue: 12000 // 测试数据\n                      })(<Input placeholder='recvServicePort' size='large'/>)\n                    }\n                  </Form.Item>\n                  <Divider style={{background: '#212a35'}}/>\n\n                  <Title>wowza设置</Title>\n                  <Form.Item label='接收端wowza地址'>\n                    {\n                      getFieldDecorator('wowza-domain', {\n                        rules: [{required: true, message: 'domain is required'}],\n                        initialValue: '127.0.0.1' // 测试数据\n                      })(<Input placeholder='domain' size='large'/>)\n                    }\n                  </Form.Item>\n                  <Form.Item label='接收端wowza端口'>\n                    {\n                      getFieldDecorator('wowza-port', {\n                        rules: [{required: true, message: 'port is required'}],\n                        initialValue: 8087// 测试数据\n                      })(<Input placeholder='port' size='large'/>)\n                    }\n                  </Form.Item>\n                </Form>\n              </RegisterArea>\n            </RegisterContentLayout>\n          </Spin>\n        </Modal>\n      )\n    }\n  }\n);\n\nexport default UserInfo;\n\n/**\n * 设计\n * 1.在创建组Group的时候, 必须输入1台encode编码器设备 和 1台wowza接收服务器设备\n * 2.后续如果设计 1对多(1台wowza对应多个encode编码器设备), 新encode编码器设备, 在对应的组中添加\n * */\n\n/*\n* 创建组: 完成后, 清空localStorage\n* 删除组: 完成后, 清空localStorage, 并刷新页面\n* 需要一个操作组的标志位: loading或添加组, 删除组后的其他操作\n* */\n","import styled from 'styled-components';\n\nexport const FilterLayout = styled.div`\n  position: fixed;\n  width: 260px;\n  height: 100%;\n  background: #212a35;\n`;\n\nexport const FilterExpandLayout = styled.div`\n  padding-right: 20px;\n  height: calc(100% - 74px);\n  background: rgb(9, 11, 12);\n`;\n\n// 过滤标签\nexport const FilterTitle = styled.div`\n  color: #fff;\n  padding: 0 0 7px;\n  font-size: 14px;\n  margin-bottom: 17px;\n`;\n\nexport const FilterLabel = styled.div`\n  padding-top: 18px;\n  padding-bottom: 26px;\n  height: 54px;\n  border-bottom: 1px solid rgb(66,70,78);\n  text-align: left;\n  span {\n    float: right;\n    cursor: pointer;\n    color: rgb(57,134,251);\n  } \n`;","import React from 'react';\nimport {Icon, PageHeader, Form, Checkbox, Row, Col} from 'antd';\nimport {FilterLayout, FilterExpandLayout, FilterTitle, FilterLabel} from './style';\n\nconst IconFont = Icon.createFromIconfontCN({\n  scriptUrl: '//at.alicdn.com/t/font_1113810_o3p2w2mc6i.js'\n});\n\nclass FilterSideBar extends React.Component {\n  render() {\n    const {\n      rawDeviceStatus,\n      rawDeviceType,\n      onSetDeviceStatus,\n      onSetDeviceType,\n      onClearDeviceStatus,\n      onClearDeviceType\n    } = this.props;\n    const filterStateList = [\n      {text: '传送中', value: 'transmission', color: 'red', type: 'icondian1'},\n      {text: '在线', value: 'online', color: 'green', type: 'icondian1'},\n      {text: '离线', value: 'offline', color: 'white', type: 'icondian1'}\n    ];\n    const filterTypeList = [\n      {text: '编码器设备', value: 'encode', color: 'white', type: 'icondiannao'},\n      {text: '接收端wowza', value: 'wowza', color: 'white', type: 'iconshebei'}\n    ];\n    // const rawDeviceStatus = deviceStatus.toJS();\n    // const rawDeviceType = deviceType.toJS();\n    return (\n      <FilterLayout>\n        {/*标题*/}\n        <PageHeader title={\n          <div style={{\n            width: 220,\n            height: 42,\n            color: '#fff',\n            fontSize: '14px',\n            fontWeight: '400',\n            lineHeight: '42px',\n          }}>\n            <Icon type='filter'/>\n            <span style={{marginLeft: 10}}>过滤</span>\n          </div>\n        } style={{background: '#161b21'}}/>\n        {/*过滤表单*/}\n        <FilterExpandLayout>\n          {/*状态过滤*/}\n          <FilterCheckBoxForm\n            name='状态'\n            filterList={filterStateList}\n            defaultChecked={rawDeviceStatus}\n            handleChecked={onSetDeviceStatus}\n            clearFields={onClearDeviceStatus}\n          />\n          {/*种类过滤*/}\n          <FilterCheckBoxForm\n            name='种类'\n            filterList={filterTypeList}\n            defaultChecked={rawDeviceType}\n            handleChecked={onSetDeviceType}\n            clearFields={onClearDeviceType}\n          />\n        </FilterExpandLayout>\n      </FilterLayout>\n    )\n  }\n}\n\n// 匿名checkBox组件\nconst FilterCheckBoxForm = Form.create({name: 'filter_check_box_form'})(\n  class extends React.Component {\n    render() {\n      const {getFieldDecorator} = this.props.form;\n      const {defaultChecked} = this.props;\n      // console.log('[defaultChecked]', defaultChecked);\n      const onChange = (e) => { // ['transmission','online','offline'] / ['encode', 'wowza']\n        // console.log('checked = ', e);\n        this.props.handleChecked(e);\n      };\n      // 重置\n      const resetFilterState = () => {\n        // FilterCheckBoxForm\n        this.props.clearFields();\n        // 使用 setFieldsValue 来动态设置其他控件的值。\n        this.props.form.setFieldsValue({\n          'checkbox-group': []\n        });\n      };\n      return (\n        <Form\n          layout='inline'\n          style={{padding: '16px 0 0 16px'}}\n        >\n          <FilterTitle>\n            <FilterLabel>\n              {this.props.name}\n              <span onClick={resetFilterState}>重置</span>\n            </FilterLabel>\n          </FilterTitle>\n\n          <Form.Item label=''>\n            {\n              getFieldDecorator('checkbox-group', {\n                initialValue: defaultChecked || []\n              })(\n                <Checkbox.Group\n                  style={{width: '100%'}}\n                  onChange={onChange}\n                >\n                  <Row>\n                    {\n                      this.props.filterList.map((item) => (\n                        <Col span={24} style={{height: 54}} key={item.text}>\n                          <Checkbox value={item.value}\n                                    style={{height: 23, color: '#fff', fontSize: '14px'}}\n                          >\n                            <IconFont type={item.type}\n                                      style={{color: item.color, paddingLeft: 2, fontSize: 13}}/>\n                            <span style={{paddingLeft: 10}}>{item.text}</span>\n                          </Checkbox>\n                        </Col>\n                      ))\n                    }\n                  </Row>\n                </Checkbox.Group>\n              )\n            }\n          </Form.Item>\n        </Form>\n      )\n    }\n  }\n);\n\nexport default FilterSideBar;\n\n/**\n * groupCard左侧, checkbox过滤部分\n * */","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {notification} from 'antd';\nimport {actions as appActions} from '../../redux/app.redux';\n\nclass Modal extends React.Component {\n  constructor(props) {\n    super(props);\n    // 根节点下创建一个div节点\n    this.container = document.createElement('div');\n    document.body.appendChild(this.container);\n  }\n\n  componentWillUnmount() {\n    document.body.removeChild(this.container);\n  }\n\n  render() {\n    const {type, message, description} = this.props;\n    return ReactDOM.createPortal(\n      <div>\n        {\n          this.openNotification(type, message, description)\n        }\n      </div>,\n      this.container\n    )\n  }\n\n  openNotification = (type, message, description) => {\n    notification[type]({\n      message,\n      description,\n      duration: 2\n    });\n    // 错误提示框展示后, 清空error\n    this.props.removeError();\n  };\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    ...bindActionCreators(appActions, dispatch)\n  }\n};\n\nexport default connect(null, mapDispatchToProps)(Modal);\n\n/**\n * ReactDOM.createPortal(参数1, 参数2)\n * 1.参数1: React元素\n * 2.参数2: DOM元素, React元素将被挂载到这个DOM节点\n * */","import Immutable from 'immutable';\nimport {getGroupIds, getGroupById} from './groups.redux';\nimport {getEncodeIdsByGroup, getEncodeById} from './encode.redux';\nimport {getWowzaIdsByGroup, getWowzaById} from './wowza.redux';\nimport {getWowzaStreamInfoByGroup, getWowzaInfoById} from './wstream.redux';\nimport {getSelectedItem, getSelectedMenuItem} from './ui.redux';\nimport {getLoggedUser} from './auth.redux';\nimport {getLocalStorage} from '../utils/utils';\nimport isEmpty from 'lodash/isEmpty';\n\n// 获取所有组的名字\nexport const getGroupNameList = (state) => {\n  const allIds = getGroupIds(state);\n  return allIds.map(id => {\n    const group = getGroupById(state, id).get('group');\n    const group_id = getGroupById(state, id).get('group_id');\n    return Immutable.fromJS({\n      group,\n      group_id\n    });\n  });\n};\n\n// 获取某一个组下的所有encodes\nexport const getEncodesListByGroupId = (state, group_id) => {\n  const encodeIds = getEncodeIdsByGroup(state, group_id);\n  if (encodeIds) {\n    return encodeIds.map((id) => {\n      const encode = getEncodeById(state, id);\n      return encode;\n    });\n  } else {\n    return Immutable.List();\n  }\n};\n\n// 获取某一个组下的所有wowzas\nexport const getWowzasListByGroupId = (state, group_id) => {\n  const wowzaIds = getWowzaIdsByGroup(state, group_id);\n  if (wowzaIds) {\n    return wowzaIds.map((id) => {\n      const wowza = getWowzaById(state, id);\n      return wowza;\n    });\n  } else {\n    return Immutable.List();\n  }\n};\n\n// 获取某一个组\nexport const getSingleGroupByGroupId = (state, group_id) => {\n  const group = getGroupById(state, group_id);\n  if (group) {\n    return Immutable.fromJS(group);\n  } else {\n    return Immutable.fromJS({});\n  }\n};\n\n// 获取某一组的信息\nexport const getGroupListByGroupId = (state, group_id) => {\n  const encodes = getEncodesListByGroupId(state, group_id);\n  const wowzas = getWowzasListByGroupId(state, group_id);\n  const group = getSingleGroupByGroupId(state, group_id);\n  return group.merge({\n    encodeDevices: encodes,\n    recvStreamServices: wowzas\n  });\n};\n\n// // 获取某一组下的单个wowza流信息\n// export const getSingleGroupWowzaStreamInfo = (state, group_id) => {\n//   const allWowzaIds = getWowzaStreamInfoByGroup(state, group_id);\n//   if (allWowzaIds) {\n//     return allWowzaIds.map((id) => {\n//       return getWowzaInfoById(state, id);\n//     });\n//   } else {\n//     return Immutable.List();\n//   }\n// };\n\n// 获取某一组下的单个wowza流信息\nexport const getSingleGroupWowzaStreamInfo = (state) => {\n  const currentSelectedItem = getSelectedItem(state); // group_id\n  if (currentSelectedItem) {\n    const allWowzaIds = getWowzaStreamInfoByGroup(state, currentSelectedItem);\n    if (allWowzaIds) {\n      return allWowzaIds.map((id) => {\n        return getWowzaInfoById(state, id);\n      });\n    }\n  }\n  return Immutable.fromJS([]);\n};\n\n// 根据selectedItem来整合单一组信息\nexport const getSingleGroupBySelectedItem = (state) => {\n  // const currentSelectedItem = getSelectedItem(state);\n  const currentSelectedItem = getSelectedItemToUse(state);\n  // console.log('[currentSelectedItem]', currentSelectedItem);\n  if (currentSelectedItem) {\n    // 获取单一组, 包装成API的样子\n    const group = getSingleGroupByGroupId(state, currentSelectedItem);\n    const encodes = getEncodesListByGroupId(state, currentSelectedItem);\n    const wowzas = getWowzasListByGroupId(state, currentSelectedItem);\n    return group.merge({\n      encodeDevices: encodes,\n      recvStreamServices: wowzas\n    });\n  } else {\n    return Immutable.fromJS({});\n  }\n};\n\n// 计算<selected>的默认项目\nexport const getDetaultSelectedItem = (state) => {\n  const selectedItem = getLocalStorage('selectedItem'); // TODO: 问题出在这里\n\n  if (selectedItem) {\n    const allIds = getGroupIds(state);\n    const index = allIds.findIndex((v) => v === selectedItem);\n    return (index >= 0) ? getGroupById(state, selectedItem).get('group') : '';\n  } else {\n    const groupList = getGroupNameList(state);\n    // console.log('[defaultGroupNameList]', groupList.size ? groupList.first().get('group') : '');\n    return groupList.size ? groupList.first().get('group') : '';\n  }\n};\n\n// 根据selectedItem, 返回可用的选中项\nexport const getSelectedItemToUse = (state) => {\n  const currentSelectedItem = getSelectedItem(state);\n\n  // 当无组, 删除组时, selectedItem === ''\n  const allIds = getGroupIds(state);\n  const index = allIds.findIndex((v) => v === currentSelectedItem);\n\n  // console.log('[计算selectedItem]', currentSelectedItem, index);\n\n  if (index >= 0) {\n    return currentSelectedItem;\n  }\n\n  if (index < 0 && allIds.size) { // 删除组\n    return allIds.first();\n  }\n\n  return ''; // 没有组\n};\n\n// 根据可用的选中项, 获取group, 组名\nexport const getDetaultGroup = (state) => {\n  const useSelectedItem = getSelectedItemToUse(state);\n  const group = getGroupById(state, useSelectedItem);\n  if (!isEmpty(group)) {\n    return group.get('group');\n  } else {\n    return '';\n  }\n};\n\n// 根据selectedMenuItem, 返回可用的跳转项\nexport const getSelectedMenuItemToUse = (state) => {\n  const currentSelectedMenuItem = getSelectedMenuItem(state);\n  const selectedMenuItem = getLocalStorage('selectedMenuItem');\n  // console.log('[根据selectedMenuItem, 返回可用的跳转项]', currentSelectedMenuItem, selectedMenuItem);\n  if (!isEmpty(currentSelectedMenuItem)) { // currentSelectedMenuItem是否为空(是不是登录/刷新状态)\n    return currentSelectedMenuItem;\n  }\n\n  if (!isEmpty(selectedMenuItem)) { // 刷新页面, 当前是登录状态, 还是刷新状态\n    return selectedMenuItem;\n  }\n\n  // 登录状态('', 且localStorage的selectedMenuItem为空)\n  return 'device';\n\n  // 登录/刷新, selectedMenuItem都返回''\n  // 三种状态:\n  //\n};\n\n// 根据可用的跳转项, 制作跳转路径, useRedirectTo\nexport const getUseRedirectTo = (state) => {\n  const useSelectedMenuItem = getSelectedMenuItemToUse(state);\n  return `/home/${useSelectedMenuItem}`;\n};\n\n// 获取username\nexport const getUserName = (state) => {\n  let username = getLoggedUser(state).get('username');\n  return username || getLocalStorage('login.user');\n  /*\n  * user/username三种状态:\n  * 1.默认状态/加载前状态: username: ''\n  * 2.加载完成, 有值: username: 'adinno'\n  * 3.刷新: 从cookie中获取'login.user'\n  * */\n};\n\n/**\n * 参数group_id都从ui.redux.js中的selectedItem字段来获取\n * */\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport videojs from 'video.js';\nimport '../../../node_modules/video.js/dist/video-js.css'; // 导入后, 可设置width和height等属性; 不导入, 有测试界面\n\nclass SPlayer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.player = React.createRef();\n  }\n\n  static propTypes = {\n    url: PropTypes.string.isRequired,\n    eventOn: PropTypes.object.isRequired,\n    width: PropTypes.string.isRequired,\n    height: PropTypes.string.isRequired,\n    posters: PropTypes.string.isRequired\n  };\n\n  render() {\n    return (\n      <div>\n        <video\n          className='video-js'\n          data-setup='{}'\n          poster={this.props.posters}\n          ref={this.player}\n          autoPlay\n          controls\n        />\n      </div>\n    )\n  }\n\n  componentDidMount() {\n    const {eventOn} = this.props;\n    const videoNode = this.player.current;\n\n    this.video = videojs(videoNode, {\n      sources: [{\n        src: this.props.url,\n      }],\n      width: this.props.width,\n      height: this.props.height,\n    });\n\n    // 事件监听\n    Object.keys(eventOn).forEach((item) => {\n      this.video.on(item, () => {\n        eventOn[item]();\n      })\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.video) {\n      this.video.dispose();\n    }\n  }\n}\n\nexport default SPlayer;\n\n// 参数默认值\nSPlayer.defaultProps = {\n  // url: 'http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4',\n  url: '',\n  width: '340px',\n  height: '250px',\n};\n\n/**\n * 对video.js封装\n * 1.videojs(参数1, 参数2)\n * 参数1: 应该是一个dom节点, 通过React的ref来获取\n * 参数2: 设置播放器的参数配置\n *\n * 2.在componentWillUnmount(){}是销毁this.video\n *\n * 3.定义接口 --- 让<SPlayer/>可传入属性与参数\n * (1)传入属性值: eg: url\n * (2)事件监听:\n * videojs.on('事件名称', function(){...});\n * (3)事件监听应该从父元素传入\n *\n * 4.在父元素中操控播放器: 播放/停止按钮\n *\n * 5.videojs有picture-in-picture的小窗口播放的功能, 后续根据滚动的距离来判断是否开启小窗口播放的功能.\n *\n * 6.播放器参数设置: https://segmentfault.com/a/1190000018914486\n *\n * 7.将videojs, 以及在react中使用videojs总结到github中去\n *\n * 8.一款基于react的videojs插件: video-react\n *\n * 9.videojs的宽度/高度设置不起作用 --- 原因: 没有导入css文件\n *\n * 10.\n * */","import styled from 'styled-components';\n\nexport const EncodesDetails = styled.div`\n  display: flex;\n  flex-direction: column !important; // 主轴为垂直方向, 起点在上沿\n  height: 100% !important;\n  padding-left: 20px;\n  padding-right: 20px;\n  \n  // background: red;\n`;\n\n// 头部信息\nexport const Header = styled.div`\n  display: flex;\n  align-items: center; // 在交叉轴上的对齐方式\n  max-height: 40px;\n  min-height: 40px;\n  border-bottom: 1px solid #545860;\n  margin-bottom: 10px;\n  color: #fff;\n  .title {\n    padding-left: 10px;\n    width: auto;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  \n  .auto {\n    margin-left: auto !important;    \n  } \n  \n  // background: gold;\n`;\n\n// 滚动区域\nexport const ScrollArea = styled.div`\n  display: flex;\n  flex-direction: column !important; // 主轴为垂直方向, 起点为上沿\n  overflow-y: auto;\n  scroll-behavior: smooth;\n`;\n\n// 放置播放器的容器\nexport const VideoDiv = styled.div`\n  position: relative !important;\n  width: 100%;\n  height: 170px;\n  min-height: 170px;\n  background-color: gold;\n  margin-bottom: 15px;\n`;\n\n// Setting 推流参数(播放器下)\nexport const Setting = styled.div`\n  display: flex !important;\n  flex-direction: column !important;\n  flex-shrink: 0; // 当主轴空间不足时, 项目不缩放\n  min-height: 320px;\n  margin-bottom: 15px;\n  background-color: #343a41;  \n`;\n\n// Setting中的内容采用Grid布局\nexport const SettingLayout = styled.div`\n  display: grid;\n  grid-template-columns: 30% 70%;\n  grid-auto-rows: 40px; // 自动生成多余网格(一行中未放置的地方, 自动生成网格)\n  grid-row-gap: 20px; // 行间隙\n  align-items: center; // 在交叉轴上的对齐方式\n  padding: 20px;\n  text-align: left;\n  color: #fff;\n  font-weight: 400;\n  font-size: 14px;\n`;\n\n// 注册布局, 弹窗\nexport const RegisterContentLayout = styled.div`\n  display: flex;\n  flex: 1 1 auto;\n  // overflow-y: auto;\n`;\n\n// 注册区域, 弹窗\nexport const RegisterArea = styled.div`\n  width: 100%;\n  padding: 10px;\n  background-color: #343a41;\n`;\n\n// 修改Group信息, 弹窗标题\nexport const Title = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 8px;\n  margin-bottom: 10px;\n  font-size: 17.5px;\n  color: #fff;\n`;","import React from 'react';\nimport {withRouter} from 'react-router-dom';\nimport SPlayer from '../splayer/splayer';\nimport {Icon, Form, Modal, Input} from 'antd';\nimport {\n  EncodesDetails,\n  Header,\n  ScrollArea,\n  VideoDiv,\n  Setting,\n  SettingLayout,\n  RegisterContentLayout,\n  RegisterArea,\n  Title\n} from './style';\n\n\n@withRouter\nclass GroupEncodeSidebar extends React.Component {\n  state = {\n    visible: false\n  };\n\n  render() {\n    const {data, item_id} = this.props;\n    const encodes = data.encodeDevices; // encode数组\n    const index = encodes.findIndex((item) => item.id === item_id);\n    let item = {};\n    if (index > -1) {\n      item = encodes[index];\n    }\n    // console.log('[GroupEncodeSidebar data]', item);\n    return (\n      <EncodesDetails>\n        {/*头部*/}\n        <Header>\n          <Icon type='desktop'/>\n          <span className='title'>{item.domain}</span>\n          <span className='auto'></span>\n          <Icon type='setting' theme=\"filled\" style={{marginRight: 5}} onClick={this.showModal}/>\n          <Icon type='ellipsis' rotate={90} onClick={() => console.log('icon modify')}/>\n        </Header>\n        {/*滚动区域*/}\n        <ScrollArea>\n          <VideoDiv>\n            <SPlayer\n              posters={require(`./img/poster.jpg`)}\n              width={'425'}\n              height={'170'}\n              // url={'http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4'} // 流地址\n              eventOn={this.handleEventOn()}\n            />\n          </VideoDiv>\n          <Setting>\n            <SettingLayout>\n              {/*<span>id</span>*/}\n              {/*<div>{item.id ? item.id : 'null'}</div>*/}\n              <span>domain</span>\n              <div>{item.domain ? item.domain : 'null'}</div>\n              <span>port</span>\n              <div>{item.port ? item.port : 'null'}</div>\n              <span>auth</span>\n              <div>{item.auth ? item.auth : 'null'}</div>\n              <span>recvServicePort</span>\n              <div>{item.recvServicePort ? item.recvServicePort : 'null'}</div>\n              <span>state</span>\n              <div>{item.state ? item.state : 'null'}</div>\n              <span>eMessage</span>\n              <div>{item.eMessage ? item.eMessage : '没有错误'}</div>\n            </SettingLayout>\n          </Setting>\n        </ScrollArea>\n        {/*修改GroupInfo*/}\n        <ModifyGroupForm\n          wrappedComponentRef={this.saveModifyGroupFormRef}\n          visible={this.state.visible}\n          onCreate={this.handleCreate}\n          onCancel={this.handleCancel}\n          item={item}\n        />\n      </EncodesDetails>\n    )\n  }\n\n  handleEventOn = () => {\n    return {\n      play: () => {\n        // console.log('[播放]');\n      },\n      pause: () => {\n        // console.log('[暂停]');\n      }\n    }\n  };\n\n  // ModifyGroupForm实例\n  saveModifyGroupFormRef = (formRef) => {\n    this.modifyGroupFormRef = formRef;\n  };\n\n  // 弹出修改Group弹窗\n  showModal = () => {\n    this.setState({visible: true});\n  };\n\n  // 弹窗'添加'按钮响应\n  handleCreate = () => {\n    const form = this.modifyGroupFormRef.props.form;\n    form.validateFields((err, values) => {\n      if (err) {\n        return;\n      }\n      console.log('[Receive values of form 编码器]', values);\n      form.resetFields(); // 清空表单\n      this.setState({visible: false}); // 隐藏弹窗\n      // 发送修改Group请求\n      const data = this.props.data;\n      let requestData = {\n        group: data.group,\n        description: data.description,\n        encodeDevices: [\n          {\n            domain: values.domain,\n            port: values.port,\n            auth: values.auth,\n            recvServicePort: values.recvServicePort\n          }\n        ],\n        recvStreamServices: [ // 暂时先这么写\n          {\n            domain: data.recvStreamServices[0].domain,\n            port: data.recvStreamServices[0].port\n          }\n        ]\n      };\n      this.props.onModify(requestData);\n    });\n  };\n\n  // 弹窗'取消'按钮响应\n  handleCancel = () => {\n    this.setState({visible: false});\n  };\n}\n\nconst ModifyGroupForm = Form.create({name: 'modify_group_form'})(\n  class extends React.Component {\n    render() {\n      const {visible, onCreate, onCancel, item} = this.props;\n      const {getFieldDecorator} = this.props.form;\n      const formItemLayout = {\n        labelCol: {\n          xs: {span: 24},\n          sm: {span: 4, offset: 12},\n        },\n        wrapperCol: {\n          xs: {span: 24},\n          sm: {span: 8},\n        },\n      };\n      return (\n        <Modal\n          visible={visible}\n          title='修改编码器'\n          okText='添加'\n          cancelText='取消'\n          onOk={onCreate}\n          onCancel={onCancel}\n          width={820}\n          mast={false}\n          className='add-group-modal-dcj'\n        >\n          <RegisterContentLayout>\n            <RegisterArea>\n              <Form layout='vertical' {...formItemLayout}>\n                <Title>编码器</Title>\n                <Form.Item label='domain'\n                           style={{lineHeight: '40px', textAlign: 'center !important'}}>\n                  {\n                    getFieldDecorator('domain', {\n                      rules: [{required: true, message: 'domain is required'}],\n                      initialValue: item.domain || 0\n                    })(<Input placeholder='domain' size='large'/>)\n                  }\n                </Form.Item>\n                <Form.Item label='port'\n                           style={{lineHeight: '40px', textAlign: 'center !important'}}>\n                  {\n                    getFieldDecorator('port', {\n                      rules: [{required: true, message: 'port is required'}],\n                      initialValue: item.port || 0\n                    })(<Input placeholder='port' size='large'/>)\n                  }\n                </Form.Item>\n                <Form.Item label='auth'\n                           style={{lineHeight: '40px', textAlign: 'center !important'}}>\n                  {\n                    getFieldDecorator('auth', {\n                      rules: [{required: true, message: 'auth is required'}],\n                      initialValue: item.auth || 0\n                    })(<Input placeholder='auth' size='large'/>)\n                  }\n                </Form.Item>\n                <Form.Item label='recvServicePort'\n                           style={{lineHeight: '40px', textAlign: 'center !important'}}>\n                  {\n                    getFieldDecorator('recvServicePort', {\n                      rules: [{required: true, message: 'recvServicePort is required'}],\n                      initialValue: item.recvServicePort || 0\n                    })(<Input placeholder='recvServicePort' size='large'/>)\n                  }\n                </Form.Item>\n              </Form>\n            </RegisterArea>\n          </RegisterContentLayout>\n        </Modal>\n      )\n    }\n  }\n);\n\nexport default GroupEncodeSidebar;","import styled from 'styled-components';\n\nexport const WowzasDetails = styled.div`\n  display: flex;\n  flex-direction: column !important; // 主轴为垂直方向, 起点为上沿\n  height: 100% !important;\n  padding-left: 20px;\n  padding-right: 20px;\n  // background: red;\n`;\n\n// 头部\nexport const Header = styled.div` \n  // 不设置, 默认主轴方向是水平方向\n  display: flex; \n  align-items: center; // 在交叉轴上的对齐方式\n  min-height: 40px;\n  max-height: 40px;\n  border-bottom: 1px solid #545860;\n  margin-bottom: 10px;\n  color: #fff;\n  .title {\n    padding-left: 10px;\n    width: auto;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .auto {\n    margin-left: auto !important;\n  }\n`;\n\nexport const PageContentSidebar = styled.div`\n  padding-left: 20px;\n  padding-right: 20px;\n  display: flex;\n  flex-direction: column !important;\n  height: 100% !important;\n  \n  // background: red;\n`;\n\n// Setting\nexport const Setting = styled.div`\n  display: flex;\n  flex-direction: column !important; // 主轴为垂直方向, 起点为上沿\n  flex-shrink: 0; // 当主轴空间不足时, 不缩放\n  min-height: 320px;\n  margin-bottom: 15px;\n  background: #343a41;\n`;\n\n// Setting中的内容采用Grid布局\nexport const SettingLayout = styled.div`\n  display: grid;\n  grid-template-columns: 30% 70%;\n  grid-auto-rows: 40px; // 一行中未放置的地方, 自动生成网格\n  grid-row-gap: 20px; // 行间隙\n  align-items: center; // 在交叉轴上的对齐方式 \n  padding: 20px;\n  text-align: left;\n  color: #fff;\n  font-weight: 400;\n  font-size: 14px;\n`;\n\n// 注册布局, 弹窗\nexport const RegisterContentLayout = styled.div`\n  display: flex;\n  flex: 1 1 auto; // 当主轴空间不足时, 缩放;当主轴空间多余时, 放大;\n`;\n\n// 注册区域, 弹窗\nexport const RegisterArea = styled.div`\n  width: 100%;\n  padding: 10px;\n  background-color: #343a41;\n`;\n\n// 标题\nexport const Title = styled.div`\n  display: flex;\n  flex-wrap: wrap; // 当轴线排不下时, 自动换到下一行\n  margin-top: 8px;\n  margin-bottom: 10px;\n  font-size: 17.5px;\n  color: #fff;\n`;\n\n// 展示wowza服务器流信息\nexport const WowzaInfo = styled(Setting)``;\n\nexport const WowzaInfoLayout = styled(SettingLayout)``;","import React, {Fragment} from 'react';\nimport {Form, Icon, Modal, Input} from 'antd';\nimport {\n  WowzasDetails,\n  Header,\n  Setting,\n  SettingLayout,\n  RegisterContentLayout,\n  RegisterArea,\n  Title,\n  WowzaInfo,\n  WowzaInfoLayout\n} from './style';\n\nclass GroupWowzaSidebar extends React.Component {\n  state = {\n    visible: false\n  };\n\n  render() {\n    const {data, item_id, wowzaStreamInfo} = this.props;\n    const wowzas = data.recvStreamServices;\n    const rawWowzaStreamInfo = wowzaStreamInfo.toJS(); // 返回的是一个List, 数组\n    // const rawWowzaStreamInfoObj = rawWowzaStreamInfo[0]; // 当前数组中只有1个wowza信息, 暂时先这么写\n    const index = wowzas.findIndex((item) => item.id === item_id);\n    let item = {};\n    if (index > -1) {\n      item = wowzas[index];\n    }\n    // console.log('[GroupWowzaSidebar rawWowzaStreamInfo]', rawWowzaStreamInfo);\n    return (\n      <WowzasDetails>\n        {/*头部*/}\n        <Header>\n          <Icon type='database'/>\n          <span className='title'>{item.domain}</span>\n          <span className='auto'></span>\n          <Icon type='setting' theme='filled' style={{marginRight: 5}} onClick={this.showModal}/>\n          <Icon type='ellipsis' rotate={90} onClick={() => console.log('保留')}/>\n        </Header>\n        <Setting>\n          <SettingLayout>\n            {/*<span>id</span>*/}\n            {/*<div>{item.id ? item.id : 'null'}</div>*/}\n            <span>domain</span>\n            <div>{item.domain ? item.domain : 'null'}</div>\n            <span>port</span>\n            <div>{item.port ? item.port : 'null'}</div>\n            <span>state</span>\n            <div>{item.state ? item.state : 'null'}</div>\n            <span>eMessage</span>\n            <div>{item.eMessage ? item.eMessage : '没有错误'}</div>\n          </SettingLayout>\n        </Setting>\n        {/*修改GroupInfo*/}\n        <ModifyGroupForm\n          wrappedComponentRef={this.saveModifyGroupFormRef}\n          visible={this.state.visible}\n          onCreate={this.handleCreate}\n          onCancel={this.handleCancel}\n        />\n        <WowzaInfo>\n          <WowzaInfoLayout>\n            {\n              rawWowzaStreamInfo.map((item) => (\n                <Fragment key={item.id}>\n                  <span>bytesIn</span>\n                  <div>{item.bytesIn} 字节</div>\n                  <span>bytesInRate</span>\n                  <div>{item.bytesInRate} 字节/秒</div>\n                  <span>totalConnections</span>\n                  <div>{item.totalConnections}</div>\n                  <span>bytesOut</span>\n                  <div>{item.bytesOut} 字节</div>\n                  <span>bytesOutRate</span>\n                  <div>{item.bytesOutRate} 字节/秒</div>\n                </Fragment>\n              ))\n            }\n          </WowzaInfoLayout>\n        </WowzaInfo>\n      </WowzasDetails>\n    )\n  }\n\n  componentDidMount() {\n    console.log('[GroupWowzaSidebar componentDidMount]');\n    const {group, group_id, recvStreamServices} = this.props.data;\n    const recvStreamServices_id = recvStreamServices[0].id;\n    this.props.onFetchWowzaInfo({group, group_id, recvStreamServices_id});\n  }\n\n  // ModifyGroupForm实例\n  saveModifyGroupFormRef = (formRef) => {\n    this.modifyGroupFormRef = formRef;\n  };\n\n  // 显示弹窗\n  showModal = () => {\n    this.setState({visible: true});\n  };\n\n  // 弹窗'添加'按钮响应\n  handleCreate = () => {\n    const form = this.modifyGroupFormRef.props.form;\n    form.validateFields((err, values) => {\n      if (err) {\n        return;\n      }\n      console.log('[Receive values of form Wowza]', values);\n      form.resetFields(); // 清空表单\n      this.setState({visible: false}); // 隐藏弹窗\n      // 发送修改Group请求\n      const data = this.props.data;\n      const requestData = {\n        group: data.group,\n        description: data.description,\n        encodeDevices: [\n          {\n            domain: data.encodeDevices[0].domain,\n            port: data.encodeDevices[0].port,\n            auth: data.encodeDevices[0].auth,\n            recvServicePort: data.encodeDevices[0].recvServicePort\n          }\n        ],\n        recvStreamServices: [\n          {\n            domain: values.domain,\n            port: values.port\n          }\n        ]\n      };\n      console.log('[GroupWowzaSidebar 修改后的数据]', requestData);\n\n      this.props.onModify(requestData);\n    });\n  };\n\n  // 弹窗'取消'按钮响应\n  handleCancel = () => {\n    this.setState({visible: false});\n  };\n}\n\nconst ModifyGroupForm = Form.create({name: 'modify_group_form'})(\n  class extends React.Component {\n    render() {\n      const {getFieldDecorator} = this.props.form;\n      const {visible, onCreate, onCancel} = this.props;\n      const formItemLayout = {\n        labelCol: {\n          xs: {span: 24},\n          sm: {span: 4, offset: 12},\n        },\n        wrapperCol: {\n          xs: {span: 24},\n          sm: {span: 8},\n        },\n      };\n      return (\n        <Modal\n          visible={visible}\n          title='修改wowza'\n          okText='添加'\n          cancelText='取消'\n          onOk={onCreate}\n          onCancel={onCancel}\n          width={820}\n          mask={false}\n          className='add-group-modal-dcj'\n        >\n          <RegisterContentLayout>\n            <RegisterArea>\n              <Form layout='vertical' {...formItemLayout}>\n                <Title>Wowza</Title>\n                <Form.Item label='domain'>\n                  {\n                    getFieldDecorator('domain', {\n                      rules: [{required: true, message: 'domain is required'}]\n                    })(<Input placeholder='domain' size='large'/>)\n                  }\n                </Form.Item>\n                <Form.Item label='port'>\n                  {\n                    getFieldDecorator('port', {\n                      rules: [{required: true, message: 'port is required'}]\n                    })(<Input placeholder='port' size='large'/>)\n                  }\n                </Form.Item>\n              </Form>\n            </RegisterArea>\n          </RegisterContentLayout>\n        </Modal>\n      )\n    }\n  }\n);\n\nexport default GroupWowzaSidebar;","import styled from 'styled-components';\n\nexport const UnitDetailsLayout = styled.div`\n  display: grid;\n  height: 100%;\n  grid-template-columns: auto 455px; // 列宽\n  grid-template-rows: 40px calc(100% - 40px - 10px); // 行高, 10px是底部间隙\n  grid-column-gap: 42px; // 列间隙\n  grid-row-gap: 20px; // 行间隙\n  grid-template-areas: \"unitdetails-header-grid unitdetails-header-unit\" \"unitdetails-page-content unitdetails-page-content\";\n  padding: 20px;\n`;\n\n// 左上\nexport const UnitDetailsHeaderGrid = styled.div`\n  grid-area: unitdetails-header-grid;\n  display: flex;\n  flex-flow: raw nowrap;\n  justify-content: center !important;\n  align-items: center !important;\n  color: #fff;\n  background-color: #212a35;\n`;\n\n// 右上\nexport const UnitDetailsHeaderUnit = styled.div`\n  grid-area: unitdetails-header-unit;\n  display: flex;\n  flex-flow: raw nowrap;\n  justify-content: center !important;\n  align-items: center !important;\n  color: #fff;\n  background-color: #212a35;\n`;\n\n// 左下 + 右下\nexport const UnitDetailsPageContent = styled.div`\n  grid-area: unitdetails-page-content;\n  display: flex;\n`;\n\n// 表格\nexport const ContentGrid = styled.div`\n  flex: 1 1 auto; // flex-grow, flex-shrink 和 flex-basis\n  width: 1px; // 最小宽度为1px\n`;\n\n// 3个点 + 显示内容\nexport const GridPosition = styled.div`\n  height: 100% !important;\n  position: relative; // 定位组件, 给下面3个点绝对定位做基准\n`;\n\n// 3个点\nexport const MenuButton = styled.div`\n\n`;\n\n// 显示内容\nexport const BodyLayout = styled.div`\n  height: 100%;\n  color: #fff;\n  border-radius: 7px;\n  background: #212a35;\n  overflow: hidden;\n  position: relative;\n`;\n\n/*\n* flex: 1 1 auto; // flex-grow, flex-shrink 和 flex-basis\n* 1.优先使用这个属性: flex: 1 1 auto; / flex: 0 0 auto;\n* 2.flex-grow: 项目放大比例, 作用于自身.\n*   0: 表示存在剩余空间, 也不放大\n*   1: 表示存在剩余空间, 等分剩余空间\n* 3.flex-shrink: 项目缩小比例, 作用于自身.\n*   0: 表示当空间不足时, 也不缩小\n*   1: 表示当空间不足时, 等比缩小\n* 4.flex-basis:\n*   auto: 项目本来的大小\n* */\n\n// 分割线\nexport const ContentDivider = styled.div`\n  width: 2px;\n  height: 100%;\n  margin-right: 20px;\n  margin-left: 20px;\n  background: #545860;\n`;\n\n// 详细信息\nexport const ContentSidebar = styled.div`\n  width: 455px;\n  overflow-y: auto;\n  border-radius: 7px;\n  background: #212a35;\n  will-change: width;\n  transition: all .5s;\n`;","import React from 'react';\nimport {withRouter, Route, Redirect} from 'react-router-dom';\nimport GroupEncodeSidebar from '../groupEncodeSidebar/groupEncodeSidebar'; // encode详情\nimport GroupWowzaSidebar from '../groupWowzaSidebar/groupWowzaSidebar'; // wowza详情\nimport {Icon, Table} from \"antd\";\nimport {\n  UnitDetailsLayout,\n  UnitDetailsHeaderGrid,\n  UnitDetailsHeaderUnit,\n  UnitDetailsPageContent,\n  ContentGrid,\n  ContentDivider,\n  ContentSidebar,\n  GridPosition,\n  MenuButton,\n  BodyLayout\n} from './style';\nimport './style.css';\n\n@withRouter\nclass DevicePage extends React.Component {\n  render() {\n    const match = this.props.match;\n    const requestQuantity = this.props.requestQuantity;\n    const singleGroup = this.props.singleGroup; // 普通js对象类型\n    const wowzaStreamInfo = this.props.wowzaStreamInfo;\n    const encodes = singleGroup.encodeDevices;\n    const wowzas = singleGroup.recvStreamServices;\n    const encodesWrapper = this.addComponentToArray(encodes, GroupEncodeSidebar);\n    const wowzasWrapper = this.addComponentToArray(wowzas, GroupWowzaSidebar);\n    const mergeData = [...encodesWrapper, ...wowzasWrapper];\n    // console.log('[DevicePage mergeData]', mergeData);\n    console.log('[requestQuantity]', requestQuantity);\n    return (\n      <UnitDetailsLayout>\n        <UnitDetailsHeaderGrid>\n          设备 > 设备列表\n        </UnitDetailsHeaderGrid>\n        <UnitDetailsHeaderUnit>\n          添加/刷新设备\n        </UnitDetailsHeaderUnit>\n        <UnitDetailsPageContent>\n          {/*左侧*/}\n          <ContentGrid>\n            <GridPosition>\n              <MenuButton/>\n              {/*使用Table, 展示数据*/}\n              <BodyLayout id='device-page-table'>\n                <Table\n                  columns={this.getColumnList()}\n                  dataSource={mergeData}\n                  pagination={false}\n                  rowKey={record => record.id}\n                  loading={requestQuantity ? true : false}\n                  onRow={record => {\n                    return {\n                      onClick: (event) => {\n                        this.props.history.push(`${match.url}/${record.id}`);\n                      }\n                    }\n                  }}\n                  style={{height: '100% !important'}}\n                />\n              </BodyLayout>\n            </GridPosition>\n          </ContentGrid>\n          {/*分割线*/}\n          <ContentDivider/>\n          {/*右侧*/}\n          <ContentSidebar>\n            {\n              mergeData.map((item) => {\n                return (\n                  <Route\n                    key={item.id}\n                    path={`${match.url}/${item.id}`}\n                    render={() => {\n                      return (\n                        <item.component\n                          data={singleGroup}\n                          item_id={item.id}\n                          onModify={this.props.onModify}\n                          onFetchWowzaInfo={this.props.onFetchWowzaInfo}\n                          wowzaStreamInfo={wowzaStreamInfo}\n                        />\n                      )\n                    }}/>\n                )\n              })\n            }\n          </ContentSidebar>\n          {/*默认: /home/device*/}\n          {\n            mergeData.length ? <Redirect from='/home/device' to={`/home/device/${mergeData[0].id}`}/> : null\n          }\n        </UnitDetailsPageContent>\n      </UnitDetailsLayout>\n    )\n  }\n\n  addComponentToArray = (array, component) => {\n    return array.map((item) => {\n      return {...item, component}\n    });\n  };\n\n  // Table的列表头\n  getColumnList = () => {\n    return [\n      {\n        title: '类型', dataIndex: 'icon', key: 'icon',\n        render: (text, record) => (\n          <span>\n            {\n              record.recvServicePort\n                ? (<Icon type='desktop'/>)\n                : (<Icon type='database'/>)\n            }\n          </span>\n        ),\n      },\n      {title: '域名', dataIndex: 'domain', key: 'domain'},\n      {title: '端口', dataIndex: 'port', key: 'port'},\n      {title: '接收wowza端的端口', dataIndex: 'recvServicePort', key: 'recvServicePort'},\n      {title: '匹配状态', dataIndex: 'state', key: 'state'},\n      {title: '异常信息', dataIndex: 'eMessage', key: 'eMessage',}\n    ];\n  }\n}\n\nexport default DevicePage;","import styled from 'styled-components';\n\nexport const ResultWrapper = styled.div`\n  display: flex;\n  align-items: center; // 项目在交叉轴上的对齐方式\n  justify-content: center; // 项目在主轴上的对齐方式\n  height: 100%;\n`;","import React from 'react';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {getGroupNameList} from '../../redux';\nimport {actions as groupsActions} from '../../redux/groups.redux';\nimport isEmpty from 'lodash/isEmpty';\nimport {Result, Button, Icon, Spin} from 'antd';\nimport DevicePage from '../../component/devicePage/devicePage';\nimport {actions as wstreamActions} from '../../redux/wstream.redux';\nimport {getRequestQuantity} from '../../redux/app.redux';\nimport {getSingleGroupWowzaStreamInfo} from '../../redux/';\nimport {ResultWrapper} from './style';\n\nimport './style.css';\n\nclass Device extends React.Component {\n  render() {\n    const {singleGroup, modifyGroup, fetchWowzaInfo, wowzaStreamInfo, requestQuantity} = this.props;\n    // console.log('[Device]', singleGroup, isEmpty(singleGroup));\n    return (\n      <div\n        style={{height: '100%'}}\n      >\n        {\n          isEmpty(singleGroup)\n            ?\n            <ResultWrapper>\n              <Result\n                icon={<Icon type=\"usergroup-add\"/>}\n                title='你还没有组, 快点创建组吧'\n              />\n            </ResultWrapper>\n            : <DevicePage\n              singleGroup={singleGroup}\n              onModify={modifyGroup}\n              onFetchWowzaInfo={fetchWowzaInfo}\n              wowzaStreamInfo={wowzaStreamInfo}\n              requestQuantity={requestQuantity}\n            />\n        }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  // console.log('[device mapStateToProps]');\n  return {\n    groupNameList: getGroupNameList(state), // 所有组名\n    wowzaStreamInfo: getSingleGroupWowzaStreamInfo(state), // 获取指定group_id下的wowza流信息\n    requestQuantity: getRequestQuantity(state),\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    ...bindActionCreators(groupsActions, dispatch),\n    ...bindActionCreators(wstreamActions, dispatch)\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Device);\n\n/**\n * 执行顺序:\n * 1.mapStateToProps\n * 2.render\n * 3.componentDidMount\n * */\n\n// TODO: 制作子路由","import styled from 'styled-components';\n\nexport const MainLayout = styled.div`\n  display: grid;\n  height: 100%;\n  grid-template-rows: 40px calc(100% - 40px - 10px); // 行高设置\n  grid-template-columns: 455px 2px auto; // 列宽设置\n  grid-row-gap: 20px; // 行间距\n  grid-column-gap: 20px; // 列间距\n  padding: 20px;\n  grid-template-areas: \"groups_header_1 groups_header_2 groups_header_3\" \n  \"groups_content_1 groups_content_2 groups_content_3\"; // 2*3\n`;\n\n// 1*1\nexport const Header = styled.div`\n  display: flex;\n  grid-area: groups_header_1;\n`;\n\n// 1*2\nexport const Header_Divider = styled.div`\n  display: flex;\n  width: 2px;\n  height: 100%;\n  background-color: #545860;\n  grid-area: groups_header_2;\n`;\n\n// 1*3\nexport const Header_Hidden = styled.div`\n  display: flex;\n  grid-area: groups_header_3;\n`;\n\n// 2*1\nexport const Content_Group_Info = styled.div`\n  display: flex;\n  grid-area: groups_content_1;\n`;\n\n// 2*2\nexport const Content_Group_Divider = styled.div`\n  display: flex;\n  width: 2px;\n  height: 100%;\n  background-color: #545860;\n  grid-area: groups_content_2;\n`;\n\n// 2*3\nexport const Content_Group_Match = styled.div`\n  display: flex;\n  grid-area: groups_content_3;\n`;\n\n// 展示Group信息和匹配状态/2*1\nexport const Content_Sidebar = styled.div`\n  width: 455px;\n  overflow-y: auto;\n  border-radius: 7px;\n  background: #212a35;  \n  will-change: smooth;\n  transition: all .5s;\n`;\n\nexport const GroupsDetail = styled.div`\n  display: flex;\n  flex-direction: column !important; // 主轴为垂直方向, 起点为上沿\n  height: 100%;\n  padding-left: 20px;\n  padding-right: 20px;\n  // background: gold;\n`;\n\n// Group信息标题\nexport const GroupsDetailHeader = styled.div`\n  display: flex;\n  align-items: center; // 项目在交叉轴上对齐方式\n  min-height: 40px;\n  max-height: 40px;\n  border-bottom: 1px solid #545860;\n  margin-bottom: 10px;\n  color: #fff;\n  .title {\n    padding-left: 15px;\n    width: auto;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .auto {\n    margin-left: auto !important;\n  }\n`;\n\nexport const GroupDetailInfo = styled.div`\n  display: flex;\n  flex-direction: column !important;\n  flex-shrink: 0; // 当主轴空间不足时, 不缩放\n  min-height: 320px;\n  margin-bottom: 15px;\n  background-color: #343a41;\n`;\n\nexport const GroupDetailInfoLayout = styled.div`\n  display: grid;\n  grid-template-columns: 30% 70%;\n  grid-auto-rows: 40px; // 一行中未放置的地方, 自动生成网格\n  grid-row-gap: 20px; // 行间隙\n  align-items: center; // 项目在交叉轴上的定位方式\n  padding: 20px;\n  text-align: left;\n  color: #fff;\n  font-weight: 400;\n  font-size: 14px;\n`;\n\nexport const GroupDetailMatch = styled(GroupDetailInfo)``;\n\nexport const GroupDetailMatchLayout = styled(GroupDetailInfoLayout)``;\n\n// 匹配按钮\nexport const ButtonMatch = styled.div`\n  display: flex;\n  align-items: center !important; // 项目在交叉轴上的定位方式\n  width: 100%;\n  padding: 20px;\n  margin-top: auto !important;\n  justify-content: flex-end;\n \n  // background: gold;\n`;","import React from 'react';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {\n  actions as groupsActions,\n  getGroupMatchStatus,\n  getGroupStreamStatus,\n  getGroupById\n} from '../../redux/groups.redux';\nimport {getGroupListByGroupId} from '../../redux';\nimport {Icon, Button} from 'antd';\nimport {\n  MainLayout,\n  Header,\n  Header_Divider,\n  Header_Hidden,\n  Content_Group_Info,\n  Content_Group_Divider,\n  Content_Group_Match,\n  Content_Sidebar,\n  GroupsDetail,\n  GroupsDetailHeader,\n  GroupDetailInfo,\n  GroupDetailInfoLayout,\n  GroupDetailMatch,\n  GroupDetailMatchLayout,\n  ButtonMatch\n} from './style';\nimport Immutable from 'immutable';\n\nclass Groups extends React.Component {\n  state = {\n    disabled: false\n  };\n\n  render() {\n    const {completeGroup, groupMatchStatus, groupStreamStatus = false} = this.props;\n    const rawCompleteGroup = completeGroup.toJS();\n    // console.log('[Groups rawCompleteGroup]', rawCompleteGroup, Object.keys(rawCompleteGroup).length);\n    const fieldsObj = ['group_id', 'group', 'description', 'dState', 'status', 'eMessage'];\n    const fieldsArray = ['encodeDevices', 'recvStreamServices'];\n    let groupInfoArray = {};\n    if (!Object.keys(rawCompleteGroup).length) {\n      fieldsObj.forEach((item) => {\n        groupInfoArray[item] = undefined;\n      });\n      fieldsArray.forEach((item) => {\n        groupInfoArray[item] = [];\n      });\n    } else {\n      groupInfoArray = rawCompleteGroup;\n    }\n    // const test = 'false';\n    // console.log('[groupStreamStatus]', groupStreamStatus);\n    return (\n      <MainLayout>\n        <Header>\n          {/*Area 1*/}\n        </Header>\n        <Header_Divider/>\n        <Header_Hidden>\n          {/*Area 3*/}\n        </Header_Hidden>\n        {/*Area 4*/}\n        <Content_Group_Info>\n          <Content_Sidebar>\n            <GroupsDetail>\n              {/*标题*/}\n              <GroupsDetailHeader>\n                <Icon type=\"usergroup-add\"/>\n                <span className='title'>Group详细信息</span>\n              </GroupsDetailHeader>\n              <GroupDetailInfo>\n                <GroupDetailInfoLayout>\n                  <span>group_id</span>\n                  <div>{groupInfoArray.group_id ? groupInfoArray.group_id : 'null'}</div>\n                  <span>group</span>\n                  <div>{groupInfoArray.group ? groupInfoArray.group : 'null'}</div>\n                  <span>description</span>\n                  <div>{groupInfoArray.description ? groupInfoArray.description : 'null'}</div>\n                  <span>dState</span>\n                  <div>{groupInfoArray.dState ? groupInfoArray.dState : 'offline'}</div>\n                  <span>status</span>\n                  <div>{groupInfoArray.status === true ? 'true' : 'false'}</div>\n                  <span>eMessage</span>\n                  <div>{groupInfoArray.eMessage ? groupInfoArray.eMessage : 'null'}</div>\n                </GroupDetailInfoLayout>\n              </GroupDetailInfo>\n              <GroupDetailMatch>\n                <GroupDetailMatchLayout>\n                  <span>Group匹配状态</span>\n                  <div>{groupInfoArray.dState ? groupInfoArray.dState : 'null'}</div>\n                  <span>Encode匹配状态</span>\n                  <div>{groupInfoArray.encodeDevices.length ? groupInfoArray.encodeDevices[0].state : 'null'}</div>\n                  <span>Wowza匹配状态</span>\n                  <div>{groupInfoArray.recvStreamServices.length ? groupInfoArray.recvStreamServices[0].state : 'null'}</div>\n                  <span>推流状态</span>\n                  <div>{groupStreamStatus === true ? 'true' : 'false'}</div>\n                </GroupDetailMatchLayout>\n                <ButtonMatch>\n                  <Button\n                    type='primary'\n                    style={{marginLeft: 'auto !important'}}\n                    onClick={this.groupMatch}\n                    disabled={!(groupInfoArray.group_id && groupInfoArray.group)}\n                  >\n                    开始匹配\n                  </Button>\n                  <Button\n                    type='primary'\n                    style={{marginLeft: 15}}\n                    disabled={\n                      !groupInfoArray.group_id\n                      || !groupInfoArray.group\n                      || !groupInfoArray.encodeDevices.length\n                      || !groupInfoArray.recvStreamServices.length\n                      // || Object.is(groupStreamStatus, undefined)\n                      || !(Object.is(groupMatchStatus, 'ready')\n                      )}\n                    onClick={this.pushStream}\n                  >\n                    {groupStreamStatus === true ? '停止推流' : '开始推流'}\n                  </Button>\n                  {/*<Button>停止推流</Button>*/}\n                </ButtonMatch>\n              </GroupDetailMatch>\n            </GroupsDetail>\n          </Content_Sidebar>\n        </Content_Group_Info>\n        <Content_Group_Divider/>\n        <Content_Group_Match>\n          {/*Area 6*/}\n        </Content_Group_Match>\n      </MainLayout>\n    )\n  }\n\n  // 匹配转发流Group\n  groupMatch = () => {\n    const {group, group_id} = this.props.completeGroup.toJS();\n    this.props.matchGroup({group, group_id});\n  };\n\n  // 开始推流\n  pushStream = () => {\n    // console.log('[开始推流]', group, '***', group_id, '***', encodeDevices[0].id, '***', recvStreamServices[0].id);\n    const {group, group_id, encodeDevices, recvStreamServices} = this.props.completeGroup.toJS();\n    const encodeDevice_id = encodeDevices[0].id;\n    const recvStreamService_id = recvStreamServices[0].id;\n    const {groupStreamStatus} = this.props;\n\n    if (groupStreamStatus) {\n      // 正在推流, 调用停止推流动作\n      this.props.finishPushStream({group, group_id});\n    } else {\n      // 开始推流\n      this.props.startPushStream({group, group_id, encodeDevice_id, recvStreamService_id});\n    }\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  const group_id = props.group_id;\n  // console.log('[Groups.js/group_id]', group_id);\n  return {\n    completeGroup: group_id ? getGroupListByGroupId(state, group_id) : Immutable.fromJS({}), // 单个组完整信息\n    groupMatchStatus: group_id ? getGroupMatchStatus(state, group_id) : 'offline', // 匹配状态: group_id ? getGroupMatchStatus(state, group_id) : 'offline', // 匹配状态\n    groupStreamStatus: group_id ? getGroupStreamStatus(state, group_id) : false, // 推流状态\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    ...bindActionCreators(groupsActions, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Groups);","import styled from 'styled-components';\n\nexport const ResultWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n`;\n\nexport const SpinWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  background-color: blue;\n`;","import React from 'react';\nimport {Icon, Result, Spin} from 'antd';\nimport {ResultWrapper, SpinWrapper} from './style';\n\nclass Server extends React.Component {\n  render() {\n    return (\n      <div style={{height: '100%'}}>\n        <ResultWrapper>\n          <Result\n            icon={<Icon type='bulb'/>}\n            // icon={{}}\n            title={\n              <pre>\n                服务未启用<br/>\n                请联系技术支持\n              </pre>\n            }\n          />\n        </ResultWrapper>\n        <SpinWrapper>\n          <Spin spinning={true}>\n            <div style={{width: 400, height: 400, border: '1px solid red'}}>123</div>\n          </Spin>\n        </SpinWrapper>\n      </div>\n    )\n  }\n}\n\nexport default Server;","import styled from 'styled-components';\n\nexport const MainLayout = styled.div`\n  display: grid;\n  width: 100vw; // 视口宽度\n  height: 100vh; // 视口高度\n  grid-template-columns: auto 1fr;// 列, auto: 表示根据宽度自定义\n  grid-template-rows: 60px calc(100vh - 60px); // 行\n  grid-template-areas: \"header-logo header-navbar\" \"page-content page-content\";\n  // background: #363A45;\n`;\n\n// 项目:\n/*\n *  <div style={display: flex;}> --- 采用flex布局的元素, 成为flex容器, 简称容器\n *      <div>...</div> --- 子元素, 成为容器成员, 简称项目\n *  </div>\n * 注意: grid和flex都有justify-content, align-content等属性, 不要混淆.\n * */\n\n// logo\nexport const HeaderLogo = styled.div`\n  grid-area: header-logo;\n  display: flex !important;\n  width: 260px;\n  justify-content: center !important; // 项目在主轴上的对齐方式\n  align-content: center !important; // 多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用\n  align-items: center !important; // 项目交叉轴上如何对齐\n  background: #161b21;\n  img {\n    height: 100%;\n  }\n`;\n\n// 导航条\nexport const HeaderNavbar = styled.div`\n  grid-area: header-navbar;\n  position: relative;\n  display: flex;\n  flex-flow: row nowrap; // 主轴为水平方向, 左端为起点(默认值); 不换行\n  justify-content: flex-start; // 项目在主轴上的对齐方式\n  align-items: center; // 项目在交叉轴上的对齐方式\n  ul {\n    display: flex;\n    flex-direction: row;\n    list-style: none;\n    color: #fff;\n    li {\n      border: 1px solid gold;\n      display: flex;\n      width: 110px; \n      align-items: baseline !important;\n      height: 60px;\n      line-height: 60px;\n      text-align: center;\n      justify-content: center;\n    }\n  }\n  background: #212a35;\n`;\n\n// 内容(过滤FilterSideBar + Content)\nexport const PageContent = styled.div`\n  grid-area: page-content;\n  display: flex;\n  height: 100%; // MainLayout calc(100vh - 60px)\n`;\n\nexport const UnitContent = styled.div`\n  width: 100%;\n  height: 100%;\n  margin-left: 260px;\n  background: #343a41;\n`;","import React from 'react';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {Route, Switch, Redirect, Link} from 'react-router-dom';\n\n// component\nimport UserInfo from '../../component/userInfo/userInfo';\nimport FilterSideBar from '../../component/filterSideBar/filterSideBar';\nimport Modal from '../../component/modal/modal';\nimport Device from '../device/device'; // 设备Device\nimport Groups from '../groups/groups'; // 组信息, 暂时写在这里, 匹配使用\nimport Server from '../server/server'; // 服务, 暂不开通\n\n// selector\nimport {actions as authActions, getLoggedUser} from '../../redux/auth.redux';\nimport {actions as groupsActions} from '../../redux/groups.redux';\nimport {actions as usersActions} from '../../redux/users.redux';\nimport {\n  actions as uiActions,\n  getDeviceStatus,\n  getDeviceType,\n  getSelectedItem,\n  getSelectedMenuItem,\n} from '../../redux/ui.redux';\nimport {getRedirectTo, getError, getRequestQuantity} from '../../redux/app.redux';\nimport {\n  getGroupNameList,\n  getSingleGroupBySelectedItem,\n  getDetaultGroup,\n  getSelectedItemToUse,\n  getSelectedMenuItemToUse,\n  getUseRedirectTo,\n} from '../../redux';\nimport {getResponseInfo} from '../../redux/response.redux';\n\n// utils\nimport {setLocalStorage, removeLocalStorage} from '../../utils/utils';\nimport isEmpty from 'lodash/isEmpty';\n\n// antd\nimport {Menu, Icon, Spin} from 'antd';\n\n// styled-component\nimport {MainLayout, HeaderLogo, HeaderNavbar, PageContent, UnitContent} from './style';\n\nclass Home extends React.PureComponent {\n  state = {\n    current: 'device',\n  };\n\n  render() {\n    const {\n      user,\n      groupNameList,\n      deviceStatus,\n      deviceType,\n      setDeviceStatus,\n      setDeviceType,\n      clearDeviceStatus,\n      clearDeviceType,\n      setSelectedItem, // 设置<select>选中项\n      redirectTo, // 跳转\n      singleGroup,\n      useSelectedItem,\n      useDefaultGroup,\n      useRedirectTo,\n      useSelectedMenuItem,\n      error,\n      responseInfo,\n    } = this.props;\n    const rawGroupNameList = groupNameList.toJS();\n    const rawUser = user.toJS();\n    const rawDeviceStatus = deviceStatus.toJS();\n    const rawDeviceType = deviceType.toJS();\n    const rawSingleGroup = singleGroup.toJS();\n\n    // console.log('[home.js useSelectedMenuItem]', useSelectedMenuItem);\n\n    return (\n      <MainLayout>\n        {\n          responseInfo.size\n            ? (\n              <Modal\n                type={responseInfo.get('status') ? 'success' : 'error'}\n                message={responseInfo.getIn(['info', 'title'])}\n                description={responseInfo.getIn(['info', 'info'])}\n              />\n            )\n            : null\n        }\n        {\n          useRedirectTo ? <Redirect to={useRedirectTo}/> : null\n        }\n        {\n          redirectTo ? <Redirect to={redirectTo}/> : null\n        }\n        <HeaderLogo>\n          <img src={require(\"../../images/logo.png\")} alt=\"\"/>\n        </HeaderLogo>\n        <HeaderNavbar>\n          <Menu\n            mode=\"horizontal\"\n            theme='dark'\n            selectedKeys={[useSelectedMenuItem]}\n            onClick={this.handleClick}\n          >\n            <Menu.Item key=\"device\">\n              <Link to='/home/device'>\n                <Icon type='appstore'/>\n                设备\n              </Link>\n            </Menu.Item>\n            <Menu.Item key='groups'>\n              <Link to='/home/groups'>\n                <Icon type='setting'/>\n                Groups\n              </Link>\n            </Menu.Item>\n            <Menu.Item key='server'>\n              <Link to='/home/server'>\n                <Icon type=\"cloud-server\"/>\n                服务\n              </Link>\n            </Menu.Item>\n          </Menu>\n          <UserInfo\n            user={rawUser}\n            // username={rawUsername}\n            groupNameList={rawGroupNameList}\n            selectedItem={useSelectedItem}\n            // defaultSelectedItem={defaultSelectedItem}\n            // defaultSelectedItem={defaultSelectedItemV2}\n            defaultSelectedItem={useDefaultGroup}\n            onSelectedItem={setSelectedItem}\n            onCreateNewGroup={this.props.createGroup}\n            // onRefreshGroup={this.props.fetchGroupInfo}\n            onDeleteGroup={this.props.deleteGroup}\n            onDeleteAllGroup={this.props.deleteAllGroup}\n            onLogout={this.props.logout}\n            removeLocalStorage={removeLocalStorage}\n          />\n        </HeaderNavbar>\n\n        <PageContent>\n          <FilterSideBar\n            onSetDeviceStatus={setDeviceStatus}\n            onSetDeviceType={setDeviceType}\n            rawDeviceStatus={rawDeviceStatus}\n            rawDeviceType={rawDeviceType}\n            onClearDeviceStatus={clearDeviceStatus}\n            onClearDeviceType={clearDeviceType}\n          />\n          <UnitContent>\n            <Switch>\n              <Route path='/home/device' render={() => <Device singleGroup={rawSingleGroup}/>}/>\n              <Route path='/home/groups' exact render={() => <Groups group_id={useSelectedItem}/>}/>\n              <Route path='/home/server' exact render={() => <Server/>}/>\n            </Switch>\n          </UnitContent>\n        </PageContent>\n      </MainLayout>\n    )\n  }\n\n  // 切换标签页面\n  handleClick = (e) => {\n    this.props.setSelectedMenuItem(e.key);\n  };\n\n  componentDidMount() {\n    // 第一次渲染\n    const groupNameList = this.props.groupNameList.toJS();\n    groupNameList.map((item) => {\n      // 请求单一组信息\n      this.props.fetchGroupInfo({group: item.group, group_id: item.group_id});\n    });\n\n    // 拦截判断是否离开当前页面\n    window.addEventListener('beforeunload', this.beforeunload);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    // 刷新页面\n    const groupNameList = this.props.groupNameList.toJS();\n    if (groupNameList.length !== prevProps.groupNameList.size) {\n      groupNameList.map((item) => {\n        this.props.fetchGroupInfo({group: item.group, group_id: item.group_id});\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    // 销毁拦截判断是否离开当前页面\n    window.removeEventListener('beforeunload', this.beforeunload);\n  }\n\n  beforeunload = (e) => {\n    const {selectedItem, selectedMenuItem} = this.props;\n    setLocalStorage('selectedItem', selectedItem);\n    setLocalStorage('selectedMenuItem', selectedMenuItem);\n  };\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n    user: getLoggedUser(state), // 登录用户名\n    // username: getUserName(state), // 登录用户名, 刷新页面, 从cookie里获取\n    groupNameList: getGroupNameList(state), // 所有组名\n    deviceStatus: getDeviceStatus(state), // 状态过滤\n    deviceType: getDeviceType(state), // 种类过滤\n    redirectTo: getRedirectTo(state), // 跳转\n    selectedItem: getSelectedItem(state), // group_id, 刷新, 保存到localStorage\n    selectedMenuItem: getSelectedMenuItem(state), // <Menu>当前选中项, 刷新, 保存到localStorage\n    singleGroup: getSingleGroupBySelectedItem(state), // 单一组信息, 基于useSelectedItem\n    // defaultSelectedItem: getDetaultSelectedItem(state), // 指定默认的selectedItem, group\n    // defaultSelectedItemV2: getDetaultGroup(state),\n    useSelectedItem: getSelectedItemToUse(state),\n    useDefaultGroup: getDetaultGroup(state),\n    useSelectedMenuItem: getSelectedMenuItemToUse(state),\n    useRedirectTo: getUseRedirectTo(state),\n    error: getError(state), // 错误信息\n    responseInfo: getResponseInfo(state), // 获取请求响应数据\n    requestQuantity: getRequestQuantity(state), // 获取当前应用正在进行的API请求数\n  }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    ...bindActionCreators(usersActions, dispatch),\n    ...bindActionCreators(groupsActions, dispatch),\n    ...bindActionCreators(uiActions, dispatch),\n    ...bindActionCreators(authActions, dispatch)\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n\n/**\n * 所有API都已经实现\n * 1.重新树立路由\n *  (1)分为主路由:\n *    /home/device\n *    /home/groups\n *    /home/server\n *  (2)次级路由:\n *    /home/device/:group_id\n *  (3)三级路由:\n *    /home/device/:group_id/:encodeId\n *    /home/device/:group_id/:wowzaId\n *\n * 2.规划好'redirectTo'这个字段, 该字段能够决定页面加载完成后, 跳转的默认路由\n * */\n\n/**\n * selectedItem和selectedMenuItem\n * 1.selectedMenuItem决定了展示哪个路由界面\n * 2.selectedItem决定了展示哪个组的数据\n * 3.先进路由, 在使用selectedItem进行切换\n * 也就是说, 我们先选则进入哪个路由界面, 然后在将对应组的数据展示上去\n * 顺序:\n * (1)selectedMenuItem\n * (2)selectedItem\n *\n * 4.在使用selectedItem之前, 会调用getSelectedItemToUse(), 进行处理, 生成useSelectedItem.\n * 保存到localstorage时, 使用selectedItem.\n * 数据展示或计算时, 使用useSelectedItem.\n *\n * 5.在使用selectedMenuItem之前, 会调用getSelectedMenuItemToUse(), 进行处理, 生成useSelectedMenuItem.\n * 保存到localstorage时, 使用selectedMenuItem.\n * 制作路由时, 使用useSelectedMenuItem.\n * 登录成功后, selectedMenuItem已经被设置成'device'\n * 所以只有selectedMenuItem只有2种状态:\n * (1)登录成功/创建组/删除组:\n * (2)刷新组:\n *\n * 6.登录跳转使用, redirectTo\n *   进入页面后跳转, 使用useRedirectTo\n * */\n\n/**\n * TODO: 决定哪些请求需要 展示成功和失败消息\n * 1.登录, 登出, 修改密码, 创建组, 修改组, 删除组, 匹配组, 开始推流, 结束推流, 删除所有组\n * */\n\n\n\n","import styled from 'styled-components';\nimport poster from '../../images/poster.jpg';\nimport tube from '../../images/tube.png';\n\nexport const LoginMain = styled.div`\n  background: rgba(0,0,0,0) url(${poster}) repeat scroll 0 0 ;\n  background-size: auto 40%;\n  color: #fff;\n  font-family: '黑体', sans-serif;\n  font-size: 16px;\n  font-weight: lighter;\n`;\n\nexport const LoginWrapper = styled.div`\n  margin: 0 auto;\n  width: 600px;\n  // height: 100vh; // 视口高度\n  overflow: hidden;\n  background: rgba(0,0,0,0) url(${tube}) repeat scroll 0 0 ;\n`;\n\nexport const LoginContainer = styled.div`\n  position: relative;\n  margin: 0 auto;\n  width: 320px;\n  margin-bottom: 15px;\n`;\n\nexport const Logo = styled.div`\n  \n`;\n\nexport const Title = styled.div`\n  margin-top: 35px;\n  margin-bottom: 15px;\n  padding-bottom: 5px;\n  border-bottom: 1px solid #3e424d;\n`;","import React from 'react';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {Redirect} from 'react-router-dom';\nimport Modal from '../../component/modal/modal'; // 弹窗\nimport {Form, Input, Icon, Checkbox, Button} from 'antd';\nimport {LoginWrapper, LoginContainer, LoginMain, Logo, Title} from './style';\nimport {actions as appActions, getError, getRedirectTo} from '../../redux/app.redux';\nimport {actions as authActions} from '../../redux/auth.redux';\nimport {actions as vcodeActions, getVerifyCodeImg} from '../../redux/vcode.redux';\nimport {actions as uiActions, isRememberAccount} from '../../redux/ui.redux';\nimport {getResponseInfo} from '../../redux/response.redux';\nimport {removeLocalStorage, getLocalStorage} from '../../utils/utils';\n\n\nclass Login extends React.Component {\n  state = {\n    confirmDirty: false,\n    height: window.innerHeight, // 浏览器高度\n  };\n\n  render() {\n    // console.log('[login]', getLocalStorage('selectedMenuItem'));\n    const {verifyCodeImg, isRememberAccount, redirectTo, error, responseInfo} = this.props;\n    return (\n      <LoginMain>\n        {/*{error ? <Modal type='error' message={'登录失败'} description={error}/> : null}*/}\n        {/*只展示错误信息, 成功信息在home.js里展示*/}\n        {\n          (responseInfo.size && !responseInfo.get('status'))\n            ? (\n              <Modal\n                type={'error'}\n                message={responseInfo.getIn(['info', 'title'])}\n                description={responseInfo.getIn(['info', 'info'])}/>\n            )\n            : null\n        }\n        {\n          (redirectTo && redirectTo !== '/login' && redirectTo !== '/')\n            ? (<Redirect to={redirectTo}/>)\n            : null\n        }\n        <LoginWrapper style={{height: this.state.height}}>\n          <LoginContainer style={{marginTop: (this.state.height * 3 / 14)}}>\n            <Logo>\n              <img src={require('../../images/logo.png')} alt=\"\"/>\n            </Logo>\n            <Title>\n              登录\n            </Title>\n            <LoginInputForm\n              wrappedComponentRef={this.saveFormRef}\n              onSubmit={this.handleSubmit}\n              onChange={this.handleChange}\n              verifyCodeImg={verifyCodeImg}\n              isRememberAccount={isRememberAccount}\n              onUpdateVCode={this.updateVCode}\n            />\n          </LoginContainer>\n        </LoginWrapper>\n      </LoginMain>\n    )\n  }\n\n  saveFormRef = (formRef) => {\n    this.formRef = formRef;\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const {form} = this.formRef.props;\n    form.validateFields((err, values) => {\n      if (!err) {\n        // console.log('登录', values);\n        this.props.login(values);\n        this.updateVCode();\n      }\n    });\n  };\n\n  // checkbox状态改变\n  handleChange = (e) => {\n    e.target.checked\n      ? this.props.openRememberAccount()\n      : this.props.closeRememberAccount()\n  };\n\n  // 更新验证码\n  updateVCode = () => {\n    this.props.fetchVerifyCode();\n  };\n\n  componentDidMount() {\n    // 获取验证码图片\n    this.props.fetchVerifyCode();\n    // 监听页面高度变化\n    const _this = this;\n    window.onresize = function () {\n      if (window.innerHeight > 600) {\n        _this.setState({height: window.innerHeight});\n      }\n    };\n    // 清除localStorage\n    removeLocalStorage('selectedItem');\n    removeLocalStorage('selectedMenuItem');\n  }\n}\n\n\n// 匿名登录输入框组件\nconst LoginInputForm = Form.create({name: 'login_input_form'})(\n  class extends React.Component {\n    render() {\n      const {getFieldDecorator} = this.props.form;\n      const {onSubmit, onChange, verifyCodeImg, isRememberAccount, onUpdateVCode} = this.props;\n      return (\n        <Form onSubmit={onSubmit}\n              style={{width: '100%'}}\n        >\n          <Form.Item>\n            {\n              getFieldDecorator('user', {\n                rules: [{required: true, message: 'Please input your username!'}]\n              })(\n                <Input\n                  prefix={<Icon type='user' style={{color: 'rgba(0, 0, 0, .25)'}}/>}\n                  placeholder='Username'\n                  size='large'\n                  allowClear\n                />\n              )\n            }\n          </Form.Item>\n          <Form.Item>\n            {\n              getFieldDecorator('password', {\n                rules: [{required: true, message: 'Please input your password!'}]\n              })(\n                <Input.Password\n                  prefix={<Icon type='lock' style={{color: 'rgba(0,0,0,.25)'}}/>}\n                  placeholder='Password'\n                  type='password'\n                  size='large'\n                />\n              )\n            }\n          </Form.Item>\n          <Form.Item>\n            {\n              getFieldDecorator('verifyCode', {\n                rules: [{required: true, message: 'Please input verifyCode!'}]\n              })(\n                <div>\n                  <Input\n                    prefix={<Icon type=\"barcode\" style={{color: 'rgba(0,0,0,.25)'}}/>}\n                    placeholder='verifyCode'\n                    size='large'\n                    style={{width: 'calc(100% - 80px)'}}\n                  />\n                  <div style={{\n                    display: 'inline-block',\n                    width: 80,\n                    height: 40,\n                    verticalAlign: 'top',\n                  }}>\n                    <div style={{\n                      width: '100%',\n                      height: '100%',\n                      background: '#fff'\n                    }}>\n                      <img\n                        // src={require('../../images/cnValidateImage.png')}\n                        src={verifyCodeImg}\n                        style={{width: '100%', height: '100%', verticalAlign: 'top', cursor: 'pointer'}}\n                        alt=\"\"\n                        onClick={onUpdateVCode}\n                      />\n                    </div>\n                  </div>\n                </div>\n              )\n            }\n          </Form.Item>\n          <Form.Item>\n            <Checkbox checked={isRememberAccount} onChange={onChange}\n                      style={{color: '#fff', fontWeight: '700'}}\n            >\n              记住我\n            </Checkbox>\n          </Form.Item>\n          <Form.Item>\n            <Button type='primary' htmlType='submit' className=\"login-form-button\" size='large'\n                    block\n                    disabled={!verifyCodeImg}>登录</Button>\n          </Form.Item>\n        </Form>\n      )\n    }\n  }\n);\n\n\nconst WrappedLoginForm = Form.create({name: 'login'})(Login);\n\nconst mapStateToProps = (state, props) => {\n  return {\n    verifyCodeImg: getVerifyCodeImg(state), // 验证码 图片\n    isRememberAccount: isRememberAccount(state), // 记住密码\n    redirectTo: getRedirectTo(state), // 跳转\n    error: getError(state), // 错误信息\n    responseInfo: getResponseInfo(state), // 获取请求响应数据\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => { // 操作的方法\n  return {\n    ...bindActionCreators(authActions, dispatch),\n    ...bindActionCreators(vcodeActions, dispatch),\n    ...bindActionCreators(uiActions, dispatch),\n    ...bindActionCreators(appActions, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WrappedLoginForm);","import React from 'react';\nimport {Result, Button} from 'antd';\n// import PropTypes from 'prop-types';\n\nclass NotFound extends React.Component {\n  // static propTypes = {\n  //   onClick: PropTypes.func.isRequired\n  // };\n\n  render() {\n    return (\n      <Result\n        status=\"warning\"\n        title=\"There are some problems with your operation.\"\n        extra={\n          <Button type=\"primary\" key=\"console\" onClick={this.handleClick}>\n            Back Home\n          </Button>\n        }\n      />\n    )\n  }\n\n  handleClick = () => {\n    this.props.history.push('/home');\n  };\n}\n\nexport default NotFound;","import React from 'react';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {withRouter} from 'react-router-dom';\nimport axios from 'axios';\n// import {loadData} from '../../redux/user.redux';\nimport {actions as usersAction} from '../../redux/users.redux.js';\n\n@withRouter\nclass AuthRouter extends React.Component {\n\n  componentDidMount() {\n    // 根据用户信息获取来判断, 用户是否登录\n    console.log('[认证路由]', this.props.location.pathname);\n    const publicPath = ['/', '/login'];\n    if (publicPath.findIndex((name) =>\n      Object.is(name, this.props.location.pathname)\n    ) > -1) {\n      return null;\n    }\n\n    // console.log('[authRouter.js/fetchUserInfo]');\n    // 获取当前用户信息\n    this.props.fetchUserInfo();\n\n    // axios.post('/users/userInfo') // 真实接口\n    // // axios.get('/users/userInfo.json')\n    //   .then(res => {\n    //     // console.log('[AuthRouter res]', res);\n    //     if (res.status === 200) {\n    //       if (res.data.status) {\n    //         // 获取用户信息成功\n    //         // console.log('获取用户信息成功');\n    //         this.props.loadData(res.data);\n    //       } else {\n    //         // 获取用户信息失败, 跳转到登录界面\n    //         // console.log('获取用户信息失败, 跳转到登录界面');\n    //         this.props.history.push('/login');\n    //       }\n    //     }\n    //   })\n    //   .catch(err => {\n    //     console.log('[AuthRouter err]', err);\n    //   });\n  }\n\n  render() {\n    return null;\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    ...bindActionCreators(usersAction, dispatch),\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(AuthRouter);","import React from 'react';\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {Button, Form, Select} from 'antd';\nimport {actions as appActions, getRequestQuantity, getError} from '../../redux/app.redux';\nimport {actions as groupsActions, getGroupStreamStatus} from '../../redux/groups.redux';\nimport Immutable from 'immutable';\n\nclass TestRedux extends React.Component {\n  render() {\n    return (\n      <div>\n      </div>\n    )\n  }\n\n}\n\nconst mapStateToProps = (state, props) => {\n  // console.log('[mapStateToProps]', state);\n  return {\n    requestQuantity: getRequestQuantity(state),\n    error: getError(state),\n    streamStatus: getGroupStreamStatus(state, 'sd0abd9249451d0fdbf0e1406f5d9e6a'),\n  }\n};\nconst mapDispatchToProps = (dispatch) => ({\n  ...bindActionCreators(appActions, dispatch),\n  ...bindActionCreators(groupsActions, dispatch)\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TestRedux);\n\n/**\n * 问题: 推流后, status更新为true, 值提取时是undefined\n * */","import React from \"react\";\nimport {formShape} from \"rc-form\";\n\nclass Form extends React.Component {\n  static propTypes = {\n    form: formShape,\n  };\n\n  render() {\n    const {getFieldProps, getFieldError} = this.props.form;\n    const errors = getFieldError('email');\n    return (\n      <div style={{border: '1px solid red', padding: 10}}>\n        <div>email:</div>\n        <div>\n          <input {...getFieldProps('email', {\n            rules: [{type: 'email'}]\n          })}/>\n        </div>\n        <div>\n          {(errors) ? errors.join(',') : null}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Form;\n\n\n/**\n * 使用rc-form, 创建原生Form(类似antd的Form)\n * 1.Form具有email类型校验功能\n * */","import React from 'react';\nimport {bindActionCreators} from \"redux\";\nimport {connect} from 'react-redux';\nimport {actions as rcformActions, getEmail} from \"../../redux/rcform.redux\";\nimport {createForm, createFormField} from 'rc-form';\nimport Form from '../form/form';\n\nconst NewFormWrapped = createForm({\n  mapPropsToFields(props) {\n    // console.log('[mapPropsToFields props]', props);\n    // 注意props.formState.email >>> 输出Immutable.Map({}) >>> toJS(), 转成普通JS对象\n    return {email: createFormField(props.formState.email.toJS())} // 注意：mapPropsToFields 里面返回的表单域数据必须使用 Form.createFormField 包装。\n  },\n  onFieldsChange(props, fields) {\n    console.log('[onFieldsChange fields]', fields);\n    // 发布更新\n    props.setEmail(fields);\n  }\n})(Form);\n\nconst mapStateToProps = (state, props) => {\n  return {\n    formState: {email: getEmail(state)} // 展示的数据\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    ...bindActionCreators(rcformActions, dispatch)\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewFormWrapped);\n\n/**\n * 同步, 2个方面:\n * 1.从redux中同步数据\n * 2.数据更新同步到redux\n *\n * setEmail()格式: {email: {value: 'chaojundu@diadem-tech.cn'}}\n * */\n\n// const NewForm = connect(\n//\n// *** mapStateToProps\n// (state) => {\n//   return {\n//     formState: {\n//       email: state.form.email,\n//     },\n//   };\n// })\n//\n// *** WrappedComponent 组件\n// (createForm\n//\n//  ({\n//    mapPropsToFields(props) {\n//       console.log('mapPropsToFields', props);\n//      return {\n//         email: createFormField(props.formState.email),\n//       };\n//     },\n//    onFieldsChange(props, fields) {\n//       console.log('onFieldsChange', fields);\n//       props.dispatch({\n//        type: 'save_fields',\n//        payload: fields,\n//      });\n//    },\n//  })\n//  ***\n//  (Form)\n// );\n\n// NewForm = connect(...)(...) 相当于:\n// connect(mapStateToProps, mapDispatchToProps)(WrapperComponent组件);\n//\n// createForm 相当于 WrapperComponent组件\n// import {Form} from 'antd';\n// const WrappedComponent = Form.create({name: ''})(匿名组件);\n// 匿名组件, 作用: 一般检查字段的验证规则和错误信息展示\n\n// 相当于当前的Form组件(使用rc-form封装的Form组件)\n// mapPropsToFields:\n// 1.将props中的值value转到field中\n// 2.用于redux存储/读取字段\n// 参考: Antd/Form/表单数据存储于上层组件/mapPropsToFields\n\n// onFieldsChange:\n// 1.字段更改时调用\n// 2.可将字段dispatch到redux, 更新字段\n// 参考: Antd/Form/表单数据存储于上层组件/onFieldsChange","import React from \"react\";\nimport {connect} from 'react-redux';\nimport PropTypes from \"prop-types\";\nimport {bindActionCreators} from \"redux\";\nimport {actions as rcformActions, getEmail} from \"../../redux/rcform.redux\";\n\nclass Out extends React.Component {\n  static propTypes = {\n    email: PropTypes.object,\n    dispatch: PropTypes.func\n  };\n\n  setEmail = () => {\n    this.props.setEmail({\n      email: {\n        value: 'chaojundu@diadem-tech.cn' // 点击设置固定值\n      }\n    });\n  };\n\n  render() {\n    const {email} = this.props;\n    return (\n      <div style={{border: '1px solid green', padding: 10}}>\n        <div>\n          email: {email && email.value}\n          {/*文本: {如果email存在 ? 展示email.value值}*/}\n        </div>\n        <button onClick={this.setEmail}>set</button>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n    email: getEmail(state),\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    ...bindActionCreators(rcformActions, dispatch)\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Out);\n\n/**\n * 输出组件:\n * 1.从rcform.redux中获取email字段, 展示\n * 2.从rcform.redux中获取setEmail()方法, 设置固定值(固定值>>>redux>>>out)\n * */","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {createStore, applyMiddleware} from 'redux';\nimport thunk from 'redux-thunk';\nimport {Provider} from 'react-redux';\nimport logger from 'redux-logger';\nimport {composeWithDevTools} from \"redux-devtools-extension\";\nimport {BrowserRouter as Router, Switch, Route, Redirect} from 'react-router-dom';\nimport reducers from './reducers';\n\nimport Home from './container/home/home';\nimport Login from './container/login/login';\nimport NotFound from './container/notfound/notFound';\nimport AuthRouter from './component/authrouter/authrouter';\nimport TestRedux from './container/testRedux/testRedux';\nimport RcForm from './container/rcform/rcform';\n\n\nconst store = createStore(\n  reducers,\n  composeWithDevTools(\n    applyMiddleware(\n      thunk,\n      // logger\n    ),\n  )\n);\n\nconst AppProvider = (\n  <Provider store={store}>\n    <Router>\n      <AuthRouter/>\n      <Switch>\n        <Route path='/' exact component={Login}/>\n        <Route path='/login' component={Login}/>\n        <Route path='/home' component={Home}/>\n        {/*<Route path='/test' component={TestRedux}/>*/}\n        {/*<Route path='/rcform' component={RcForm}/>*/}\n        <Route component={NotFound}/>\n      </Switch>\n    </Router>\n  </Provider>\n);\n\nReactDOM.render(AppProvider, document.getElementById('root'));\n","import React from 'react';\nimport NewForm from '../newForm/newForm';\nimport Out from '../out/out';\n\nclass RcForm extends React.Component {\n  render() {\n    return (\n      <div>\n        <h2>integrate with redux</h2>\n        <NewForm/>\n        <Out/>\n      </div>\n    )\n  }\n}\n\nexport default RcForm;\n\n/**\n * 集成到redux\n * 1.setEmail参数格式: {email: {value: 'chaojundu@diadem-tech.cn'}}\n *\n * 项目文件:\n * 1.form\n * 2.out\n * 3.newForm\n * */"],"sourceRoot":""}